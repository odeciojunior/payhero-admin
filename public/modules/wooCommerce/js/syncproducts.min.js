$(document).ready((function(){var o=$(window.location.pathname.split("/")).get(-1);$.ajax({method:"POST",url:"/api/apps/woocommerce/keys/get?projectId="+o,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(o){$("#modal-content").hide(),errorAjaxResponse(o)},success:function(o){$("#consumer_k").attr("placeholder",o.consumer_k+"..."),$("#consumer_s").attr("placeholder",o.consumer_s+"...")}}),$("#bt-modal-woocommerce-apikeys").click((function(){var e=$("#consumer_k").val(),a=$("#consumer_s").val();if(!e||!a)return alertCustom("error","Informe os novos valores das chaves de acesso!"),!1;$.ajax({method:"POST",data:{consumer_key:e,consumer_secret:a},url:"/api/apps/woocommerce/keys/update?projectId="+o,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(o){$("#modal-content").hide(),errorAjaxResponse(o)},success:function(o){$("#close-modal").click(),1==o.status?alertCustom("success","Chaves de acesso atualizadas com sucesso!"):alertCustom("error","Erro ao atualizar as chaves!")}})})),$("#bt-modal-sync-woocommerce").click((function(){var e=$("#opt_prod").is(":checked"),a=$("#opt_track").is(":checked"),t=$("#opt_webhooks").is(":checked");if(!e&&!a&&!t)return alertCustom("error","Selecione uma ou mais categorias de dados para sincronizar!"),$("#close-modal").click(),!1;$("#_content").hide(),$("#_loading").show(),$.ajax({method:"POST",data:{opt_prod:e,opt_track:a,opt_webhooks:t},url:"/api/apps/woocommerce/synchronize/products?projectId="+o,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(o){$("#modal-content").hide(),errorAjaxResponse(o)},success:function(o){$("#close-modal").click(),setTimeout((function(){$("#_loading").hide(),$("#_content").show()}),200),1==o.status?alertCustom("success","Sincronização de dados foi iniciada!"):alertCustom("error","Já existe uma sincronização de dados em andamento!")}})}))}));
