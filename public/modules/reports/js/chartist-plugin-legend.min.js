var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"function"==typeof define&&define.amd?define(["chartist"],(function(i){return e.returnExportsGlobal=t(i)})):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(require("chartist")):e["Chartist.plugins.legend"]=t(e.Chartist)}(this,(function(e){"use strict";var t={className:"",classNames:!1,removeAll:!1,legendNames:!1,clickable:!0,onClick:null,position:"top"};return e.plugins=e.plugins||{},e.plugins.legend=function(i){function n(e,t){return e-t}if(i&&i.position){if(!("top"===i.position||"bottom"===i.position||i.position instanceof HTMLElement))throw Error("The position you entered is not a valid position");if(i.position instanceof HTMLElement){var s=i.position;delete i.position}}return i=e.extend({},t,i),s&&(i.position=s),function(t){var s=t.container.querySelector(".ct-legend");if(s&&s.parentNode.removeChild(s),i.clickable){var a=t.data.series.map((function(i,n){return"object"!=(void 0===i?"undefined":_typeof(i))&&(i={value:i}),i.className=i.className||t.options.classNames.series+"-"+e.alphaNumerate(n),i}));t.data.series=a}var o=document.createElement("ul"),l=t instanceof e.Pie;o.className="ct-legend",t instanceof e.Pie&&o.classList.add("ct-legend-inside"),"string"==typeof i.className&&i.className.length>0&&o.classList.add(i.className),t.options.width&&(o.style.cssText="width: "+t.options.width+"px;margin: 0 auto;");var r=[],c=t.data.series.slice(0),d=t.data.series,p=l&&t.data.labels&&t.data.labels.length;if(p){var f=t.data.labels.slice(0);d=t.data.labels}d=i.legendNames||d;var u=Array.isArray(i.classNames)&&i.classNames.length===d.length;d.forEach((function(e,t){var n=document.createElement("li");n.className="ct-series-"+t,u&&(n.className+=" "+i.classNames[t]),n.setAttribute("data-legend",t),n.textContent=e.name||e,o.appendChild(n)})),t.on("created",(function(e){if(i.position instanceof HTMLElement)i.position.insertBefore(o,null);else switch(i.position){case"top":t.container.insertBefore(o,t.container.childNodes[0]);break;case"bottom":t.container.insertBefore(o,null)}})),i.clickable&&o.addEventListener("click",(function(e){var s=e.target;if(s.parentNode===o&&s.hasAttribute("data-legend")){e.preventDefault();var a=parseInt(s.getAttribute("data-legend")),l=r.indexOf(a);l>-1?(r.splice(l,1),s.classList.remove("inactive")):i.removeAll||t.data.series.length>1?(r.push(a),s.classList.add("inactive")):(r=[],Array.prototype.slice.call(o.childNodes).forEach((function(e){e.classList.remove("inactive")})));var d=c.slice(0);if(p)var u=f.slice(0);r.sort(n).reverse(),r.forEach((function(e){d.splice(e,1),p&&u.splice(e,1)})),i.onClick&&i.onClick(t,e),t.data.series=d,p&&(t.data.labels=u),t.update()}}))}},e.plugins.legend}));
