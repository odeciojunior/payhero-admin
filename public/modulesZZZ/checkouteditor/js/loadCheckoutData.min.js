function _createForOfIteratorHelper(e,o){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||o&&e&&"number"==typeof e.length){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,r=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){r=!0,i=e},f:function(){try{c||null==t.return||t.return()}finally{if(r)throw i}}}}function _unsupportedIterableToArray(e,o){if(e){if("string"==typeof e)return _arrayLikeToArray(e,o);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,o):void 0}}function _arrayLikeToArray(e,o){(null==o||o>e.length)&&(o=e.length);for(var t=0,n=new Array(o);t<o;t++)n[t]=e[t];return n}$((function(){var e=$(window.location.pathname.split("/")).get(-1);$("#tab-checkout").on("click",(function(){!function(){loadOnAny(".checkout-container",!1,{styles:{container:{minHeight:"500px"}}});var n=["bold","italic","underline"],a=new Quill("#topbar_content",{modules:{toolbar:"#topbar_content_toolbar_container"},placeholder:"",theme:"snow",formats:n}),i=250;a.on("text-change",(function(){a.getLength()>i&&a.deleteText(i,a.getLength())})),a.on("selection-change",(function(e,o,t){null===e&&null!==o?$("#topbar_content").removeClass("focus-in"):null!==e&&null===o&&$("#topbar_content").addClass("focus-in")}));var c=new Quill("#post_purchase_message_content",{modules:{toolbar:"#post_purchase_message_content_toolbar_container"},theme:"snow",formats:n});function r(e){1==e.checkout_type_enum?($("#checkout_editor #checkout_type_steps").prop("checked",!0),$("#checkout_editor .visual-content-left").addClass("three-steps"),$("#checkout_editor .visual-content-left").removeClass("unique"),$("#checkout_editor .visual-content-mobile").addClass("three-steps"),$("#checkout_editor .visual-content-mobile").removeClass("unique"),$("#checkout_editor .steps-lines").slideDown("slow","swing"),$("#checkout_editor #finish_button_preview_desktop_visual").slideDown("slow","swing"),$("#checkout_editor #finish_button_preview_mobile_visual").slideDown("slow","swing")):($("#checkout_editor #checkout_type_unique").prop("checked",!0),$("#checkout_editor .visual-content-left").removeClass("three-steps"),$("#checkout_editor .visual-content-left").addClass("unique"),$("#checkout_editor .visual-content-mobile").removeClass("three-steps"),$("#checkout_editor .visual-content-mobile").addClass("unique"),$("#checkout_editor .steps-lines").slideUp("slow","swing"),$("#checkout_editor #finish_button_preview_desktop_visual").slideUp("slow","swing"),$("#checkout_editor #finish_button_preview_mobile_visual").slideUp("slow","swing")),1==e.checkout_logo_enabled?($("#checkout_editor #checkout_logo_enabled").prop("checked",!0),$("#checkout_editor #checkout_logo_enabled").prop("value",1),$(".logo-content").removeClass("low-opacity"),$("#checkout_editor .logo-preview-container").show()):($("#checkout_editor #checkout_logo_enabled").prop("checked",!1),$("#checkout_editor #checkout_logo_enabled").prop("value",0),$(".logo-content").addClass("low-opacity"),$("#checkout_editor .logo-preview-container").hide()),e.checkout_logo?($("#logo_preview_mobile").attr("src",e.checkout_logo),$("#logo_preview_desktop").attr("src",e.checkout_logo),$("#has_checkout_logo").val("true"),$("#logo_preview_mobile").fadeIn("slow"),$("#logo_preview_desktop").fadeIn("slow")):($("#logo_preview_mobile").fadeOut("slow"),$("#logo_preview_desktop").fadeOut("slow"));var o=$("#checkout_logo").dropify({messages:{default:"",replace:"",error:""},error:{fileSize:"O tamanho máximo do arquivo deve ser {{ value }}.",fileExtension:"A imagem deve ser algum dos formatos permitidos. ({{ value }})."},tpl:{message:'<div class="dropify-message"><span class="file-icon" /> <p>{{ default }}<span style="color: #2E85EC;">Clique ou arraste e solte aqui</span></p></div>',clearButton:'<button type="button" class="dropify-clear o-bin-1"></button>'},imgFileExtensions:["png","jpg","jpeg"],defaultFile:e.checkout_logo?e.checkout_logo:""});o.on("dropify.fileReady",(function(e,o){var t=e.target.files,n=function(e){$("#logo_preview_mobile").attr("src",e),$("#logo_preview_desktop").attr("src",e),$("#has_checkout_logo").val("true"),$("#logo_preview_mobile").fadeIn("slow"),$("#logo_preview_desktop").fadeIn("slow")};t&&t.length>0&&(r=t[0],URL?n(URL.createObjectURL(r)):FileReader&&((i=new FileReader).onload=function(e){n(i.result)},i.readAsDataURL(r)))})),o.on("dropify.errors",(function(e,o){$("#logo_preview_mobile").attr("src",""),$("#logo_preview_desktop").attr("src",""),$("#logo_preview_mobile").fadeOut("slow"),$("#logo_preview_desktop").fadeOut("slow"),$("#has_checkout_logo").val("false")})),o.on("dropify.afterClear",(function(e,o){$("#has_checkout_logo").val("false")})),1==e.checkout_favicon_enabled?($("#checkout_editor #checkout_favicon_enabled").prop("checked",!0),$("#checkout_editor #checkout_favicon_enabled").prop("value",1),$(".favicon-content").removeClass("low-opacity")):($("#checkout_editor #checkout_favicon_enabled").prop("checked",!1),$("#checkout_editor #checkout_favicon_enabled").prop("value",0),$(".favicon-content").addClass("low-opacity")),"1"==e.checkout_favicon_type?$("#favicon_logo").attr("checked",!0):($("#favicon_uploaded").attr("checked",!0),$("#upload_favicon").removeClass("low-opacity")),e.checkout_favicon?$("#has_checkout_favicon").val("true"):$("#has_checkout_favicon").val("false");var t=$("#checkout_favicon").dropify({messages:{default:"",replace:""},error:{fileSize:"",fileExtension:""},tpl:{message:'<div class="dropify-message"><span class="file-icon" /></div>'},imgFileExtensions:["png","jpg","jpeg","ico"],defaultFile:e.checkout_favicon?e.checkout_favicon:""});t.on("dropify.errors",(function(e,o){$("#checkout_favicon_error").fadeIn("slow","linear"),$("#has_checkout_favicon").val("false")})),t.on("dropify.fileReady",(function(e,o){$("#checkout_favicon_error").hide(),$("#has_checkout_favicon").val("true")})),e.checkout_banner&&($("#preview_banner_img_desktop").attr("src",e.checkout_banner),$("#preview_banner_img_mobile").attr("src",e.checkout_banner),$("#has_checkout_banner").val("true"));var n,i,r,s=$("#checkout_banner").dropify({messages:{default:"",replace:"",remove:"Remover",error:""},error:{fileSize:"O tamanho máximo do arquivo deve ser {{ value }}.",fileExtension:"A imagem deve ser algum dos formatos permitidos. ({{ value }})."},tpl:{message:'<div class="dropify-message"><span class="file-icon" /> <p>{{ default }}<span style="color: #2E85EC;">Faça upload do seu banner</span></p></div>',clearButton:'<button type="button" class="dropify-clear o-bin-1"></button>'},imgFileExtensions:["png","jpg","jpeg"],defaultFile:e.checkout_banner?e.checkout_banner:""}),l=$("#modal_banner"),_=document.getElementById("cropped_image");s.on("dropify.fileReady",(function(e,o){var t=e.target.files,n=function(e){_.src=e,l.modal("show")};t&&t.length>0&&(r=t[0],URL?n(URL.createObjectURL(r)):FileReader&&((i=new FileReader).onload=function(e){n(i.result)},i.readAsDataURL(r)))})),s.on("dropify.errors",(function(e,o){$("#preview_banner_img_mobile").attr("src",""),$("#preview_banner_img_desktop").attr("src",""),$("#has_checkout_banner").val("false"),$("#preview_banner_img_mobile").fadeOut("slow"),$("#preview_banner_img_desktop").fadeOut("slow")})),s.on("dropify.afterClear",(function(e,o){$("#has_checkout_banner").val("false")})),$(".dropify-clear").hide();var d,u=$("#dataZoom");switch(l.on("shown.bs.modal",(function(){n=new Cropper(_,{highlight:!1,movable:!1,viewMode:3,aspectRatio:1280/198,zoom:function(e){var o=Math.round(1e3*e.ratio)/10;u.text(o)}})})).on("hidden.bs.modal",(function(){n.destroy(),n=null})),$("#zoom-in").on("click",(function(){n.zoom(.1)})),$("#zoom-out").on("click",(function(){n.zoom(-.1)})),$("#zoom-slide").on("input change",(function(){d<$("#zoom-slide").val()?n.zoom(.1):n.zoom(-.1),d=$("#zoom-slide").val()})),$("#crop-reset").on("click",(function(){n.reset(),$("#zoom-slide").val(0)})),$(".img-profile input").on("click",(function(e){e.stopPropagation()})).on("change",(function(){var e=this.files[0],o=new FileReader;o.onload=function(e){var o=$(".img-profile").addClass("cropping").find("img").attr("src",e.target.result);n=new Cropper(o[0],{aspectRatio:1,minContainerWidth:150,minContainerHeight:150}),$("#btn-crop-cancel, #btn-crop").show()},o.readAsDataURL(e)})),$("#button-crop").on("click",(function(){if(n){var e=n.getCroppedCanvas().toDataURL("image/png",.7);$("#preview_banner_img_mobile").attr("src",e),$("#preview_banner_img_desktop").attr("src",e),$("#has_checkout_banner").val("true"),$("#preview_banner_img_mobile").fadeIn("slow"),$("#preview_banner_img_desktop").fadeIn("slow"),replacePreview("checkout_banner",e,"checkout_banner.jpg"),n.getCroppedCanvas().toBlob((function(e){var o=new DataTransfer,t=new File([e],"banner."+e.type.split("/")[1]);o.items.add(t),document.querySelector("#checkout_banner").files=o.files}),"image/jpeg",.8)}l.modal("hide")})),$("#button-cancel-crop").on("click",(function(){$("#checkout_banner").parent().find(".dropify-clear").trigger("click")})),e.checkout_banner_enabled?($("#checkout_editor #checkout_banner_enabled").prop("checked",!0),$("#checkout_editor #checkout_banner_enabled").prop("value",1),$("#checkout_editor .banner-top-content").show(),$("#checkout_editor .preview-banner").show(),$("#checkout_editor #banner_type").show(),$(".logo-div").addClass("has-banner"),$(".logo-preview-container").addClass("has-banner"),$(".menu-bar-mobile").hide("slow"),$(".purchase-menu-mobile").fadeIn("slow")):($("#checkout_editor #checkout_banner_enabled").prop("checked",!1),$("#checkout_editor #checkout_banner_enabled").prop("value",0),$("#checkout_editor .banner-top-content").hide(),$("#checkout_editor .preview-banner").hide(),$("#checkout_editor #banner_type").hide(),$(".logo-div").removeClass("has-banner"),$(".logo-preview-container").removeClass("has-banner"),$(".menu-bar-mobile").show("slow"),$(".purchase-menu-mobile").fadeOut("slow")),1===e.checkout_banner_type?($("#checkout_editor #banner_type_wide").prop("checked",!0),$(".preview-banner").removeClass("retangle-banner"),$(".logo-div.logo-menu-bar").removeClass("retangle-banner"),$(".preview-banner").addClass("wide-banner")):($("#checkout_editor #banner_type_square").prop("checked",!0),$(".preview-banner").addClass("retangle-banner"),$(".logo-div.logo-menu-bar").addClass("retangle-banner"),$(".preview-banner").removeClass("wide-banner")),e.countdown_enabled?($("#checkout_editor #countdown_enabled").prop("checked",!0),$("#checkout_editor #countdown_enabled").prop("value",1),$("#checkout_editor .countdown-content").show(),$("#checkout_editor .countdown-preview").show()):($("#checkout_editor #countdown_enabled").prop("checked",!1),$("#checkout_editor #countdown_enabled").prop("value",0),$("#checkout_editor .countdown-content").hide(),$("#checkout_editor .countdown-preview").hide()),$("#checkout_editor #countdown_time").val(e.countdown_time||15),$("#checkout_editor #countdown_description").val(e.countdown_description||"Aproveite o desconto extra ao comprar no Cartão ou pelo PIX! É por tempo limitado."),$("#checkout_editor #countdown_finish_message").val(e.countdown_finish_message||"Seu tempo acabou! Você precisa finalizar sua compra agora para ganhar o desconto extra."),e.topbar_enabled?($("#checkout_editor #topbar_enabled").prop("checked",!0),$("#checkout_editor #topbar_enabled").prop("value",1),$("#checkout_editor .textbar-content").show(),$("#checkout_editor .textbar-preview").show()):($("#checkout_editor #topbar_enabled").prop("checked",!1),$("#checkout_editor #topbar_enabled").prop("value",0),$("#checkout_editor .textbar-content").hide(),$("#checkout_editor .textbar-preview").hide()),a.root.innerHTML=e.topbar_content||"<p>Aproveite o <b>desconto extra</b> ao comprar no <u>Cartão ou pelo PIX!</u> É por <b>tempo limitado</b>.</p>",e.notifications_enabled?($("#checkout_editor #notifications_enabled").prop("checked",!0),$("#checkout_editor #notifications_enabled").prop("value",1),$("#checkout_editor .sales-notifications-content").show()):($("#checkout_editor #notifications_enabled").prop("checked",!1),$("#checkout_editor #notifications_enabled").prop("value",0),$("#checkout_editor .sales-notifications-content").hide()),e.notifications_interval){case 15:default:$("#checkout_editor #notifications_interval_15").prop("checked",!0);break;case 30:$("#checkout_editor #notifications_interval_30").prop("checked",!0);break;case 45:$("#checkout_editor #notifications_interval_45").prop("checked",!0);break;case 60:$("#checkout_editor #notifications_interval_60").prop("checked",!0)}e.notification_buying_enabled?($("#checkout_editor #notification_buying_enabled").prop("checked",!0),$("#checkout_editor #notification_buying_enabled").prop("value",1)):($("#checkout_editor #notification_buying_enabled").prop("checked",!1),$("#checkout_editor #notification_buying_enabled").prop("value",0)),e.notification_bought_30_minutes_enabled?($("#checkout_editor #notification_bought_30_minutes_enabled").prop("checked",!0),$("#checkout_editor #notification_bought_30_minutes_enabled").prop("value",1)):($("#checkout_editor #notification_bought_30_minutes_enabled").prop("checked",!1),$("#checkout_editor #notification_bought_30_minutes_enabled").prop("value",0)),e.notification_bought_last_hour_enabled?($("#checkout_editor #notification_bought_last_hour_enabled").prop("checked",!0),$("#checkout_editor #notification_bought_last_hour_enabled").prop("value",1)):($("#checkout_editor #notification_bought_last_hour_enabled").prop("checked",!1),$("#checkout_editor #notification_bought_last_hour_enabled").prop("value",0)),e.notification_just_bought_enabled?($("#checkout_editor #notification_just_bought_enabled").prop("checked",!0),$("#checkout_editor #notification_just_bought_enabled").prop("value",1)):($("#checkout_editor #notification_just_bought_enabled").prop("checked",!1),$("#checkout_editor #notification_just_bought_enabled").prop("value",0)),e.notification_buying_enabled&&e.notification_bought_30_minutes_enabled&&e.notification_bought_last_hour_enabled&&e.notification_just_bought_enabled&&$("#checkout_editor #notification-table .selectable-all").prop("checked",!0),$("#checkout_editor #notification_buying_minimum").val(e.notification_buying_minimum||0),$("#checkout_editor #notification_bought_30_minutes_minimum").val(e.notification_bought_30_minutes_minimum||0),$("#checkout_editor #notification_bought_last_hour_minimum").val(e.notification_bought_last_hour_minimum||0),$("#checkout_editor #notification_just_bought_minimum").val(e.notification_just_bought_minimum||0);var p=document.querySelector("#checkout_editor").querySelectorAll(".selectable-notification:checked");p.length>0&&p.length<4&&($("#selectable-all-notification").addClass("dash-check"),$("#selectable-all-notification").prop("checked",!0)),0==p.length&&($("#selectable-all-notification").prop("checked",!1),$("#selectable-all-notification").removeClass("dash-check")),4==p.length&&($("#selectable-all-notification").removeClass("dash-check"),$("#selectable-all-notification").prop("checked",!0)),e.social_proof_enabled?($("#checkout_editor #social_proof_enabled").prop("checked",!0),$("#checkout_editor #social_proof_enabled").prop("value",1),$("#checkout_editor .social-proof-content").show()):($("#checkout_editor #social_proof_enabled").prop("checked",!1),$("#checkout_editor #social_proof_enabled").prop("value",0),$("#checkout_editor .social-proof-content").hide()),$("#checkout_editor #social_proof_message").val(e.social_proof_message||"Outras { num-visitantes } pessoas estão finalizando a compra neste momento."),$("#checkout_editor #social_proof_minimum").val(e.social_proof_minimum||0),$("#checkout_editor #invoice_description").val(e.invoice_description||"");var h,m=_createForOfIteratorHelper(e.companies);try{for(m.s();!(h=m.n()).done;){var b=h.value;"pending"!=b.status&&$("#checkout_editor #companies").append('<option  class="sirius-select-option" value="'.concat(b.id,'"\n                        ').concat(b.id===e.company_id?"selected":"","\n                    >\n                        ").concat(b.name,"\n                    </option>\n                  "))}}catch(e){m.e(e)}finally{m.f()}e.cpf_enabled?($("#checkout_editor #cpf_enabled").prop("checked",!0),$("#checkout_editor #cpf_enabled").prop("value",1)):($("#checkout_editor #cpf_enabled").prop("checked",!1),$("#checkout_editor #cpf_enabled").prop("value",0)),e.cnpj_enabled?($("#checkout_editor #cnpj_enabled").prop("checked",!0),$("#checkout_editor #cnpj_enabled").prop("value",1)):($("#checkout_editor #cnpj_enabled").prop("checked",!1),$("#checkout_editor #cnpj_enabled").prop("value",0)),e.bank_slip_enabled?($("#checkout_editor #bank_slip_enabled").prop("checked",!0),$("#checkout_editor #bank_slip_enabled").prop("value",1)):($("#checkout_editor #bank_slip_enabled").prop("checked",!1),$("#checkout_editor #bank_slip_enabled").prop("value",0)),e.pix_enabled&&($("#checkout_editor #pix_enabled").prop("checked",!0),$("#checkout_editor #pix_enabled").prop("value",1)),$("#checkout_editor #pix_enabled").prop("checked",!1),$("#checkout_editor #pix_enabled").prop("value",0),e.credit_card_enabled?($("#checkout_editor #credit_card_enabled").prop("checked",!0),$("#checkout_editor #credit_card_enabled").prop("value",1),$(".credit-card-container").show("slow","swing"),$(".accepted-payment-card-creditcard").slideDown("slow","swing")):($("#checkout_editor #credit_card_enabled").prop("checked",!1),$("#checkout_editor #credit_card_enabled").prop("value",0),$(".credit-card-container").hide("slow","swing"),$(".accepted-payment-card-creditcard").slideUp("slow","swing")),e.bank_slip_enabled?($("#checkout_editor #bank_slip_enabled").prop("checked",!0),$("#checkout_editor #bank_slip_enabled").prop("value",1),$(".bank-billet-container").show("slow","swing"),$(".accepted-payment-bank-billet").slideDown("slow","swing")):($("#checkout_editor #bank_slip_enabled").prop("checked",!1),$(".bank-billet-container").hide("slow","swing"),$(".accepted-payment-bank-billet").slideUp("slow","swing")),e.pix_enabled?($("#checkout_editor #pix_enabled").prop("checked",!0),$("#checkout_editor #pix_enabled").prop("value",1),$(".pix-container").show("slow","swing"),$(".accepted-payment-pix").slideDown("slow","swing")):($("#checkout_editor #pix_enabled").prop("checked",!1),$(".pix-container").hide("slow","swing"),$(".accepted-payment-pix").slideUp("slow","swing")),e.quantity_selector_enabled?($("#checkout_editor #count-selector-label").addClass("active"),$("#checkout_editor #quantity_selector_enabled").prop("checked",!0),$("#checkout_editor #quantity_selector_enabled").prop("value",1)):($("#checkout_editor #count-selector-label").removeClass("active"),$("#checkout_editor #quantity_selector_enabled").prop("checked",!1),$("#checkout_editor #quantity_selector_enabled").prop("value",0)),e.email_required?($("#checkout_editor #checkout-email-label").addClass("active"),$("#checkout_editor #email_required").prop("checked",!0),$("#checkout_editor #email_required").prop("value",1)):($("#checkout_editor #checkout-email-label").removeClass("active"),$("#checkout_editor #email_required").prop("checked",!1),$("#checkout_editor #email_required").prop("value",0)),$("#checkout_editor #bank_slip_due_days").val(e.bank_slip_due_days||1),$("#checkout_editor #installments_limit").val(e.installments_limit||1).change(),$("#checkout_editor #interest_free_installments").val(e.interest_free_installments||1).change(),$("#checkout_editor #preselected_installment").val(e.preselected_installment||1).change(),$("#checkout_editor #automatic_discount_credit_card").val(e.automatic_discount_credit_card||0),$("#checkout_editor #automatic_discount_bank_slip").val(e.automatic_discount_bank_slip||0),$("#checkout_editor #automatic_discount_pix").val(e.automatic_discount_pix||0),e.post_purchase_message_enabled?($("#checkout_editor #post_purchase_message_enabled").prop("checked",!0),$("#checkout_editor #post_purchase_message_enabled").prop("value",1),$(".thanks-page-content").show("slow","swing"),$(".shop-message-preview").slideDown("slow","swing")):($("#checkout_editor #post_purchase_message_enabled").prop("checked",!1),$("#checkout_editor #post_purchase_message_enabled").prop("value",0),$(".thanks-page-content").hide("slow","swing"),$(".shop-message-preview").slideUp("slow","swing")),$("#checkout_editor #post_purchase_message_title").val(e.post_purchase_message_title||"Obrigado por comprar conosco!"),$(".shop-message-preview-title").empty(),$(".shop-message-preview-title").append(e.post_purchase_message_title||"Obrigado por comprar conosco!"),c.root.innerHTML=e.post_purchase_message_content||"<p>Aproveite o <b>desconto extra</b> ao comprar no <u>Cartão ou pelo PIX!</u> É por <b>tempo limitado</b>.</p>",$(".shop-message-preview-content").empty(),$(".shop-message-preview-content").append(e.post_purchase_message_content),1==e.whatsapp_enabled?($("#checkout_editor #whatsapp_enabled").prop("checked",!0),$("#checkout_editor #whatsapp_enabled").prop("value",1),$(".whatsapp-content").show("slow","swing"),$(".whatsapp-preview").slideDown("slow","swing")):($("#checkout_editor #whatsapp_enabled").prop("checked",!1),$("#checkout_editor #whatsapp_enabled").prop("value",0),$(".whatsapp-content").hide("slow","swing"),$(".whatsapp-preview").slideUp("slow","swing")),$("#checkout_editor #support_phone").val(e.support_phone||""),1==e.support_phone_verified?($("#verify_phone_open").hide(),$("#verified_phone_open").show(),$("#remove_phone").show()):($("#verify_phone_open").show(),$("#verified_phone_open").hide(),$("#remove_phone").hide()),0!=e.theme_enum&&e.theme_enum?($("#checkout_editor #theme_ready_enabled").prop("checked",!1),$("#checkout_editor #theme_ready_enabled").prop("value",0),$("input[name=theme_enum][value="+e.theme_enum+"]").attr("checked",!0),$(":root").css("--primary-color",e.color_primary),$(":root").css("--secondary-color",e.color_secondary),$(":root").css("--finish-button-color",e.color_buy_button),$(".custom-theme-content").hide("slow","swing"),$(".theme-ready-first-line").removeClass("low-opacity"),$(".theme-ready-second-line").show("slow","swing")):($(":root").css("--primary-color",e.color_primary),$(":root").css("--secondary-color",e.color_secondary),$(":root").css("--finish-button-color",e.color_buy_button),$("#color_primary").val(e.color_primary),$("#color_secondary").val(e.color_secondary),$("#color_buy_button").val(e.color_buy_button),$("#checkout_editor #theme_ready_enabled").prop("checked",!0),$("#checkout_editor #theme_ready_enabled").prop("value",1),$(".custom-theme-content").show("slow","swing"),$(".theme-ready-first-line").addClass("low-opacity"),$(".theme-ready-second-line").hide("slow","swing")),$("#checkout_editor_id").val(e.id),$("#upload_favicon .dropify-error").css("display","none"),$(".dropify-clear").hide()}function s(e){var o,n,i=!1;if("1"==e.get("countdown_enabled")){if(""==e.get("countdown_time")||null==e.get("countdown_time"))return $("#countdown_time").addClass("error-input"),$("#countdown_time_error").show("slow","linear"),t("countdown_time"),!1;if(i=!0,""==e.get("countdown_finish_message")||null==e.get("countdown_finish_message"))return $("#countdown_finish_message").addClass("error-input"),$("#countdown_finish_message_error").show("slow","linear"),t("countdown_finish_message"),!1;i=!0}if("1"==e.get("topbar_enabled")){if(!(a.getText().trim().length>0))return $("#topbar_content").addClass("error-input"),t("topbar_content"),$("#topbar_content_error").show("slow","linear"),!1;i=!0}if("1"==e.get("notifications_enabled")){if(""==e.get("notification_buying_minimum"))return $("#notification_buying_minimum").addClass("error-input"),$("#notification_buying_minimum_error").show("slow","linear"),t("notification_buying_minimum"),$("#notification_error").show("slow","linear"),!1;if(i=!0,""==e.get("notification_bought_30_minutes_minimum"))return $("#notification_bought_30_minutes_minimum").addClass("error-input"),$("#notification_error").show("slow","linear"),t("notification_bought_30_minutes_minimum"),!1;if(i=!0,""==e.get("notification_bought_last_hour_minimum"))return $("#notification_bought_last_hour_minimum").addClass("error-input"),$("#notification_error").show("slow","linear"),t("notification_bought_last_hour_minimum"),!1;if(i=!0,""==e.get("notification_just_bought_minimum"))return $("#notification_just_bought_minimum").addClass("error-input"),$("#notification_error").show("slow","linear"),t("notification_just_bought_minimum"),!1;i=!0}if("1"==e.get("social_proof_enabled")){if(""==e.get("social_proof_message")||null==e.get("social_proof_message"))return $("#social_proof_message").addClass("error-input"),$("#social_proof_message_error").show("slow","linear"),t("social_proof_message"),!1;if(i=!0,""==e.get("social_proof_minimum")||null==e.get("social_proof_minimum"))return $("#social_proof_minimum").addClass("error-input"),$("#social_proof_minimum_error").show("slow","linear"),t("social_proof_minimum"),!1;i=!0}if(""==e.get("company_id")||null==e.get("company_id"))return $("#company_billing_error").show("slow","linear"),t("companies"),!1;if(i=!0,""==e.get("bank_slip_due_days")||null==e.get("bank_slip_due_days"))return $("#bank_slip_due_days").addClass("error-input"),$("#bank_slip_due_days_error").show("slow","linear"),t("bank_slip_due_days"),!1;if(i=!0,"1"==e.get("post_purchase_message_enabled")){if(""==e.get("post_purchase_message_title")||null==e.get("post_purchase_message_title"))return $("#post_purchase_message_title").addClass("error-input"),$("#post_purchase_message_title_error").show("slow","linear"),t("post_purchase_message_title"),!1;if(i=!0,!(c.getText().trim().length>0))return $("#post_purchase_message_content").addClass("error-input"),$("#post_purchase_message_content_error").show("slow","linear"),t("post_purchase_message_content"),!1;i=!0}if("1"==e.get("checkout_logo_enabled")){if("true"!=$("#has_checkout_logo").val())return t("upload_logo"),$("#checkout_logo_error").show("slow","linear"),!1;i=!0}if("1"==e.get("checkout_favicon_enabled"))if("1"==e.get("checkout_favicon_type"))i=!0;else{if("true"!=$("#has_checkout_favicon").val())return t("upload_logo"),$("#checkout_favicon_error").fadeIn("slow","linear"),!1;i=!0}if("1"==e.get("checkout_banner_enabled")){if("true"!=$("#has_checkout_banner").val())return t("banner_type"),$("#checkout_banner_error").show("slow","linear"),!1;i=!0}if("1"==e.get("whatsapp_enabled"))if(""==$("#support_phone").val())i=!0;else{if(o=/^\([1-9]{2}\)\s(?:[2-8]|9[1-9])[0-9]{3}\-[0-9]{4}$/,n=$("#support_phone").val(),!o.test(n))return $("#support_phone").addClass("error-input"),$("#support_phone_error").show("slow","linear"),t("support_phone"),!1;i=!0}return i}c.on("text-change",(function(){c.getLength()<i?($(".shop-message-preview-content").empty(),$(".shop-message-preview-content").append($(c.root.innerHTML)),$("#save_changes").fadeIn("slow","swing")):c.deleteText(i,c.getLength())})),c.on("selection-change",(function(e,o,t){null===e&&null!==o?$("#post_purchase_message_content").removeClass("focus-in"):null!==e&&null===o&&$("#post_purchase_message_content").addClass("focus-in")})),$.ajax({method:"GET",url:"/api/checkouteditor/"+e,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},success:function(e){(o=e.data)&&(r(o),$("#checkout_editor").on("input",(function(){$("#save_changes").fadeIn("slow","swing")})),$(".sirius-select").on("change",(function(){$("#save_changes").fadeIn("slow","swing")}))),$(document).on("submit","#checkout_editor",(function(e){e.preventDefault(),$(".error-input").removeClass("error-input"),$(".checkout-error").hide(),$("#save_load").fadeIn("slow","linear"),$("#save_changes").fadeOut("slow","linear"),$(".select-type").addClass("low-opacity"),$(".visual").addClass("low-opacity"),$(".payment").addClass("low-opacity"),$(".post-purchase-pages").addClass("low-opacity"),$(".preview").addClass("low-opacity");var t=document.getElementById("checkout_editor"),n=new FormData(t);if(0===a.getText().trim().length?n.append("topbar_content",""):n.append("topbar_content",$("#topbar_content").children().html()),0===c.getText().trim().length?n.append("post_purchase_message_content",""):n.append("post_purchase_message_content",$("#post_purchase_message_content").children().html()),n.get("automatic_discount_credit_card")||($("#automatic_discount_credit_card").val(0),n.append("automatic_discount_credit_card",0)),n.get("automatic_discount_bank_slip")||($("#automatic_discount_bank_slip").val(0),n.append("automatic_discount_bank_slip",0)),n.get("automatic_discount_pix")||($("#automatic_discount_pix").val(0),n.append("automatic_discount_pix",0)),$("#theme_ready_enabled").is(":checked"))n.set("theme_enum",0);else{var i=$('label[for="'+$("input[name=theme_enum]:checked").attr("id")+'"]').children(".theme-primary-color").attr("data-color"),r=$('label[for="'+$("input[name=theme_enum]:checked").attr("id")+'"]').children(".theme-secondary-color").attr("data-color");n.append("color_primary",i),n.append("color_secondary",r),n.append("color_buy_button",i)}$("#default_finish_color").is(":checked")&&n.append("color_buy_button","#23d07d"),$("#checkout_editor input[type=checkbox]:not(:checked)").map((function(){n.append($(this).attr("name"),$(this).is(":checked")?1:0)})),s(n)?$.ajax({method:"POST",url:"/api/checkouteditor/"+o.id,processData:!1,cache:!1,contentType:!1,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:n,success:function(){$(".select-type").removeClass("low-opacity"),$(".visual").removeClass("low-opacity"),$(".payment").removeClass("low-opacity"),$(".post-purchase-pages").removeClass("low-opacity"),$(".preview").removeClass("low-opacity"),$("#save_load").fadeOut("slow","linear"),$("#save_success").fadeIn("slow","linear"),setTimeout((function(){$("#save_success").fadeOut("slow","linear")}),4e3)},error:function(e){console.log(e.responseText),$(".select-type").removeClass("low-opacity"),$(".visual").removeClass("low-opacity"),$(".payment").removeClass("low-opacity"),$(".post-purchase-pages").removeClass("low-opacity"),$(".preview").removeClass("low-opacity"),$("#save_load").fadeOut("slow","linear"),$("#save_error").fadeIn("slow","linear"),setTimeout((function(){$("#save_error").fadeOut("slow","linear")}),4e3)}}):($(".select-type").removeClass("low-opacity"),$(".visual").removeClass("low-opacity"),$(".payment").removeClass("low-opacity"),$(".post-purchase-pages").removeClass("low-opacity"),$(".preview").removeClass("low-opacity"),$("#save_load").fadeOut("slow","linear"),$("#save_empty_fields").fadeIn("slow","linear"),setTimeout((function(){$("#save_empty_fields").fadeOut("slow","linear")}),4e3))})),setTimeout((function(){$("#save_changes").hide()}),0),loadOnAny(".checkout-container",!0)},error:function(e){errorAjaxResponse(e),$("#checkout_editor").addClass("low-opacity"),$("#checkout_logo").dropify({messages:{default:"",replace:"",error:""},error:{fileSize:"O tamanho máximo do arquivo deve ser {{ value }}.",fileExtension:"A imagem deve ser algum dos formatos permitidos. ({{ value }})."},tpl:{message:'<div class="dropify-message"><span class="file-icon" /> <p>{{ default }}<span style="color: #2E85EC;">Clique ou arraste e solte aqui</span></p></div>',clearButton:'<button type="button" class="dropify-clear o-bin-1"></button>'},imgFileExtensions:["png","jpg","jpeg"]}),$("#checkout_favicon").dropify({messages:{default:"",replace:""},error:{fileSize:"",fileExtension:""},tpl:{message:'<div class="dropify-message"><span class="file-icon" /></div>'},imgFileExtensions:["png","jpg","jpeg","ico"]}),$("#checkout_banner").dropify({messages:{default:"",replace:"",remove:"Remover",error:""},error:{fileSize:"O tamanho máximo do arquivo deve ser {{ value }}.",fileExtension:"A imagem deve ser algum dos formatos permitidos. ({{ value }})."},tpl:{message:'<div class="dropify-message"><span class="file-icon" /> <p>{{ default }}<span style="color: #2E85EC;">Faça upload do seu banner</span></p></div>',clearButton:'<button type="button" class="dropify-clear o-bin-1"></button>'},imgFileExtensions:["png","jpg","jpeg"]}),loadOnAny(".checkout-container",!0)}}),$("#cancel_button").on("click",(function(){r(o),$("#save_changes").fadeOut("slow","swing")}))}()}));var o=null;function t(e){$([document.documentElement,document.body]).animate({scrollTop:$("#".concat(e)).position().top-200},2e3)}}));
