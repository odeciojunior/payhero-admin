$(document).ready((function(){var n={0:{textColor:"text-color-red",bgColor:"bg-color-red",description:'<span class="text-color-red">Alerta:</span> regularize sua situação para evitar bloqueios.'},1:{textColor:"text-color-red",bgColor:"bg-color-red",description:'<span class="text-color-red">Alerta:</span> regularize sua situação para evitar bloqueios.'},2:{textColor:"text-color-orange",bgColor:"bg-color-orange",description:'<span class="text-color-orange">Atenção:</span> a saúde da sua conta está muito baixa.'},3:{textColor:"text-color-orange",bgColor:"bg-color-orange",description:'<span class="text-color-orange">Atenção:</span> a saúde da sua conta está muito baixa.'},4:{textColor:"text-color-yellow",bgColor:"bg-color-yellow",description:'Seu desempenho é <span class="text-color-yellow">regular</span>. Fique de olho!'},5:{textColor:"text-color-yellow",bgColor:"bg-color-yellow",description:'Seu desempenho é <span class="text-color-yellow">regular</span>. Fique de olho!'},6:{textColor:"text-color-green",bgColor:"bg-color-green",description:'Continue assim. Seu desempenho é <span class="text-color-green">bom</span>!'},7:{textColor:"text-color-green",bgColor:"bg-color-green",description:'Continue assim. Seu desempenho é <span class="text-color-green">bom</span>!'},8:{textColor:"text-color-dark-green",bgColor:"bg-color-dark-green",description:'A saúde da sua conta está <span class="text-color-dark-green">excelente</span>. Parabéns!'},9:{textColor:"text-color-dark-green",bgColor:"bg-color-dark-green",description:'A saúde da sua conta está <span class="text-color-dark-green">excelente</span>. Parabéns!'},10:{textColor:"text-color-dark-green",bgColor:"bg-color-dark-green",description:'A saúde da sua conta está <span class="text-color-dark-green">excelente</span>. Parabéns!'}};function t(){loadingOnAccountsHealthRemove(".sirius-account > .card  .sirius-loading "),$(".sirius-account .card-indicators > .active").on("click",(function(){switch($(".sirius-account > .card").html(""),loadingOnAccountsHealth(".sirius-account > .card"),$(this).data("slide-to")){case 1:updateAccountHealth();break;case 2:$.ajax({method:"GET",url:"/api/dashboard/get-account-chargeback",dataType:"json",data:{company:$("#company").val()},headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(n){loadingOnAccountsHealthRemove(".sirius-account > .card  .sirius-loading "),errorAjaxResponse(n)},success:function(a){var e='\n                        <div\n                            class="card-header d-flex justify-content-between align-items-center bg-white mt-10 pb-0 account-chargeback">\n                            <div class="font-size-14 gray-600 mr-auto">\n                                <span class="ml-0">Chargebacks</span>\n                            </div>\n                                <ol class="card-indicators mb-0 d-flex justify-content-end align-items-center align-self-center">\n                                    <li class="" data-slide-to="1"></li>\n                                    <li class="active" data-slide-to="2"></li>\n                                    <li class=""  data-slide-to="3"></li>\n                                    <li class=""  data-slide-to="4"></li>\n                                    <i class="o-angle-down-1 control-prev active" data-slide-to="1"></i>\n                                    <i class="o-angle-down-1 control-next active" data-slide-to="3"></i>\n                                </ol>\n                        </div>\n                        <div class="card-body pt-0 mt-20 d-flex flex-column justify-content-start align-items-start account-chargeback">\n\n                            <div class="d-flex flex-row flex-nowrap" style="width: 100%;">\n                                <div class="col-6 p-0 d-flex flex-row justify-content-start align-items-center align-self-start" >\n                                    <span class="mr-10 '.concat(n[Math.floor(a.chargeback_score)].bgColor,' account-health-note-circle"></span>\n                                    <span class="account-tax ').concat(n[Math.floor(a.chargeback_score)].textColor,'">').concat(a.chargeback_score,'</span>\n                                </div>\n                                <div class="col-6 p-0" >\n                                    <div class="d-flex flex-row flex-nowrap justify-content-between">\n                                        <span class="font-size-12 gray-600">Últimos 140 dias</span>\n                                        <span class="font-size-12 gray-600">20 dias</span>\n                                    </div>\n                                    <img class="col-12 p-0" src="/modules/global/img/timeline-chargeback.svg" style="max-width: 100%;height: 15px;">\n                                </div>\n                            </div>\n\n                            <div class="mt-10 d-flex flex-row flex-nowrap" style="width: 100%;">\n                                <div class="col-6 p-0 d-flex flex-column flex-nowrap justify-content-start align-items-start align-self-start" >\n                                    <span class="account-health-note">').concat(a.total_sales_approved,'</span>\n                                    <span class="account-health-note-description">Vendas no cartão</span>\n                                </div>\n                                <div class="col-6 p-0 d-flex flex-column flex-nowrap justify-content-start align-items-start align-self-start" >\n                                    <span class="account-health-note">').concat(a.total_sales_chargeback,'\n                                        \x3c!-- <span class="account-tax ').concat(n[Math.floor(a.chargeback_score)].textColor,' ">').concat(parseFloat(a.chargeback_rate).toFixed(2),'%</span> --\x3e\n                                    </span>\n                                    <span class="account-health-note-description">Chargebacks</span>\n                                </div>\n                            </div>\n\n                            <div class="hr-horizontal mt-25 d-flex justify-content-start align-items-start align-self-start"></div>\n                            <div class="mt-10 d-flex flex-row flex-nowrap justify-content-start align-items-start align-self-start" >\n                                <a href="./contestations" class="tips-chargeback">Acesse o painel de Contestações <i class="o-arrow-right-1 ml-10 align-items-center"></i></a>\n                            </div>\n                            <div class="sirius-account-loading"></div>\n                        </div>\n                ');$(".sirius-account > .card").append(e),t()}});break;case 3:loadingOnAccountsHealth(".sirius-account > .card"),$.ajax({method:"GET",url:"/api/dashboard/get-account-attendance",dataType:"json",data:{company:$("#company").val()},headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(n){loadingOnAccountsHealthRemove(".sirius-account > .card  .sirius-loading "),errorAjaxResponse(n)},success:function(a){var e='\n                        <div\n                            class="card-header d-flex justify-content-between align-items-center bg-white mt-10 pb-0 account-attendance">\n                            <div class="font-size-14 gray-600 mr-auto">\n                                <span class="ml-0">Atendimento</span>\n                            </div>\n                                <ol class="card-indicators mb-0 d-flex justify-content-end align-items-center align-self-center">\n                                    <li class="" data-slide-to="1"></li>\n                                    <li class="" data-slide-to="2"></li>\n                                    <li class="active" data-slide-to="3"></li>\n                                    <li class=""  data-slide-to="4"></li>\n                                    <i class="o-angle-down-1 control-prev active" data-slide-to="2"></i>\n                                    <i class="o-angle-down-1 control-next active" data-slide-to="4"></i>\n                                </ol>\n                        </div>\n                        <div class="card-body pt-0 mt-20 d-flex flex-column justify-content-start align-items-start account-attendance">\n                            <div class="d-flex flex-row flex-nowrap" style="width: 100%;">\n                                <div class="col-6 p-0 d-flex flex-row justify-content-start align-items-center align-self-start" >\n                                    <span class="mr-10 '.concat(n[Math.floor(a.attendance_score)].bgColor,' account-health-note-circle"></span>\n                                    <span class="account-tax ').concat(n[Math.floor(a.attendance_score)].textColor,'">').concat(a.attendance_score,'</span>\n                                </div>\n                                <div class="col-6 pr-0 pl-0 d-flex flex-row flex-nowrap justify-content-start align-items-center align-self-center font-size-12 gray-600">\n                                    <span class="o-clock-1 mr-5" data-toggle="tooltip" data-original-title="Tempo médio de resposta" style="font-size: 18px;line-height: 18px;-webkit-text-stroke: 1.45px rgba(0, 0, 0, 0.1);"></span> ').concat(a.attendance_average_response_time||0," hora").concat(1===a.attendance_average_response_time?"":"s",'\n                                </div>\n                            </div>\n                            <div class="mt-10 p-0 d-flex flex-row flex-wrap" style="height: 100%; width: 100%;">\n                                <div class="col-6 pr-0 pl-0 d-flex flex-column flex-nowrap justify-content-start align-items-start align-self-start">\n                                    <span class="account-health-note">').concat(a.open||0,'</span>\n                                    <span class="account-health-note-description">Abertos</span>\n                                </div>\n                                <div class="col-6 pr-0 pl-0 d-flex flex-column flex-nowrap justify-content-start align-items-start align-self-start">\n                                    <span class="account-health-note">').concat(a.closed||0,'</span>\n                                    <span class="account-health-note-description">Resolvidos</span>\n                                </div>\n                                <div class="col-6 pr-0 pl-0 d-flex flex-column flex-nowrap justify-content-start align-items-start align-self-start">\n                                    <span class="account-health-note">').concat(a.mediation||0,'</span>\n                                    <span class="account-health-note-description">Mediação</span>\n                                </div>\n                                <div class="col-6 pr-0 pl-0 d-flex flex-column flex-nowrap justify-content-start align-items-start align-self-start">\n                                    <span class="account-health-note">').concat(a.total,'</span>\n                                    <span class="account-health-note-description">Total</span>\n                                </div>\n                            </div>\n                            <div class="sirius-account-loading"></div>\n                        </div>\n                ');$(".sirius-account > .card").append(e),t(),$((function(){$('[data-toggle="tooltip"]').tooltip()}))}});break;case 4:loadingOnAccountsHealth(".sirius-account > .card"),$.ajax({method:"GET",url:"/api/dashboard/get-account-tracking",dataType:"json",data:{company:$("#company").val()},headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(n){loadingOnAccountsHealthRemove(".sirius-account > .card  .sirius-loading "),errorAjaxResponse(n)},success:function(a){var e='\n                        <div\n                            class="card-header d-flex justify-content-between align-items-center bg-white mt-10 pb-0 account-tracking">\n                            <div class="font-size-14 gray-600 mr-auto">\n                                <span class="ml-0">Códigos de Rastreio</span>\n                            </div>\n                                <ol class="card-indicators mb-0 d-flex justify-content-end align-items-center align-self-center">\n                                    <li class="" data-slide-to="1"></li>\n                                    <li class="" data-slide-to="2"></li>\n                                    <li class="" data-slide-to="3"></li>\n                                    <li class="active"  data-slide-to="4"></li>\n                                    <i class="o-angle-down-1 control-prev active" data-slide-to="3"></i>\n                                    <i class="o-angle-down-1 control-next active" data-slide-to="1"></i>\n                                </ol>\n                        </div>\n                        <div class="card-body pt-0 mt-20 d-flex flex-column justify-content-start align-items-start account-tracking">\n                            <div id="" class="d-flex flex-row justify-content-start align-items-center align-self-start">\n                                <span class="mr-10 '.concat(n[Math.floor(a.tracking_score)].bgColor,' account-health-note-circle"></span>\n                                <span class="account-tax ').concat(n[Math.floor(a.tracking_score)].textColor,'">').concat(a.tracking_score,'</span>\n                            </div>\n                            <div class="mt-10 p-0 d-flex flex-row flex-wrap" style="height: 100%; width: 100%;">\n                                <div class="col-6 pr-0 pl-0 d-flex flex-column flex-nowrap justify-content-start align-items-start align-self-start">\n                                    <span class="account-health-note">').concat(a.average_post_time," dia").concat(1===a.average_post_time?"":"s",'</span>\n                                    <span class="account-health-note-description-tracking">Tempo médio de postagem</span>\n                                </div>\n                                <div class="col-6 pr-0 pl-0 d-flex flex-column flex-nowrap justify-content-start align-items-start align-self-start">\n                                    <span class="account-health-note">').concat(a.problem,' <small class="account-health-note-description font-size-14">(').concat(a.problem_percentage,'%)</small></span>\n                                    <span class="account-health-note-description-tracking">Códigos com problema</span>\n                                </div>\n                                <div class="col-6 pr-0 pl-0 d-flex flex-column flex-nowrap justify-content-start align-items-start align-self-start">\n                                    <span class="account-health-note">').concat(a.unknown,' <small class="account-health-note-description font-size-14">(').concat(a.problem_percentage,'%)</small></span>\n                                    <span class="account-health-note-description-tracking">Códigos não informados</span>\n                                </div>\n                                <div class="col-6 pr-0 pl-0 d-flex flex-column flex-nowrap justify-content-start align-items-start align-self-start">\n                                    <span class="account-health-note">').concat(a.tracking_today,'</span>\n                                    <span class="account-health-note-description-tracking">Códigos informados hoje</span>\n                                </div>\n                            </div>\n                            <div class="sirius-account-loading"></div>\n                        </div>\n                ');$(".sirius-account > .card").append(e),t()}})}}))}window.updateAccountHealth=function(){loadingOnAccountsHealth(".sirius-account > .card"),$.ajax({method:"GET",url:"/api/dashboard/get-account-health",dataType:"json",data:{company:$("#company").val()},headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(n){loadingOnAccountsHealthRemove(".sirius-account > .card  .sirius-loading "),errorAjaxResponse(n)},success:function(a){if(a.account_score){var e='\n                            <div\n                                class="card-header d-flex justify-content-between align-items-center bg-white mt-10 pb-0 account-health">\n                                <div class="font-size-14 gray-600 mr-auto">\n                                    <span class="ml-0">Saúde da Conta</span>\n                                </div>\n                                    <ol class="card-indicators mb-0 d-flex justify-content-end align-items-center align-self-center">\n                                        <li class="active" data-slide-to="1"></li>\n                                        <li class="" data-slide-to="2"></li>\n                                        <li class="" data-slide-to="3"></li>\n                                        <li class="" data-slide-to="4"></li>\n                                        <i class="o-angle-down-1 control-prev active" data-slide-to="4"></i>\n                                        <i class="o-angle-down-1 control-next active" data-slide-to="2"></i>\n                                    </ol>\n                            </div>\n                            <div class="card-body pt-0 d-flex flex-column justify-content-start align-items-start account-health">\n                                <div id="" class="d-flex flex-row justify-content-start align-items-start align-self-start" >\n                                    <canvas id="account-health-chart-gauge" class="mr-15"></canvas>\n                                    <div class="mt-15 d-flex flex-column justify-content-center align-self-center">\n                                        <span id="account-health-note"><span class="'.concat(n[Math.floor(a.account_score)].textColor,'">').concat(a.account_score>=1?a.account_score:0,'</span>/10</span>\n                                        <p id="account-health-description" class="account-health-description">').concat(n[Math.floor(a.account_score)].description,'</p>\n                                    </div>\n                                </div>\n                                <div class="hr-horizontal mt-5 d-flex justify-content-center align-items-center align-self-center"></div>\n                                <div id="card-notes" class="mt-10 d-flex flex-row flex-nowrap justify-content-around align-items-stretch align-self-stretch" >\n                                    <div class="d-flex flex-column flex-nowrap justify-content-center align-items-stretch align-self-stretch">\n                                        <div id="account-health-note-chargebacks" class="d-flex flex-row flex-nowrap justify-content-center align-items-center align-self-center">\n                                            <span class="mr-10 ').concat(n[Math.floor(a.chargeback_score)].bgColor,' account-health-note-circle"></span>\n                                            <span class="account-health-note">').concat(a.chargeback_score?a.chargeback_score:0,'</span>\n                                        </div>\n                                        <span class="account-health-note-description">Chargebacks</span>\n                                    </div>\n                                    <div class="hr-vertical d-flex justify-content-center align-items-center align-self-center"></div>\n                                    <div class="d-flex flex-column flex-nowrap justify-content-center align-items-stretch align-self-stretch">\n                                        <div id="account-health-note-attendance" class="d-flex flex-row flex-nowrap justify-content-center align-items-center align-self-center">\n                                            <span class="mr-10 ').concat(n[Math.floor(a.attendance_score)].bgColor,' account-health-note-circle"></span>\n                                            <span class="account-health-note">').concat(a.attendance_score?a.attendance_score:0,'</span>\n                                        </div>\n                                        <span class="account-health-note-description">Atendimento</span>\n                                    </div>\n                                    <div class="hr-vertical d-flex justify-content-center align-items-center align-self-center"></div>\n                                    <div class="d-flex flex-column flex-nowrap justify-content-center align-items-stretch align-self-stretch">\n                                        <div id="account-health-note-tracking" class="d-flex flex-row flex-nowrap justify-content-center align-items-center align-self-center">\n                                            <span class="mr-10 ').concat(n[Math.floor(a.tracking_score)].bgColor,' account-health-note-circle"></span>\n                                            <span class="account-health-note">').concat(a.tracking_score?a.tracking_score:0,'</span>\n                                        </div>\n                                        <span class="account-health-note-description">Cod. Rastreio</span>\n                                    </div>\n                                </div>\n                                <div class="sirius-account-loading"></div>\n                            </div>\n                    ');$(".sirius-account > .card").append(e),t(),s=a.account_score,c={angle:0,lineWidth:.3,radiusScale:.8,pointer:{length:.47,strokeWidth:.035,color:"#000000"},limitMax:!0,limitMin:!0,colorStart:"#6FADCF",colorStop:"#FE330A",strokeColor:"#8FC0DA",generateGradient:!0,highDpiSupport:!1,renderTicks:{divisions:0,divWidth:.1,divLength:0,divColor:"#333333",subDivisions:0,subLength:0,subWidth:10,subColor:"#666666"},staticZones:[{strokeStyle:"#FF3006",min:0,max:2,height:1.3},{strokeStyle:"#FFAF00",min:2,max:4,height:1.3},{strokeStyle:"#F2CC11",min:4,max:6,height:1.3},{strokeStyle:"#1BCE68",min:6,max:8,height:1.3},{strokeStyle:"#04A74A",min:8,max:10,height:1.3}]},o=document.getElementById("account-health-chart-gauge"),(l=new Gauge(o).setOptions(c)).maxValue=10,l.setMinValue(0),l.animationSpeed=64,l.set(s)}else!function(){setTimeout((function(){loadingOnAccountsHealthRemove(".sirius-account > .card  .sirius-loading")}),500);var n='\n                            <div\n                                class="card-header d-flex justify-content-between align-items-center bg-white mt-10 pb-0 account-health">\n                            </div>\n                            <div class="card-body pt-0 d-flex flex-column justify-content-start align-items-start empty-score">\n                                <div class="d-flex flex-column flex-nowrap justify-content-center align-items-center align-self-center">\n                                    <span class="bg-color-blue "></span>\n                                    <h4>EM BREVE</h4>\n                                    <p>Faça +100 vendas para ativar este recurso.</p>\n                                </div>\n                                <div class="d-flex flex-row flex-nowrap justify-content-around align-items-stretch align-self-stretch" >\n                                    <div class="d-flex flex-column justify-content-between align-items-center align-self-center">\n                                        <div class="d-flex flex-row flex-nowrap justify-content-center align-items-center align-self-center">\n                                            <span class="bg-color-gray empty-cilce"></span>\n                                            <span></span>\n                                        </div>\n                                        <span class="account-health-note-description">Chargebacks</span>\n                                    </div>\n                                    <div class="hr-vertical d-flex justify-content-center align-items-center align-self-center"></div>\n                                    <div class="d-flex flex-column justify-content-between align-items-center align-self-center">\n                                        <div class="d-flex flex-row flex-nowrap justify-content-center align-items-center align-self-center">\n                                            <span class="bg-color-gray empty-cilce"></span>\n                                            <span></span>\n                                        </div>\n                                        <span class="account-health-note-description">Atendimento</span>\n                                    </div>\n                                    <div class="hr-vertical d-flex justify-content-center align-items-center align-self-center"></div>\n                                    <div class="d-flex flex-column justify-content-between align-items-center align-self-center">\n                                        <div class="d-flex flex-row flex-nowrap justify-content-center align-items-center align-self-center">\n                                            <span class="bg-color-gray empty-cilce"></span>\n                                            <span></span>\n                                        </div>\n                                        <span class="account-health-note-description">Cod. Rastreio</span>\n                                    </div>\n                                </div>\n                                <div class="sirius-account-loading"></div>\n                            </div>\n                    ';$(".sirius-account > .card").append(n)}();var s,c,o,l;$(".page.dashboard .sirius-account .sirius-account-health").css({height:" 225px"})}})}}));
