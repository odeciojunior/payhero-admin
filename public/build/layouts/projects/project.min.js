function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,r=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){r=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(r)throw i}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}$(document).ready((function(){var t=$(window.location.pathname.split("/")).get(-1),e=($(".add-domain"),$("#btn-delete-domain")),n=$("#btn-modal-add-domain"),a=$(".info-domain");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;loadOnTable("#domain-table-body","#tabela-dominios"),e=null==e?"/api/project/"+t+"/domains":"/api/project/"+t+"/domains"+e,$("#tab_domains").find(".no-gutters").css("display","none"),$("#tabela-dominios").find("thead").css("display","none"),$.ajax({method:"GET",url:e,headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){$("#domain-table-body").html(""),isEmpty(t.data)||""==t.data?($("#domain-table-body").html("\n                        <tr class='text-center'>\n                            <td colspan='4' style='height: 70px; vertical-align: middle;'>\n                                <div class='d-flex justify-content-center align-items-center'>\n                                    <img src='/modules/global/img/empty-state-table.svg' style='margin-right: 60px;'>\n                                    <div class='text-left'>\n                                        <h1 style='font-size: 24px; font-weight: normal; line-height: 30px; margin: 0; color: #636363;'>Nenhum domínio configurado</h1>\n                                        <p style='font-style: normal; font-weight: normal; font-size: 16px; line-height: 20px; color: #9A9A9A;'>Cadastre o seu primeiro domínio para poder\n                                        <br>gerenciá-los nesse painel.</p>\n                                        <button type='button' style='width: auto; height: auto; padding: .429rem 1rem !important;' class='btn btn-primary add-domain' data-toggle=\"modal\" data-target=\"#modal-add-domain\">Adicionar domínio</button>\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n                    "),$("#tabela-dominios").addClass("table-striped")):($("#tab_domains").find(".no-gutters").css("display","flex"),$("#tabela-dominios").find("thead").css("display","contents"),$("#count-cupons").html(t.meta.total),$.each(t.data,(function(t,e){s(e)})),$("#tabela-dominios").addClass("table-striped"),pagination(t,"domain",o),p(t),$(".delete-domain").on("click",(function(){i($(this).attr("domain"))})),$(".edit-domain").on("click",(function(){$("#btn-modal-add-input").show();var t=$(this).attr("domain");$("#modal-content-domain").css("overflow-y","auto").modal("show"),$("#domain").val(t),l(t)})),$(".details-domain").on("click",(function(){var t=$(this).attr("domain");$("#domain").val(""),$("#domain").val(t),$("#content-modal-recheck-dns-error").hide(),$("#content-modal-recheck-dns").show(),c()})))}})}function i(n){$(".btn-delete-modal-domain").css("opacity",1),$("#modal-delete-domain-body, #title-delete-domain, #description-delete-domain, .btn-delete-modal-domain").show(),$("#modal-delete-domain").modal("show"),e.unbind("click"),e.on("click",(function(){$(".btn-delete-modal-domain").css("opacity",0),loadOnAny("#modal-delete-domain-body",!1,{styles:{container:{minHeight:"240px"}},insertBefore:".modal-delete-footer"}),$.ajax({method:"DELETE",url:"/api/project/"+t+"/domains/"+n,dataType:"json",data:{project:t,domain:n},headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){$("#close-modal-delete-domain").click(),loadOnAny("#modal-delete-domain-body",!0),errorAjaxResponse(t),o()},success:function(t){$("#close-modal-delete-domain").click(),loadOnAny("#modal-delete-domain-body",!0),alertCustom("success",t.message),o()}})}))}function s(t){var e="";e+="<tr>",e+='<td class="text-center">'+t.domain+"</td>",e+='<td class="text-center"><span class="badge badge-'+d[t.status]+'">'+t.status_translated+"</span></td>",e+="<td style='text-align:center;'>",e+="<div class='d-flex justify-content-end align-items-center'>",e+="<a title='Visualizar' role='button' class='mg-responsive details-domain pointer' status='"+t.status+"' domain='"+t.id+"' ><span class='o-eye-1'></span> </a>",e+="<a title='Editar' role='button' class='mg-responsive edit-domain    pointer' status='"+t.status+"' domain='"+t.id+"' data-toggle='modal'><span class='o-edit-1'></span> </a>",e+="<a title='Excluir' role='button' class='mg-responsive delete-domain  pointer' status='' domain='"+t.id+"' data-toggle='modal'><span class='o-bin-1'></span> </a>",e+="</div>",e+="</td>",e+="</tr>",$("#domain-table-body").append(e)}function r(){$("#loaderModal").remove(),$("#especialModalTitle").remove()}function l(e){loadOnTable("#table-body-new-records","#new-registers-table"),$.ajax({method:"GET",url:"/api/project/"+t+"/domain/"+e+"/records",processData:!1,contentType:!1,cache:!1,headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},dataType:"json",error:function(t){errorAjaxResponse(t)},success:function(n){$("#table-body-new-records").html(""),function(t,e){var n="",a=0,o="checked",i="";$.each(t,(function(t,s){if(n+="<tr>",n+="<td >"+s.type+"</td>",n+='<td style="word-break: break-word;">'+s.name+"</td>",n+='<td style="word-break: break-word;">\n                        <div class="row align-items-center">\n                            \x3c!-- Target --\x3e\n                            <input id="copy-data-'.concat(t,'"\n                                   class="col-8 mr-1 input-pad"\n                                   data-toggle="tooltip"\n                                   data-placement="left"\n                                   title="').concat(s.content_complete,'"\n                                   value="').concat(s.content_complete,'"\n                                   readonly>\n\n                                \x3c!-- Trigger --\x3e\n                                <button class="btn copy-data col-2" data-clipboard-target="#copy-data-').concat(t,'">\n                                    <span class="material-icons icon-copy-1"> content_copy </span>\n                                </button>\n                        </div>\n                    </td>'),o=s.proxy?"checked":"","MX"!==s.type&&"TXT"!==s.type||(i="disabled"),s.system_flag){a++;var r="",l="disabled";r="A"===s.type&&s.name===s.domain_name||"CNAME"===s.type&&"www"===s.name||"CNAME"===s.type&&0===s.name.indexOf("mail.")?"<td><button style='background-color: transparent;' role='button' title='Excluir' class='btn mg-responsive delete-domain-record pointer' data-domain='"+e+"' data-system='"+s.system_flag+"' data-record='"+s.id+"'><span class='o-bin-1'></span> </button></td>":"<td><button style='background-color: transparent;' role='button' class='btn mg-responsive pointer'  "+l+"><span class='o-bin-1'></span> </a></td>",n+='<td><div class="switch-holder" style=" opacity: 0.5;">                    <label class="switch" style="cursor: not-allowed">                        <input type="checkbox" style="cursor: not-allowed" value="'+s.proxy+'" name="proxy" id="proxy" class="check check-proxy" '+o+"  "+l+' >                        <span class="slider round" style="cursor: not-allowed"></span>                    </label>                </div></td>',n+=r}else n+='<td><div class="switch-holder"><label class="switch">',n+='<input type="checkbox" value="'+s.proxy+'" name="proxy" id="proxy"  class="check check-proxy" data-domain="'+e+'" data-system="'+s.system_flag+'" data-record="'+s.id+'"  '+o+i+'  ><span class="slider round"></span></label></div></td>',n+="<td><button style='background-color: transparent;' role='button' title='Excluir' class='btn mg-responsive delete-domain-record pointer' data-domain='"+e+"' data-system='"+s.system_flag+"' data-record='"+s.id+"'><span class='o-bin-1'></span> </button></td>";n+="</td>",n+="</tr>"})),$((function(){$('[data-toggle="tooltip"]').tooltip(),$(".copy-data").on("click",(function(){new ClipboardJS(".copy-data").on("success",(function(t){console.info("Action:",t.action),console.info("Text:",t.text),console.info("Trigger:",t.trigger),alertCustom("success","Link copiado!"),t.clearSelection()}))}))})),$("#loaderLine").remove(),$("#new-registers-table").addClass("table-striped"),a>0?$("#empty-info").hide():$("#empty-info").show();$("#table-body-new-records").append(n)}(n.data.domainRecords,e),$(".delete-domain-record").unbind("click"),$(".delete-domain-record").on("click",(function(){isEmptyValue($(this).data("domain"))&&isEmptyValue($(this).data("record"))&&function(t,e,n){isEmptyValue(t)&&isEmptyValue(e)&&isEmptyValue(n)?$.ajax({method:"DELETE",url:"/api/project/"+t+"/domain/"+e+"/records/"+n,processData:!1,contentType:!1,cache:!1,headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},dataType:"json",error:function(t){errorAjaxResponse(t),$("#table-body-new-records").html(""),l(e)},success:function(t){alertCustom("success",t.message),$("#table-body-new-records").html(""),l(e)}}):alertCustom("error","Ocorreu um erro, tente novamente mais tarde!")}(t,$(this).data("domain"),$(this).data("record"))})),$(".check-proxy").bind("change",(function(){$(this).is(":checked")?$(this).val(1):$(this).val(0),$(this).data("system")||$.ajax({method:"PUT",url:"/api/project/"+t+"/domain/"+$(this).data("domain")+"/records/"+$(this).data("record"),data:{proxy:this.value},headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){},success:function(t){alertCustom("success",t.message)}})}))}})}function c(){$.ajax({method:"GET",url:"/api/project/"+t+"/domains/"+$("#domain").val(),headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){if($(".table-title-entry").remove(),3===t.data.status)$("#content-modal-recheck-dns").hide(),$("#modal-info-dsn-success-body, #content-modal-recheck-dns-success").show();else{var e="";$.each(t.data.zones,(function(t,n){e+='<tr class="table-title-entry"><td class= "table-title" > <b>Novo servidor DNS: </b></td><td> '+n+" </td></tr>"})),$("#table-zones-add").append(e),t.data.domainHost?$("#nameHost").html(t.data.domainHost):$("#nameHost").html(""),$("#content-modal-recheck-dns-success").hide(),$("#modal-title-dns-recheck, #modal-info-dsn-body, #content-modal-recheck-dns").show()}$("#modal-info-dns").modal("show")}})}$("#previewimage").imgAreaSelect({remove:!0}),o(),$(".add-domain").unbind("click"),$(document).on("click",".add-domain",(function(){$("#btn-modal-add-input").show(),$("#loaderModal").remove(),$("#modal-title-add-domain").html("Novo domínio"),$("#btn-modal-add-domain").show(),$("#form-add-domain").submit((function(){return!1})),$("#modal-body-add-domain").show(),$("#modal-add-domain").modal("show"),$("#btn-modal-add-domain").unbind("click"),$(document).on("click","#btn-modal-add-domain",(function(){0===$.trim($(".name-domain").val()).length?a.addClass("text-danger").html("Preencha corretamente o domínio").show():($(".info-domain").html(""),function(){$("#especialModalTitle").remove(),$("#modal-title-add-domain").html(""),e="#modal-body-add-domain",$("#modal-title-add-domain").after('<h3 id="especialModalTitle" style="font-weight:bold; color:black"></h3>'),$("#modal-title-add-domain").hide(),loadOnAny(e,!1,{styles:{container:{minHeight:"180px"}}}),$("#especialModalTitle").html("Iniciando ... "),setTimeout((function(){$("#especialModalTitle").html("Configurando domínio")}),1e3),setTimeout((function(){$("#especialModalTitle").html("Configurando entradas DNS")}),6e3),setTimeout((function(){$("#especialModalTitle").html("Preparando servidores de Email")}),13e3),setTimeout((function(){$("#especialModalTitle").html("Preparando checkout transparente")}),2e4),setTimeout((function(){$("#especialModalTitle").html("Finalizando ... ")}),25e3),$("#btn-modal-add-domain").hide(),n.hide();var e;var i=new FormData(document.getElementById("form-add-domain"));i.append("project_id",t),$.ajax({method:"POST",url:"/api/project/"+t+"/domains",processData:!1,contentType:!1,cache:!1,headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},dataType:"json",data:i,error:function(t){$("#especialModalTitle").remove(),loadOnAny("#modal-body-add-domain",!0),$("#modal-title-add-domain").html("Novo domínio").show(),$("#form-add-domain, #btn-modal-add-domain").show(),errorAjaxResponse(t)},success:function(t){loadOnAny("#modal-body-add-domain",!0),$("#modal-button-close").click(),alertCustom("success",t.message),o(),$(".btn-continue-domain").show(),a=t.data,function(t){$("#domain").val(""),$("#domain").val(t.data.id_code),$("#btn-modal-continue-domain").show(),$("#modal-content-domain").css("overflow-y","auto").modal("show"),l(t.data.id_code)}(t)}})}())}))})),$("#type-register").change((function(){"MX"===$("#type-register option:selected").val()?($("#name-register").parent().removeClass("col-lg-10").addClass("col-lg-8"),$("#div-input-priority").remove(),$("#name-register").parent().after(' <div id="div-input-priority" class="col-sm-12 col-md-5 col-lg-2 mb-3"><input id="value-priority" name="priority" class="input-pad" data-mask="0#" placeholder="Prioridade"></div>'),$("#proxy-active").attr("disabled",!0),$("#proxy-select ").val("0").change(),$("#value-priority").mask("0#")):"TXT"===$("#type-register option:selected").val()?($("#div-input-priority").remove(),$("#proxy-active").attr("disabled",!0),$("#proxy-select").val("0").change()):($("#div-input-priority").remove(),$("#proxy-active").removeAttr("disabled"),$("#div-input-priority").remove(),$("#name-register").parent().removeClass("col-lg-8").addClass("col-lg-10"))})),$("#form-modal-add-domain-record").submit((function(){return!1})),$("#bt-add-record").on("click",(function(){if(n=!1,0===$("#name-register").val().length?($("#error-name-register-dns").show(),n=!0):$("#error-name-register-dns").hide(),0===$("#value-record").val().length?($("#error-value-record").show(),n=!0):$("#error-value-record").hide(),n)return!1;$("#error-name-register-dns, #error-value-record").hide();var e=$("#domain").val();loadOnTable("#table-body-new-records","#new-registers-table");var n,a=new FormData(document.getElementById("form-modal-add-domain-record"));a.append("project",t),a.append("domain",e),$.ajax({method:"POST",url:"/api/project/"+t+"/domain/"+e+"/records",processData:!1,contentType:!1,cache:!1,headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:a,dataType:"json",error:function(t){$(".swal2-container, #modal-backdrop, #loaderLine").remove(),r(),errorAjaxResponse(t),l(e)},success:function(t){$(".swal2-container").remove(),r(),alertCustom("success",t.message),$("#name-register, #value-record").val(""),l(e)}})})),$(".btn-continue-domain").on("click",(function(){$("#modal-button-close-edit-domain-record").click(),$("#content-modal-recheck-dns-error").hide(),$("#content-modal-recheck-dns").show(),c()})),$(".btn-verify-domain").unbind("click"),$(document).on("click",".btn-verify-domain",(function(){var e=$("#domain").val();$("#modal-title-dns-recheck").hide(),loadOnModal(".content-dns"),$.ajax({method:"GET",url:"/api/project/"+t+"/domain/"+e+"/recheck",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){$(".swal2-container").remove(),r(),$("#loaderModal").remove(),errorAjaxResponse(t),$("#content-modal-recheck-dns").hide(),$("#content-modal-recheck-dns-error").show()},success:function(t){$(".swal2-container").remove(),r(),$("#loaderModal").remove(),alertCustom("success",t.message),$("#content-modal-recheck-dns").hide(),$("#modal-info-dsn-success-body, #content-modal-recheck-dns-success").show(),o()}})}));var d={1:"warning",2:"warning",3:"success",4:"danger"};function p(t){"approved"==t.data[0].document_status?$("#div-recheck-dns").html("<button class='btn btn-success btn-verify-domain' domain='' style='font-size: 25px;'>Verificar</button>"):$("#div-recheck-dns").html('<span class="table-title">A aprovação do domínio só ficará disponível quando seus documentos e da sua empresa estiverem aprovados</span>')}$(".modal").on("hidden.bs.modal",(function(){var t;$(t).html(""),$(".modal-footer").css("display",""),$("#btn-modal").show(),$("#modal-title").show(),$("#especialModalTitle").remove()}))}));var loadingProducts='\n<div class="ph-item">\n    <div class="row">\n        <div class="col-6" style="padding-right: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n        <div class="col-6" style="padding-left: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-6" style="padding-right: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n        <div class="col-6" style="padding-left: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-6" style="padding-right: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n        <div class="col-6" style="padding-left: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n    </div>\n</div>\n',loadingCreateStage1='\n<div class="ph-item">\n    <div class="row" style="margin-bottom: 27px;">\n        <div class="col-12">\n            <div class="d-flex align-items-center justify-content-between">\n                <div class="d-flex align-items-center" style="width: 100%; margin-right: 15px;">\n                    <div><div class="placeholder-avatar" style="width: 36px; height: 36px; margin-right: 15px;"></div></div>\n                    <div class="placeholder-picture" style="width: 70px; height: 20px;"></div>\n                </div>\n                <div class="placeholder-picture" style="width: 100%; height: 2px; margin-right: 15px;"></div>\n                <div class="d-flex align-items-center" style="width: 100%; margin-right: 15px;">\n                    <div><div class="placeholder-avatar" style="width: 36px; height: 36px; margin-right: 15px;"></div></div>\n                    <div class="placeholder-picture" style="width: 70px; height: 20px;"></div>\n                </div>\n                <div class="placeholder-picture" style="width: 100%; height: 2px; margin-right: 15px;"></div>\n                <div class="d-flex align-items-center" style="width: 100%;">\n                <div><div class="placeholder-avatar" style="width: 36px; height: 36px; margin-right: 15px;"></div></div>\n                    <div class="placeholder-picture" style="width: 70px; height: 20px;"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 20px; margin-bottom: 21px;"></div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 48px; margin-bottom: 16px;"></div>\n        </div>\n    </div>\n\n    <div class="row">\n        <div class="col-6" style="padding-right: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n        <div class="col-6" style="padding-left: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-6" style="padding-right: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n        <div class="col-6" style="padding-left: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-6" style="padding-right: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n        <div class="col-6" style="padding-left: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n    </div>\n</div>\n',loadingCreateStage2='\n<div class="ph-item">\n    <div class="row" style="margin-bottom: 27px;">\n        <div class="col-12">\n            <div class="d-flex align-items-center justify-content-between">\n                <div class="d-flex align-items-center" style="width: 100%; margin-right: 15px;">\n                    <div><div class="placeholder-avatar" style="width: 36px; height: 36px; margin-right: 15px;"></div></div>\n                    <div class="placeholder-picture" style="width: 70px; height: 20px;"></div>\n                </div>\n                <div class="placeholder-picture" style="width: 100%; height: 2px; margin-right: 15px;"></div>\n                <div class="d-flex align-items-center" style="width: 100%; margin-right: 15px;">\n                    <div><div class="placeholder-avatar" style="width: 36px; height: 36px; margin-right: 15px;"></div></div>\n                    <div class="placeholder-picture" style="width: 70px; height: 20px;"></div>\n                </div>\n                <div class="placeholder-picture" style="width: 100%; height: 2px; margin-right: 15px;"></div>\n                <div class="d-flex align-items-center" style="width: 100%;">\n                <div><div class="placeholder-avatar" style="width: 36px; height: 36px; margin-right: 15px;"></div></div>\n                    <div class="placeholder-picture" style="width: 70px; height: 20px;"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 40px; margin-bottom: 25px;"></div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 18px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 18px;"></div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 22px;">\n        <div class="col-12">\n            <div class="d-flex">\n                <div style="width: 46px; height: 46px; margin-right: 16px;">\n                    <div class="placeholder-picture" style="width: 46px; height: 100%;"></div>\n                </div>\n                <div class="placeholder-picture" style="height: 46px;"></div>\n            </div>\n        </div>\n    </div>\n    <div class="row" style="margin-bottom: 22px;">\n        <div class="col-12">\n            <div class="d-flex">\n                <div style="width: 46px; height: 46px; margin-right: 16px;">\n                    <div class="placeholder-picture" style="width: 46px; height: 100%;"></div>\n                </div>\n                <div class="placeholder-picture" style="height: 46px;"></div>\n            </div>\n        </div>\n    </div>\n    <div class="row" style="margin-bottom: 22px;">\n        <div class="col-12">\n            <div class="d-flex">\n                <div style="width: 46px; height: 46px; margin-right: 16px;">\n                    <div class="placeholder-picture" style="width: 46px; height: 100%;"></div>\n                </div>\n                <div class="placeholder-picture" style="height: 46px;"></div>\n            </div>\n        </div>\n    </div>\n    <div class="row" style="margin-bottom: 22px;">\n        <div class="col-12">\n            <div class="d-flex">\n                <div style="width: 46px; height: 46px; margin-right: 16px;">\n                    <div class="placeholder-picture" style="width: 46px; height: 100%;"></div>\n                </div>\n                <div class="placeholder-picture" style="height: 46px;"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 22px;">\n        <div class="col-12">\n            <div class="d-flex align-items-center">\n                <div style="width: 46px; height: 26px; margin-right: 16px;">\n                    <div class="placeholder-picture" style="width: 100%; height: 100%;"></div>\n                </div>\n                <div class="placeholder-picture" style="height: 18px;"></div>\n            </div>\n        </div>\n    </div>\n</div>\n',loadingCreateStage3='\n<div class="ph-item">\n    <div class="row" style="margin-bottom: 27px;">\n        <div class="col-12">\n            <div class="d-flex align-items-center justify-content-between">\n                <div class="d-flex align-items-center" style="width: 100%; margin-right: 15px;">\n                    <div><div class="placeholder-avatar" style="width: 36px; height: 36px; margin-right: 15px;"></div></div>\n                    <div class="placeholder-picture" style="width: 70px; height: 20px;"></div>\n                </div>\n                <div class="placeholder-picture" style="width: 100%; height: 2px; margin-right: 15px;"></div>\n                <div class="d-flex align-items-center" style="width: 100%; margin-right: 15px;">\n                    <div><div class="placeholder-avatar" style="width: 36px; height: 36px; margin-right: 15px;"></div></div>\n                    <div class="placeholder-picture" style="width: 70px; height: 20px;"></div>\n                </div>\n                <div class="placeholder-picture" style="width: 100%; height: 2px; margin-right: 15px;"></div>\n                <div class="d-flex align-items-center" style="width: 100%;">\n                <div><div class="placeholder-avatar" style="width: 36px; height: 36px; margin-right: 15px;"></div></div>\n                    <div class="placeholder-picture" style="width: 70px; height: 20px;"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 22px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 20px;"></div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 16px;">\n        <div class="col-6">\n            <div class="placeholder-picture" style="height: 18px; margin-bottom: 8px;"></div>\n            <div class="placeholder-picture" style="height: 48px;"></div>\n        </div>\n        <div class="col-6">\n            <div class="placeholder-picture" style="height: 18px; margin-bottom: 8px;"></div>\n            <div class="placeholder-picture" style="height: 48px;"></div>\n        </div>\n    </div>\n    <div class="row" style="margin-bottom: 31px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 18px; margin-bottom: 8px;"></div>\n            <div class="placeholder-picture" style="height: 70px;"></div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-top: 31px; margin-bottom: 16px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 20px; margin-bottom: 0;"></div>\n        </div>\n    </div>\n    <div class="row" style="margin-bottom: 24px;">\n        <div class="col-12">\n            <div style="display: flex; justify-content: space-between;">\n                <div style="width: 15%;">\n                    <div class="placeholder-picture" style="height: 16px; margin-bottom: 4px;"></div>\n                    <div class="placeholder-picture" style="height: 20px; margin-bottom: 0;"></div>\n                </div>\n                <div style="width: 15%;">\n                    <div class="placeholder-picture" style="height: 16px; margin-bottom: 4px;"></div>\n                    <div class="placeholder-picture" style="height: 20px; margin-bottom: 0;"></div>\n                </div>\n                <div style="width: 15%;">\n                    <div class="placeholder-picture" style="height: 16px; margin-bottom: 4px;"></div>\n                    <div class="placeholder-picture" style="height: 20px; margin-bottom: 0;"></div>\n                </div>\n                <div style="width: 15%;">\n                    <div class="placeholder-picture" style="height: 16px; margin-bottom: 4px;"></div>\n                    <div class="placeholder-picture" style="height: 20px; margin-bottom: 0;"></div>\n                </div>\n                <div style="width: 15%;">\n                    <div class="placeholder-picture" style="height: 16px; margin-bottom: 4px;"></div>\n                    <div class="placeholder-picture" style="height: 20px; margin-bottom: 0;"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 32px;"></div>\n        </div>\n    </div>\n</div>\n',loadingEditStage1='\n<div class="ph-item">\n    <div class="row" style="margin-bottom: 27px;">\n        <div class="col-12">\n            <div class="d-flex align-items-center justify-content-between">\n                <div class="d-flex align-items-center" style="width: 100%;">\n                    <div><div class="placeholder-avatar" style="width: 36px; height: 36px; margin-right: 15px;"></div></div>\n                    <div class="placeholder-picture" style="height: 20px;"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 24px;">\n        <div class="col-6" style="padding-right: 7.5px;">\n            <div class="placeholder-picture" style="height: 47px; margin-bottom: 0px;"></div>\n        </div>\n        <div class="col-6" style="padding-left: 7.5px;">\n            <div class="placeholder-picture" style="height: 47px; margin-bottom: 0px;"></div>\n        </div>\n    </div>\n    <div class="row" style="margin-bottom: 44px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 47px; margin-bottom: 0px;"></div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 16px;">\n        <div class="col-12">\n            <div class="d-flex align-items-center justify-content-between">\n                <div class="d-flex align-items-center" style="width: 100%;">\n                    <div><div class="placeholder-avatar" style="width: 36px; height: 36px; margin-right: 15px;"></div></div>\n                    <div class="placeholder-picture" style="height: 20px;"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 18px;">\n        <div class="col-6" style="padding-right: 7.5px;">\n            <div class="placeholder-picture" style="height: 56px; margin-bottom: 14px;"></div>\n        </div>\n        <div class="col-6" style="padding-left: 7.5px;">\n            <div class="placeholder-picture" style="height: 56px; margin-bottom: 14px;"></div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 32px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 18px; margin-bottom: 0;"></div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 16px;">\n        <div class="col-12">\n            <div class="d-flex align-items-center justify-content-between">\n                <div class="d-flex align-items-center" style="width: 100%;">\n                    <div><div class="placeholder-avatar" style="width: 36px; height: 36px; margin-right: 15px;"></div></div>\n                    <div class="placeholder-picture" style="height: 20px;"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 24px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 36px;"></div>\n        </div>\n    </div>\n\n    <div class="row">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 32px; margin-bottom: 20px;"></div>\n        </div>\n    </div>\n</div>\n',loadingEditStage2='\n<div class="ph-item">\n    <div class="row" style="margin-bottom: 16px;">\n        <div class="col-12">\n            <div class="d-flex  align-items-center">\n                <div style="margin-right: 12px;">\n                    <div class="placeholder-avatar"></div>\n                </div>\n                <div style="width: 100%;">\n                    <div class="placeholder-picture" style="height: 20px"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 27px;">\n        <div class="col-12">\n            <div style="display: flex;">\n                <div class="placeholder-picture" style="width: 56px; height: 56px; margin-right: 12px;"></div>\n                <div class="placeholder-picture" style="width: 56px; height: 56px; margin-right: 12px;"></div>\n                <div class="placeholder-picture" style="width: 56px; height: 56px; margin-right: 12px;"></div>\n                <div class="placeholder-picture" style="width: 56px; height: 56px; margin-right: 12px;"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 20px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 48px; margin-bottom: 16px;"></div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 12px;">\n        <div class="col-6" style="padding-right: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px;"></div>\n        </div>\n        <div class="col-6" style="padding-left: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px;"></div>\n        </div>\n    </div>\n    <div class="row" style="margin-bottom: 12px;">\n        <div class="col-6" style="padding-right: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px;"></div>\n        </div>\n        <div class="col-6" style="padding-left: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px;"></div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-6" style="padding-right: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px;"></div>\n        </div>\n        <div class="col-6" style="padding-left: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px;"></div>\n        </div>\n    </div>\n</div>\n',loadingEditStage3='\n<div class="ph-item">\n    <div class="row" style="margin-bottom: 27px;">\n        <div class="col-12">\n            <div class="d-flex align-items-center justify-content-between">\n                <div class="d-flex align-items-center" style="width: 100%; margin-right: 15px;">\n                    <div><div class="placeholder-avatar" style="width: 36px; height: 36px; margin-right: 15px;"></div></div>\n                    <div class="placeholder-picture" style="width: 70px; height: 20px;"></div>\n                </div>\n                <div class="placeholder-picture" style="width: 100%; height: 2px; margin-right: 15px;"></div>\n                <div class="d-flex align-items-center" style="width: 100%; margin-right: 15px;">\n                    <div><div class="placeholder-avatar" style="width: 36px; height: 36px; margin-right: 15px;"></div></div>\n                    <div class="placeholder-picture" style="width: 70px; height: 20px;"></div>\n                </div>\n                <div class="placeholder-picture" style="width: 100%; height: 2px; margin-right: 15px;"></div>\n                <div class="d-flex align-items-center" style="width: 100%;">\n                <div><div class="placeholder-avatar" style="width: 36px; height: 36px; margin-right: 15px;"></div></div>\n                    <div class="placeholder-picture" style="width: 70px; height: 20px;"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 40px; margin-bottom: 25px;"></div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 18px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 18px;"></div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 22px;">\n        <div class="col-12">\n            <div class="d-flex">\n                <div style="width: 46px; height: 46px; margin-right: 16px;">\n                    <div class="placeholder-picture" style="width: 46px; height: 100%;"></div>\n                </div>\n                <div class="placeholder-picture" style="height: 46px;"></div>\n            </div>\n        </div>\n    </div>\n    <div class="row" style="margin-bottom: 22px;">\n        <div class="col-12">\n            <div class="d-flex">\n                <div style="width: 46px; height: 46px; margin-right: 16px;">\n                    <div class="placeholder-picture" style="width: 46px; height: 100%;"></div>\n                </div>\n                <div class="placeholder-picture" style="height: 46px;"></div>\n            </div>\n        </div>\n    </div>\n    <div class="row" style="margin-bottom: 22px;">\n        <div class="col-12">\n            <div class="d-flex">\n                <div style="width: 46px; height: 46px; margin-right: 16px;">\n                    <div class="placeholder-picture" style="width: 46px; height: 100%;"></div>\n                </div>\n                <div class="placeholder-picture" style="height: 46px;"></div>\n            </div>\n        </div>\n    </div>\n    <div class="row" style="margin-bottom: 22px;">\n        <div class="col-12">\n            <div class="d-flex">\n                <div style="width: 46px; height: 46px; margin-right: 16px;">\n                    <div class="placeholder-picture" style="width: 46px; height: 100%;"></div>\n                </div>\n                <div class="placeholder-picture" style="height: 46px;"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 22px;">\n        <div class="col-12">\n            <div class="d-flex align-items-center">\n                <div style="width: 46px; height: 26px; margin-right: 16px;">\n                    <div class="placeholder-picture" style="width: 100%; height: 100%;"></div>\n                </div>\n                <div class="placeholder-picture" style="height: 18px;"></div>\n            </div>\n        </div>\n    </div>\n</div>\n',loadingEditStage4='\n<div class="ph-item">\n    <div class="row" style="margin-bottom: 16px;">\n        <div class="col-12">\n            <div class="d-flex  align-items-center">\n                <div style="margin-right: 12px;">\n                    <div class="placeholder-avatar"></div>\n                </div>\n                <div style="width: 100%;">\n                    <div class="placeholder-picture" style="height: 20px"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 20px;">\n        <div class="col-12">\n            <div style="display: flex;">\n                <div style="margin-right: 16px;">\n                    <div class="placeholder-picture" style="width: 56px; height: 56px;"></div>\n                </div>\n                <div class="placeholder-picture" style="height: 56px;"></div>\n            </div>\n        </div>\n    </div>\n    <div class="row" style="margin-bottom: 20px;">\n        <div class="col-12">\n            <div style="display: flex;">\n                <div style="margin-right: 16px;">\n                    <div class="placeholder-picture" style="width: 56px; height: 56px;"></div>\n                </div>\n                <div class="placeholder-picture" style="height: 56px;"></div>\n            </div>\n        </div>\n    </div>\n    <div class="row" style="margin-bottom: 20px;">\n        <div class="col-12">\n            <div style="display: flex;">\n                <div style="margin-right: 16px;">\n                    <div class="placeholder-picture" style="width: 56px; height: 56px;"></div>\n                </div>\n                <div class="placeholder-picture" style="height: 56px;"></div>\n            </div>\n        </div>\n    </div>\n</div>\n',loadingCustomStage1='\n<div class="ph-item">\n    <div class="row" style="margin-bottom: 36px;">\n        <div class="col-12">\n            <div class="d-flex  align-items-center">\n                <div style="margin-right: 12px;">\n                    <div class="placeholder-avatar"></div>\n                </div>\n                <div style="width: 100%;">\n                    <div class="placeholder-picture" style="height: 20px"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 37px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 18px;"></div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 20px;">\n        <div class="col-12">\n            <div style="display: flex;">\n                <div style="margin-right: 16px;">\n                    <div class="placeholder-picture" style="width: 56px; height: 56px;"></div>\n                </div>\n                <div class="placeholder-picture" style="height: 56px;"></div>\n            </div>\n        </div>\n    </div>\n    <div class="row" style="margin-bottom: 20px;">\n        <div class="col-12">\n            <div style="display: flex;">\n                <div style="margin-right: 16px;">\n                    <div class="placeholder-picture" style="width: 56px; height: 56px;"></div>\n                </div>\n                <div class="placeholder-picture" style="height: 56px;"></div>\n            </div>\n        </div>\n    </div>\n</div>\n',loadingCustomStage2='\n<div class="ph-item">\n    <div class="row" style="margin-bottom: 36px;">\n        <div class="col-12">\n            <div class="d-flex  align-items-center">\n                <div style="margin-right: 12px;">\n                    <div class="placeholder-avatar"></div>\n                </div>\n                <div style="width: 100%;">\n                    <div class="placeholder-picture" style="height: 20px"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 30px;">\n        <div class="col-12">\n            <div class="d-flex align-items-center" style="width: 100%;">\n                <div><div class="placeholder-picture" style="width: 56px; height: 56px; margin-right: 16px;"></div></div>\n                <div class="placeholder-picture" style="height: 56px;"></div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 24px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 80px;"></div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 30px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 30px;"></div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 35px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 18px;"></div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 20px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 45px;"></div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 20px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 28px;"></div>\n        </div>\n    </div>\n</div>\n',loadingPlansConfigCost='\n<div class="ph-item">\n    <div class="row" style="margin-bottom: 31px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 18px; margin-bottom: 8px;"></div>\n            <div class="placeholder-picture" style="height: 48px;"></div>\n        </div>\n    </div>\n\n    <div class="row" style="margin-bottom: 20px;">\n        <div class="col-12">\n            <div class="placeholder-picture" style="height: 20px; margin-bottom: 4px;"></div>\n            <div class="placeholder-picture" style="height: 15px; margin-bottom: 22px;"></div>\n            <div class="placeholder-picture" style="height: 48px;"></div>\n        </div>\n    </div>\n\n    <div class="row">\n        <div class="col-6" style="padding-right: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n        <div class="col-6" style="padding-left: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-6" style="padding-right: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n        <div class="col-6" style="padding-left: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n    </div>\n</div>\n',loadingPlans='\n<div class="ph-item">\n    <div class="row">\n        <div class="col-6" style="padding-right: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n        <div class="col-6" style="padding-left: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-6" style="padding-right: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n        <div class="col-6" style="padding-left: 7.5px;">\n            <div class="placeholder-picture" style="height: 84px; margin-bottom: 12px;"></div>\n        </div>\n    </div>\n</div>\n';$((function(){var t,e={0:"default",1:"success"},n=$(window.location.pathname.split("/")).get(-1),a=[],o=[],i="",s=0,r=0,l=0,c=!1,d=[];function p(){$("#tab_plans-panel").find(".no-gutters").css("display","none"),$("#table-plans").find("thead").css("display","none")}function u(t){return 0===Object.keys(t).length}function h(t){var e="";switch(t){case"Text":e='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M3.9 1.8C2.7402 1.8 1.8 2.7402 1.8 3.9V7.5C1.8 7.99705 1.39705 8.4 0.9 8.4C0.402948 8.4 0 7.99705 0 7.5V3.9C0 1.74608 1.74608 0 3.9 0H7.5C7.99705 0 8.4 0.402948 8.4 0.9C8.4 1.39705 7.99705 1.8 7.5 1.8H3.9ZM3.9 22.2C2.7402 22.2 1.8 21.2598 1.8 20.1V16.5C1.8 16.003 1.39705 15.6 0.9 15.6C0.402948 15.6 0 16.003 0 16.5V20.1C0 22.2539 1.74608 24 3.9 24H7.5C7.99705 24 8.4 23.597 8.4 23.1C8.4 22.603 7.99705 22.2 7.5 22.2H3.9ZM22.2 3.9C22.2 2.7402 21.2598 1.8 20.1 1.8H16.5C16.003 1.8 15.6 1.39705 15.6 0.9C15.6 0.402948 16.003 0 16.5 0H20.1C22.2539 0 24 1.74608 24 3.9V7.5C24 7.99705 23.597 8.4 23.1 8.4C22.603 8.4 22.2 7.99705 22.2 7.5V3.9ZM20.1 22.2C21.2598 22.2 22.2 21.2598 22.2 20.1V16.5C22.2 16.003 22.603 15.6 23.1 15.6C23.597 15.6 24 16.003 24 16.5V20.1C24 22.2539 22.2539 24 20.1 24H16.5C16.003 24 15.6 23.597 15.6 23.1C15.6 22.603 16.003 22.2 16.5 22.2H20.1ZM6.9 4.8C6.40295 4.8 6 5.20295 6 5.7V7.2C6 7.69705 6.40295 8.1 6.9 8.1C7.39705 8.1 7.8 7.69705 7.8 7.2V6.6H11.1V17.4H9.3C8.80295 17.4 8.4 17.803 8.4 18.3C8.4 18.797 8.80295 19.2 9.3 19.2H14.7C15.197 19.2 15.6 18.797 15.6 18.3C15.6 17.803 15.197 17.4 14.7 17.4H12.9V6.6H16.2V7.2C16.2 7.69705 16.603 8.1 17.1 8.1C17.597 8.1 18 7.69705 18 7.2V5.7C18 5.20295 17.597 4.8 17.1 4.8H6.9Z" fill="#636363"/>\n                </svg>';break;case"Image":e='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M16.6645 4C18.5055 4 19.9979 5.4924 19.9979 7.33333C19.9979 9.17427 18.5055 10.6667 16.6645 10.6667C14.8236 10.6667 13.3312 9.17427 13.3312 7.33333C13.3312 5.4924 14.8236 4 16.6645 4ZM14.9979 7.33333C14.9979 8.2538 15.7441 9 16.6645 9C17.585 9 18.3312 8.2538 18.3312 7.33333C18.3312 6.41287 17.585 5.66667 16.6645 5.66667C15.7441 5.66667 14.9979 6.41287 14.9979 7.33333ZM0 3.16667C0 1.41777 1.41777 0 3.16667 0H20.8333C22.5823 0 24 1.41777 24 3.16667V20.8333C24 21.6251 23.7094 22.3491 23.229 22.9043C23.1932 22.9687 23.1482 23.0294 23.094 23.0845C23.0365 23.1429 22.9726 23.1911 22.9044 23.2289C22.3492 23.7093 21.6252 24 20.8333 24H3.16667C2.37332 24 1.64812 23.7083 1.09249 23.2262C1.02613 23.1888 0.963833 23.1415 0.90772 23.0845C0.855053 23.0311 0.811093 22.9722 0.77582 22.9099C0.29256 22.3539 0 21.6278 0 20.8333V3.16667ZM22.3333 20.8333V3.16667C22.3333 2.33824 21.6617 1.66667 20.8333 1.66667H3.16667C2.33824 1.66667 1.66667 2.33824 1.66667 3.16667V20.8333C1.66667 20.9377 1.67732 21.0395 1.69759 21.1378L10.2465 12.7234C11.2194 11.7657 12.7807 11.7657 13.7537 12.7233L22.3027 21.1365C22.3228 21.0386 22.3333 20.9372 22.3333 20.8333ZM3.16667 22.3333H20.8333C20.9299 22.3333 21.0243 22.3242 21.1157 22.3068L12.5847 13.9112C12.2603 13.592 11.7399 13.592 11.4156 13.9112L2.8856 22.3071C2.97667 22.3243 3.0706 22.3333 3.16667 22.3333Z" fill="#636363"/>\n                </svg>';break;case"File":e='<svg width="21" height="22" viewBox="0 0 21 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M9.77024 2.7431C12.1117 0.399509 15.9106 0.399509 18.2538 2.74266C20.5369 5.02572 20.5954 8.69093 18.4294 11.0449L18.2413 11.2422L9.44124 20.0404L9.40474 20.0707C7.94346 21.3875 5.68946 21.3427 4.28208 19.9353C2.96306 18.6163 2.84095 16.5536 3.91574 15.0969C3.93908 15.0516 3.96732 15.0078 4.00054 14.9667L4.0541 14.907L4.14101 14.8193L4.28208 14.6714L4.28501 14.6743L11.7207 7.21998C11.9866 6.95336 12.4032 6.9286 12.6971 7.14607L12.7814 7.21857C13.048 7.48449 13.0727 7.90112 12.8553 8.19502L12.7828 8.27923L5.1882 15.8923C4.47056 16.7679 4.52044 18.0622 5.33784 18.8796C6.1669 19.7087 7.48655 19.7481 8.36234 18.998L17.195 10.1676C18.9505 8.40992 18.9505 5.56068 17.1931 3.80332C15.4907 2.10087 12.7635 2.04767 10.9971 3.64371L10.8292 3.80332L10.8166 3.81763L1.28033 13.354C0.987435 13.6468 0.512565 13.6468 0.219665 13.354C-0.0465948 13.0877 -0.0708047 12.671 0.147055 12.3774L0.219665 12.2933L9.76854 2.74266L9.77024 2.7431Z" fill="#636363"/>\n                </svg>'}return e}function m(t,e,o,i){$(".tooltip").remove(),$(o).find(".product-photo").unbind("load");var s="create"==i?"#stage1":"#stage2";$(o).find(".modal-body").css("height","auto"),$(o).find(s).find(".box-review").html("").css("margin-bottom","0px"),$(o).find(s).find(".box-products").html("").css({height:"auto","padding-right":"0px"}),$(o).find(s).find(".box-products").mCustomScrollbar("destroy"),$(o).find(s).find(".box-products").mCustomScrollbar("update"),$(o).find(s).find(".box-products").html(loadingProducts).promise().done((function(){$.ajax({method:"POST",url:"/api/products/topselling",data:{project:n,product:t,description:e},dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){var e='<div class="row" style="display: none;">';t.data.length>0?t.data.forEach((function(t){var n=a.map((function(t){return t.id})).indexOf(t.id);e+='<div class="col-sm-6">',e+="<div "+(t.name_short_flag?'data-toggle="tooltip" data-placement="top" title="'+t.name+'"':"")+' data-code="'+t.id+'" class="box-product '+(-1!=n?"selected":"")+" "+(1==t.status_enum||3==t.status_enum?"review":"")+' d-flex justify-content-between align-items-center">',e+='<div class="d-flex align-items-center">',e+='<div class="background-photo">',e+='<img class="product-photo" src="'+t.photo+'">',e+="</div>",e+="<div>",e+='<h1 class="title" '+(1==t.status_enum||3==t.status_enum?'style="color: #C5C5C5"':"")+">"+t.name_short+"</h1>",e+='<p class="description" '+(1==t.status_enum||3==t.status_enum?'style="color: #C7C7C7"':"")+">"+t.description+"</p>",e+="</div>",e+="</div>",1!=t.status_enum&&3!=t.status_enum&&(e+='<div class="check">',-1!=n&&(e+='<img src="/modules/global/img/icon-product-selected.svg" alt="Icon Check">'),e+="</div>"),e+="</div>",e+="</div>"})):($(".tooltip").remove(),e+='<div class="col-sm-12">',e+='<div class="text-center" style="height: 150px; margin-bottom: 25px; margin-top: 15px;"><img style="margin: 0 auto;" class="product-photo" src="/modules/global/img/search-product_not-found.png" ></div>',e+='<p class="m-0 text-center" style="font-size: 24px; line-height: 30px; color: #636363;">Nenhum resultado encontrado.</p>',e+='<p class="text-center" style="font-size: 16px; line-height: 20px; color: #9A9A9A; margin-bottom: 20px;">Por aqui, nenhum produto com esse nome.</p>',e+="</div>");var n=$(o).find(".modal-body").height();$(o).find(s).find(".box-products").append(e).promise().done((function(){$('[data-toggle="tooltip"]').tooltip({container:".page",template:'<div class="tooltip product-select" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'}),t.data.length>6&&$(o).find(s).find(".box-products").mCustomScrollbar(),$(o).find(".product-photo").on("error",(function(){$(this).attr("src","https://cloudfox-files.s3.amazonaws.com/produto.svg")})),$(o).find(s).find(".product-photo").on("load",(function(){$(o).find(".ph-item").fadeOut(100,(function(){this.remove()})).promise().done((function(){$(o).find(s).find(".box-products").find(".row").css("display","flex").promise().done((function(){t.data.length>6&&$(o).find(s).find(".box-products").css({height:"316px"});var e=$(o).find(".height-auto").height()+18;$(o).find(".modal-body").stop(!0,!0).height(n).animate({height:e},300).promise().done((function(){$(o).find(".product-photo").unbind("load")}))}))}))}))}))}})}))}function f(t,e){$(t).find(".modal-dialog").css({right:"-17px"}),$(t).find(".product-photo").unbind("load"),$(t).find(".box-description").find(".selecteds span").html(""),$(t).find(".box-description").find(".selecteds").css("display","none"),$(t).find(".modal-body").css("height","auto").attr("style","padding-bottom: 0px !important"),$(t).find(".modal-body").find(".height-auto").css("margin-top","");var i="create"==e?"#stage1":"#stage2";k(t),"edit"==e?($(t).find(".nav-tabs-horizontal").css("display","none"),$(t).find(".modal-footer").html('<button id="btn-modal-plan-return" type="button" data-type="edit" class="btn btn-default btn-lg" role="button">Voltar</button><button id="btn-modal-plan-next" type="button" data-type="edit" class="btn btn-primary btn-lg">Continuar</button>').removeClass("justify-content-between")):($(t).find("#btn-modal-plan-return").html("Voltar"),$(t).find("#btn-modal-plan-next").html("Continuar")),$(t).find(".tab-pane").removeClass("show active"),$(t).find(i).find(".box-products").html("").css({height:"316px","padding-right":"0px"}),$(t).find(i).find(".box-products").mCustomScrollbar("destroy"),$(t).find(i).find(".box-products").mCustomScrollbar("update"),$(t).find(".modal-body").mCustomScrollbar("destroy"),$(t).find(".modal-body").mCustomScrollbar("update"),$(t).find(i).find("#search-product").val(""),$(t).find(i).find(".box-review").html(""),$(t).find(".tab-pane").removeClass("show active").promise().done((function(){"create"==e?$(t).find(".modal-body").append(loadingCreateStage1):$(t).find(".modal-body").append(loadingEditStage2),$.ajax({method:"POST",url:"/api/products/topselling",data:{project:n},dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(n){var s='<div class="row">';n.data.length>0?n.data.forEach((function(t){var e=a.map((function(t){return t.id})).indexOf(t.id);s+='<div class="col-sm-6">',s+="<div "+(t.name_short_flag?'data-toggle="tooltip" data-placement="top" title="'+t.name+'"':"")+' data-code="'+t.id+'" class="box-product '+(-1!=e?"selected":"")+" "+(1==t.status_enum||3==t.status_enum?"review":"")+' d-flex justify-content-between align-items-center">',s+='<div class="d-flex align-items-center">',s+='<div class="background-photo">',s+='<img class="product-photo" src="'+t.photo+'" style="display: none;">',s+="</div>",s+="<div>",s+='<h1 class="title" '+(1==t.status_enum||3==t.status_enum?'style="color: #C5C5C5"':"")+">"+t.name_short+"</h1>",s+='<p class="description" '+(1==t.status_enum||3==t.status_enum?'style="color: #C7C7C7"':"")+">"+t.description+"</p>",s+="</div>",s+="</div>",1!=t.status_enum&&3!=t.status_enum&&(s+='<div class="check">',-1!=e&&(s+='<img src="/modules/global/img/icon-product-selected.svg" alt="Icon Check">'),s+="</div>"),s+="</div>",s+="</div>"})):(s+='<div class="col-sm-12">',s+='<div class="text-center" style="height: 150px; margin-bottom: 25px; margin-top: 15px;"><img style="margin: 0 auto;" class="product-photo" src="/modules/global/img/search-product_not-found.png" ></div>',s+='<p class="m-0 text-center" style="font-size: 24px; line-height: 30px; color: #636363;">Nenhum resultado encontrado.</p>',s+='<p class="text-center" style="font-size: 16px; line-height: 20px; color: #9A9A9A;">Por aqui, nenhum produto com esse nome.</p>',s+="</div>");var r=$(t).find(".modal-body").height();$(t).find(i).find(".box-products").html(s).promise().done((function(){if($('[data-toggle="tooltip"]').tooltip({container:".page",template:'<div class="tooltip product-select" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'}),n.data.length>6&&$(t).find(i).find(".box-products").mCustomScrollbar(),"edit"==e){o.map((function(t){var e=a.map((function(t){return t.id})).indexOf(t.product_id);e>-1&&(a[e].name=t.product_name,a[e].photo=t.photo)}));var s='<div class="d-flex">';a.forEach((function(t){a.map((function(t){return t.id})).indexOf(t.id)>-1&&(s+='<div class="background-photo" data-toggle="tooltip" data-placement="top" data-id="'+t.id+'" title="'+t.name+'">',s+='<img class="product-photo" src="'+t.photo+'">',s+="</div>")})),s+="</div>",$(t).find(".box-photos-products").html(s).promise().done((function(){var e="auto";a.length>8&&(e=68*a.length+"px",$(t).find(".box-photos-products").mCustomScrollbar({axis:"x"})),$(t).find(".box-photos-products").find(".d-flex").css("width",e),$('[data-toggle="tooltip"]').tooltip({container:".page",template:'<div class="tooltip product-details" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'})}))}$(t).find(".product-photo").on("error",(function(){$(this).attr("src","https://cloudfox-files.s3.amazonaws.com/produto.svg").fadeIn(300)})),$(t).find(".product-photo").on("load",(function(){$(this).fadeIn(300)})),$(t).find(".ph-item").fadeOut(100,(function(){this.remove()})).promise().done((function(){$(t).find("#tab-general-data_panel").addClass("show active").promise().done((function(){$(t).find(i).addClass("show active").promise().done((function(){var e=$(t).find(".height-auto").height()+18;$(t).find(".modal-body").stop(!0,!0).height(r).animate({height:e},300)}))}))}))}))}})}))}function g(t,e){$(t).find(".product-photo").unbind("load");var n="create"==e?"#stage2":"#stage3";$(t).find(".modal-body").css("height","auto"),$(t).find(n).find(".box-products").html("").css({overflow:"unset",height:"unset","padding-right":"0px"}),$(t).find(n).find(".box-products").find(".body").mCustomScrollbar("destroy"),$(t).find(n).find(".box-products").find(".body").mCustomScrollbar("update"),$(t).find(n).find(".box-review").html(""),$(t).find("#btn-modal-plan-return").html("Voltar"),"create"==e?$(t).find("#btn-modal-plan-next").html("Continuar"):$(t).find("#btn-modal-plan-next").html("Finalizar"),$(t).find(".tab-pane").removeClass("show active").promise().done((function(){$(t).find(".modal-body").append(loadingEditStage3).promise().done((function(){var o=0,s="";a.forEach((function(r){var l=a.map((function(t){return t.id})).indexOf(r.id),c=0;"edit"==e&&a[l].currency_type_enum&&(c=i),$.ajax({method:"GET",url:"/api/product/"+r.id,data:{plan_id:c},dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){alertCustom("error","Ocorreu um erro, por favor, refaça a operação")},success:function(i){var r=1,c=i.data.cost.replace("R$ ","").replace("$ ","").replace(",","").replace(".",","),d=i.data.currency_type_enum;if(a[l].currency_type_enum&&(r=a[l].amount,c=a[l].value,d="USD"==a[l].currency_type_enum?2:1),s+='<div class="product d-flex align-items-center" data-code="'+i.data.id+'">',s+='<div class="div-product d-flex align-items-center" '+(i.data.name_short_flag?'data-toggle="tooltip" data-placement="top" title="'+i.data.name+'"':"")+">",s+='<div class="div-photo" data-type="'+e+'"><img class="product-photo" src="'+i.data.photo+'" style="display: none;"></div>',s+='<h1 class="title">'+i.data.name_short+"</h1>",s+="</div>",s+='<div class="div-amount">',s+='<div class="d-flex align-items-center justify-content-center ">',s+='<div class="input-number">',s+='<button class="btn-sub">',s+='<img src="/modules/global/img/minus.svg">',s+="</button>",s+='<input type="number" class="form-control" name="amount" value="'+r+'" min="1" max="99" step="1">',s+='<button class="btn-add">',s+='<img src="/modules/global/img/plus.svg">',s+="</button>",s+="</div>",s+="</div>",s+="</div>",s+='<div class="div-value"><input class="form-control form-control-lg" autocomplete="off" value="'+c+'" type="text" name="value" placeholder="Valor un."></div>',s+='<div class="div-currency">',s+='<select class="sirius-select" type="text" name="currency_type_enum">',s+='<option value="BRL" '+(1==d?"selected":"")+">BRL (R$)</option>",s+='<option value="USD" '+(2==d?"selected":"")+">USD ($)</option>",s+="</select>",s+="</div>",s+="</div>",a.length==++o){var p=$(t).find(".modal-body").height();$(t).find(n).find(".box-products").html('<div class="box-details"><div class="head d-flex"><div>Produto</div><div>Quantidade<span style="color: #FF0000;">*</span></div><div>Custo (un)</div><div>Moeda</div></div><div class="body"><div class="row"><div class="col-sm-12">'+s+"</div></div></div></div>").promise().done((function(){$('[data-toggle="tooltip"]').tooltip({container:".page",template:'<div class="tooltip product-details" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'}),$(t).find(".sirius-select").each((function(){$(this).siriusSelect()})),$(t).find(n).find(".product-photo").on("error",(function(){$(this).attr("src","https://cloudfox-files.s3.amazonaws.com/produto.svg").fadeIn(300)})),$(t).find(n).find(".product-photo").on("load",(function(){$(this).fadeIn(300)})),$('input[name="value"]').mask("#.##0,00",{reverse:!0,onKeyPress:function(t,e,n,a){t.replace(/\./g,"").replace(",",".")>1e7&&(n.val("10.000.000,00"),alertCustom("error","Valor máximo de 10.000.000,00 por produto"))}}),a.length>4&&($(t).find(n).find(".box-products").find(".body").css({height:"278px",position:"relative",overflow:"hidden"}),$(t).find(n).find(".box-products").find(".body").mCustomScrollbar()),a.length>1?$(t).find(n).find(".box-review").html('<div class="switch-holder d-flex">\n                                                <label class="switch">\n                                                    <input type="checkbox" id="check-values" name="check-values" class="check" value="0">\n                                                    <span class="slider round"></span>\n                                                </label>\n                                                <label for="product_amount_selector" style="margin: 0;">Todos os produtos têm o mesmo custo</label>\n                                            </div>').css({"margin-top":"25px"}):$(t).find(n).find(".box-review").html(""),"edit"==e&&$(t).find(".modal-footer").find("#btn-modal-plan-next").html("Finalizar"),$(t).find(".ph-item").fadeOut(100,(function(){this.remove()})).promise().done((function(){$(t).find("#tab-general-data_panel").addClass("show active").promise().done((function(){$(t).find(n).addClass("show active").promise().done((function(){var e=$(t).find(".height-auto").height()+40;$(t).find(".modal-body").stop(!0,!0).height(p).animate({height:e},300)}))}))}))}))}}})}))}))}))}function v(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a=[],$(t).find(".product-photo").unbind("load"),$(t).find(".modal-body").css({height:"auto"}).attr("style","padding-top: 0 !important"),$(t).find(".informations-data").attr("style","height: auto !important"),$(t).find("#tab-customizations").removeClass("clicked show active").addClass("disabled"),$(t).find("#tab-general-data").removeClass("clicked").addClass("show active"),$(t).find(".nav-tabs-horizontal").css("display","block"),$(t).find("#tab-general-data_panel").removeClass("show active"),$(t).find(".modal-body").mCustomScrollbar("destroy"),$(t).find(".modal-body").mCustomScrollbar("update"),$(t).find("#stage1").find(".box-products").mCustomScrollbar("destroy"),$(t).find("#stage1").find(".box-products").mCustomScrollbar("update"),$(t).find(".products-data").css("height","148px"),$(t).find(".modal-title").html("Detalhes"),$(t).find(".modal-footer").html('<button plan="'+i+'" id="btn-modal-plan-delete" type="button" class="btn btn-default btn-lg px-0" style="box-shadow: none !important; color: #838383; align-items: center !important; display: flex; padding: 10px 32px; background: transparent; border: none;" role="button"><svg width="22" height="26" viewBox="0 0 22 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.8846 4.2L17.7692 23.04C17.7594 23.5566 17.5577 24.0492 17.2064 24.4146C16.855 24.78 16.3814 24.9898 15.8846 25H6.11538C5.61864 24.9898 5.14497 24.78 4.79365 24.4146C4.44232 24.0492 4.24061 23.5566 4.23077 23.04L3.11538 4.2M1 4.2H21H1ZM7.15385 4.2V2.56C7.15385 2.14626 7.31188 1.74947 7.59319 1.45691C7.87449 1.16436 8.25602 1 8.65385 1H13.3462C13.5431 1 13.7382 1.04035 13.9202 1.11875C14.1022 1.19715 14.2675 1.31205 14.4068 1.45691C14.5461 1.60177 14.6566 1.77375 14.732 1.96301C14.8074 2.15228 14.8462 2.35514 14.8462 2.56V4.2H7.15385Z" stroke="#838383" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M10.9997 7.22223V20.5556M8.27246 7.22223L8.81792 20.5556M13.727 7.22223L13.1816 20.5556" stroke="#838383" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/></svg><span style="margin-left: 10px;">Excluir plano</span></button><button id="btn-modal-plan-close" type="button" data-dismiss="modal" class="btn btn-primary btn-lg">Fechar</button>').removeClass("justify-content-end").addClass("justify-content-between"),$(t).find("#stage1").find(".products-edit").find("a").remove(),$(t).find(".tab-pane").removeClass("show active").promise().done((function(){$(t).find(".modal-body").append(loadingEditStage1),$.ajax({method:"GET",url:"/api/project/"+n+"/plans/"+i,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(n){o=n.data.products,a=[],o.map((function(t){a.push({id:t.product_id,currency_type_enum:t.currency,value:t.product_cost.replace("R$ ","").replace("$ ","").replace(/\,/g,"").replace(".",","),amount:t.amount})}));var i=parseFloat(n.data.price.replace("R$","").replace("$ ","").replace(/\./g,"").replace(",",".")).toFixed(2),l=(i*(s+1)/100).toFixed(2),c=_(),d=(i-l).toFixed(2),p=(d-c).toFixed(2),u=$(t).find(".modal-body").height(),h=n.data.products,m="74px";h.length>2&&h.length<=10&&(m="148px"),h.length>10&&(m="63px"),$(t).find(".products-data").css("height",m);var f='<div class="row">';if(h.length<=10)h.forEach((function(t){f+='<div class="col-sm-6">',f+="<div "+(t.product_name_short_flag?'data-toggle="tooltip" data-placement="top" title="'+t.product_name+'"':"")+' class="box-product d-flex justify-content-between align-items-center" style="cursor: inherit;">',f+='<div class="d-flex align-items-center">',f+='<div class="background-photo"><img class="product-photo" src="'+t.photo+'" style="display: none;"></div>',f+="<div>",f+='<h1 class="title">'+t.product_name_short+"</h1>",f+='<p class="description">Qtd: '+t.amount+"</p>",f+="</div>",f+="</div>",f+="</div>",f+="</div>"}));else{f+='<div class="col-sm-12 d-flex align-items-center">';var g=0;h.forEach((function(t){++g<=8&&(f+='<div data-toggle="tooltip" data-placement="top" title="'+t.product_name+'" class="box-product" style="cursor: inherit;">',f+='<div class="background-photo" style="width: 43px; height: 43px;"><img class="product-photo" src="'+t.photo+'" style="display: none;"></div>',f+="</div>")}));var v=h.length-8;f+='<div style="margin-bottom: 18px;">',f+='<a type="button" id="all-products" style="cursor: pointer; color: #2E85EC; font-weight: bold; font-size: 16px;">+'+v+"</a>",f+="</div>",f+="</div>"}f+="</div>",$(t).find("#stage1").find(".box-products").html(f).promise().done((function(){h.length>4&&h.length<=10&&$(t).find("#stage1").find(".box-products").mCustomScrollbar(),$(t).find("#tab-customizations").removeClass("disabled"),$(t).find(".modal-title").html("Detalhes de "+n.data.name_short),$(t).find(".modal-title").attr("data-title","Detalhes de "+n.data.name),$(t).find("#btn-edit-informations-plan").attr("data-code",n.data.id),$(t).find("#name").val(n.data.name_short),$(t).find("#name").attr("data-short",n.data.name_short).attr("data",n.data.name),n.data.name_short_flag?$(t).find("#name").attr("data-toggle","tooltip").attr("title",n.data.name):($(t).find("#name").removeAttr("data-toggle").removeAttr("title"),$(t).find("#name").tooltip("dispose")),$(t).find("#price").val(n.data.price),$(t).find("#price").attr("data",n.data.price),$(t).find("#description").val(n.data.description_short),$(t).find("#description").attr("data-short",n.data.description_short).attr("data",n.data.description),n.data.description_short_flag?$(t).find("#description").attr("data-toggle","tooltip").attr("title",n.data.description):($(t).find("#description").removeAttr("data-toggle").removeAttr("title"),$(t).find("#description").tooltip("dispose")),$(t).find("#stage1").find(".price-plan p").html(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i)),$(t).find("#stage1").find(".costs-plan p").html(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c)),$(t).find("#stage1").find(".tax-plan p").html(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l)),$(t).find("#stage1").find(".comission-plan p").html(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d)),p<0?$(t).find("#stage1").find(".profit-plan").find("p").css("color","#F10800"):$(t).find("#stage1").find(".profit-plan").find("p").css("color","#41DC8F"),$(t).find("#stage1").find(".profit-plan p").html(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(p)),$(t).find("#stage1").find(".description-tax p span").html(s.toString().replace(".",",")),$(t).find("#stage1").find(".release_money_days").html(r),$(t).find("#stage1").find(".products-edit").find(".title").find("span").html(" "+n.data.products.length+(n.data.products.length>1?" produtos":" produto")),$(t).find("#stage1").find(".product-photo").on("error",(function(){$(this).attr("src","https://cloudfox-files.s3.amazonaws.com/produto.svg").fadeIn(300)})),$(t).find("#stage1").find(".product-photo").on("load",(function(){$(this).fadeIn(300)})),1==e?y(t):$(t).find(".ph-item").fadeOut(100,(function(){this.remove()})).promise().done((function(){$('[data-toggle="tooltip"]').tooltip({container:".page",template:'<div class="tooltip product-select" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'}),$("#modal_edit_plan .modal-body").css("overflow","hidden"),$(t).find(".modal-body").mCustomScrollbar(),$(t).find("#tab-general-data_panel").addClass("show active").promise().done((function(){$(t).find("#stage1").addClass("show active").promise().done((function(){$(t).find(".modal-body").stop(!0,!0).height(u).animate({height:"485px"},300)}))}))}))}))}})}))}function y(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];$(t).find(".product-photo").unbind("load"),$(t).find(".modal-body").mCustomScrollbar("destroy"),$(t).find(".modal-body").mCustomScrollbar("update"),$(t).find("#stage1-customization").find(".body-products").mCustomScrollbar("destroy"),$(t).find("#stage1-customization").find(".body-products").mCustomScrollbar("update"),$(t).find(".modal-body").css("height","auto").attr("style","padding-bottom: 0px !important").attr("style","padding-top: 0 !important"),$(t).find("#stage1-customization").find(".box-products").css({height:"auto"}),$(t).find(".modal-footer").html('<button plan="'+i+'" id="btn-modal-plan-delete" type="button" class="btn btn-default btn-lg px-0" style="box-shadow: none !important; color: #838383; align-items: center !important; display: flex; padding: 10px 32px; background: transparent; border: none;" role="button"><svg width="22" height="26" viewBox="0 0 22 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.8846 4.2L17.7692 23.04C17.7594 23.5566 17.5577 24.0492 17.2064 24.4146C16.855 24.78 16.3814 24.9898 15.8846 25H6.11538C5.61864 24.9898 5.14497 24.78 4.79365 24.4146C4.44232 24.0492 4.24061 23.5566 4.23077 23.04L3.11538 4.2M1 4.2H21H1ZM7.15385 4.2V2.56C7.15385 2.14626 7.31188 1.74947 7.59319 1.45691C7.87449 1.16436 8.25602 1 8.65385 1H13.3462C13.5431 1 13.7382 1.04035 13.9202 1.11875C14.1022 1.19715 14.2675 1.31205 14.4068 1.45691C14.5461 1.60177 14.6566 1.77375 14.732 1.96301C14.8074 2.15228 14.8462 2.35514 14.8462 2.56V4.2H7.15385Z" stroke="#838383" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/><path d="M10.9997 7.22223V20.5556M8.27246 7.22223L8.81792 20.5556M13.727 7.22223L13.1816 20.5556" stroke="#838383" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/></svg><span style="margin-left: 10px;">Excluir plano</span></button><button id="btn-modal-plan-close" type="button" data-dismiss="modal" class="btn btn-primary btn-lg">Fechar</button>').removeClass("justify-content-end").addClass("justify-content-between"),$(t).find(".tab-pane").removeClass("show active").promise().done((function(){e&&$(t).find(".modal-body").append(loadingCustomStage1);var n="";n+='<div class="row header">',n+='<div class="col-sm-6">',n+='<h1 class="title">Produtos no plano</h1>',n+="</div>",n+='<div class="col-sm-6">',n+='<h1 class="title">Tipo de customização</h1>',n+="</div>",n+="</div>",n+='<div class="row body-products" style="padding: 0;">',n+='<div class="col-sm-12">',o.forEach((function(t){n+='<div class="row box-product body align-items-center" style="cursor: inherit;">',n+='<div class="col-sm-6" '+(t.product_name_short_flag?'data-toggle="tooltip" data-placement="top" title="'+t.product_name+'"':"")+">",n+='<div class="product d-flex align-items-center">',n+='<div class="background-photo">',n+='<img class="product-photo" src="'+t.photo+'" style="display: none;">',n+="</div>",n+="<div>",n+='<h1 class="title">'+t.product_name_short+"</h1>",n+='<p class="description m-0">Qtd: '+t.amount+"</p>",n+="</div>",n+="</div>",n+="</div>",n+='<div class="col-sm-6">',n+='<div class="d-flex '+(t.custom_configs.length>0?"justify-content-between":"justify-content-end")+' align-items-center">',t.custom_configs.length>0&&(n+='<div class="d-flex customs">',-1!=t.custom_configs.map((function(t){return t.type})).indexOf("Text")&&(n+='<div class="d-flex align-items-center">',n+='<div class="custom-type">',n+='<img src="/modules/global/img/icon-custom-product-text.svg">',n+="</div>",n+="</div>"),-1!=t.custom_configs.map((function(t){return t.type})).indexOf("Image")&&(n+='<div class="d-flex align-items-center">',n+='<div class="custom-type">',n+='<img src="/modules/global/img/icon-custom-product-image.svg">',n+="</div>",n+="</div>"),-1!=t.custom_configs.map((function(t){return t.type})).indexOf("File")&&(n+='<div class="d-flex align-items-center">',n+='<div class="custom-type">',n+='<img src="/modules/global/img/icon-custom-product-file.svg">',n+="</div>",n+="</div>"),n+="</div>"),n+='<div class="d-flex align-items-center">',n+='<a class="btn-customizations" data-product="'+t.product_id+'" type="button" style="cursor: pointer; '+(t.custom_configs.length>0?"margin-right: 14px;":"")+'">'+(t.custom_configs.length>0?"Editar":"Adicionar")+"</a>",t.custom_configs.length>0&&(n+='<div class="switch-holder active_custom d-flex align-items-center">',n+='<label class="switch m-0">',n+='<input type="checkbox" data-product="'+t.product_id+'" name="check-values" class="check active_custom_product" value="'+t.is_custom+'" '+(t.is_custom?"checked":"")+">",n+='<span class="slider round"></span>',n+="</label>",n+="</div>"),n+="</div>",n+="</div>",n+="</div>",n+="</div>"})),n+="</div>",n+="</div>",$(t).find("#tab-general-data").removeClass("show active"),$(t).find("#tab-customizations").addClass("show active");var a=$(t).find(".modal-body").height();$(t).find("#stage1-customization").find(".box-products").html(n).promise().done((function(){o.length>2&&($(t).find("#stage1-customization").find(".body-products").css({height:"214px",position:"relative",overflow:"hidden"}),$(t).find("#stage1-customization").find(".body-products").mCustomScrollbar()),$(t).find(".customizations").find(".product-photo").on("error",(function(){$(this).attr("src","https://cloudfox-files.s3.amazonaws.com/produto.svg").fadeIn(300)})),$(t).find(".customizations").find(".product-photo").fadeIn(300),$(t).find(".ph-item").fadeOut(100,(function(){this.remove()})).promise().done((function(){$(t).find(".product-photo").unbind("load"),$('[data-toggle="tooltip"]').tooltip({container:".page",template:'<div class="tooltip product-select" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'}),$(t).find("#tab-customizations_panel").addClass("show active").promise().done((function(){$(t).find("#stage1-customization").addClass("show active").promise().done((function(){var e=$(t).find(".height-auto").height();$(t).find(".modal-body").stop(!0,!0).height(a).animate({height:e},300)}))}))}))}))}))}function b(t,e){if("create"==e)$.ajax({method:"POST",url:"/api/project/"+n+"/plans",dataType:"JSON",headers:{Authorization:$('meta[name="access-token"]').attr("content")},data:{project_id:n,products:a,name:$(t).find("#name").val(),price:$(t).find("#price").val(),description:$(t).find("#description").val()},error:function(t){errorAjaxResponse(t)},success:function(e){j(),$(t).find("#name").val(""),$(t).find("#price").val(""),$(t).find("#description").val(""),alertCustom("success","Plano adicionado com sucesso"),$(t).modal("hide")}});else{var o=$("#pagination-plans").find(".active").text();$(".box-products .form-control").each((function(){var t=$(this).parents(".product").attr("data-code"),e=$(this).attr("name"),n=$(this).val();a.map((function(a){if(t==a.id){if("amount"==e)return Object.assign(a,{amount:n});if("value"==e)return Object.assign(a,{value:n})}}))})),$(".box-products .sirius-select").each((function(){var t=$(this).parents(".product").attr("data-code"),e=$(this).attr("name"),n=$(this).val();a.map((function(a){if(t==a.id&&"currency_type_enum"==e)return Object.assign(a,{currency_type_enum:n})}))})),$.ajax({method:"PUT",url:"/api/plans/"+i+"/products",dataType:"JSON",headers:{Authorization:$('meta[name="access-token"]').attr("content")},data:{products:a},error:function(t){errorAjaxResponse(t)},success:function(e){j(o),alertCustom("success","Produtos do plano atualizados"),$(t).modal("hide")}})}}function x(){$.ajax({async:!1,method:"GET",url:"/api/project/"+n+"/plans/"+i,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){o=t.data.products}})}function _(){for(var t=0,e=0;e<a.length;e++)if(a[e].value){var n=a[e].value.replace(/\./g,"").replace(",",".");"USD"==a[e].currency_type_enum&&(n*=l/100),t+=n*a[e].amount}return t}$(".tab_plans").on("click",(function(){p(),$("#previewimage").imgAreaSelect({remove:!0}),$("#plan-name").val(""),j(),$(this).off(),$.ajax({async:!1,method:"GET",url:"/api/projects/"+n+"/companie",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){console.log(t)},success:function(t){s=parseFloat(t.data.gateway_tax),r=t.data.gateway_release_money_days,l=t.data.currency_quotation}})}));var w=null;$("body").on("keyup","#search-product",(function(t){clearTimeout(w);var e="#"+$(this).parents(".modal").attr("id"),n="create";"#modal_edit_plan"==e&&(n="edit");var a=t.target.value,o=$(e).find("#search-product-description").val();w=setTimeout((function(){m(a,o,e,n)}),800)}));var C=null;function k(t){a.length>0?"#modal_add_plan"==t?($(t).find(".box-description").find(".selecteds span").html(a.length),$(t).find(".box-description").find(".selecteds").css("display","block")):$(t).find("#stage2").find(".box-breadcrumbs").find(".title span").html(" "+a.length+(a.length>1?" produtos":" produto")):"#modal_add_plan"==t?($(t).find(".box-description").find(".selecteds span").html(""),$(t).find(".box-description").find(".selecteds").css("display","none")):$(t).find("#stage2").find(".box-breadcrumbs").find(".title span").html(" 0 produtos")}function j(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t=o,loadOnTable("#data-table-plan","#table-plans"),o=null==o?"/api/project/"+n+"/plans":a>0?"/api/project/"+n+"/plans?page="+a+"&plan=":"/api/project/"+n+"/plans"+o;var i=$("#plan-name").val();$.ajax({method:"GET",url:o,dataType:"json",data:{plan:i},headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){$("#data-table-plan").html("Erro ao encontrar dados"),errorAjaxResponse(t)})),success:function(t){$("#pagination-plans").html(""),u(t.data)?(""!=i?$("#data-table-plan").html("\n                            <tr class='text-center'>\n                                <td colspan='11' style='height: 70px; vertical-align: middle;'>\n                                    Nenhum dado encontrado\n                                </td>\n                            </tr>\n                        "):$("#data-table-plan").html("\n                            <tr class='text-center'>\n                                <td colspan='11' style='height: 70px; vertical-align: middle;'>\n                                    <div class='d-flex justify-content-center align-items-center'>\n                                        <img src='/modules/global/img/empty-state-table.svg' style='margin-right: 60px;'>\n                                        <div class='text-left'>\n                                            <h1 style='font-size: 24px; font-weight: normal; line-height: 30px; margin: 0; color: #636363;'>Nenhum plano configurado</h1>\n                                            <p style='font-style: normal; font-weight: normal; font-size: 16px; line-height: 20px; color: #9A9A9A;'>Cadastre o seu primeiro plano para poder\n                                            <br>gerenciá-los nesse painel.</p>\n                                            <button type='button' style='margin: 0; width: auto; height: auto; padding: .429rem 1rem !important;' class='btn btn-primary add-plan' data-toggle=\"modal\" data-target=\"#modal_add_plan\">Adicionar plano</button>\n                                        </div>\n                                    </div>\n                                </td>\n                            </tr>\n                        "),$("#table-plans").addClass("table-striped"),$("#pagination-plans").html("")):($("#tab_plans-panel").find(".no-gutters").css("display","flex"),$("#table-plans").find("thead").css("display","contents"),$("#data-table-plan").html(""),$("#count-plans").html(t.meta.total),"approved"==t.data[0].document_status?($.each(t.data,(function(t,n){data="",data+="<tr>",data+='<td id="" class="" style="vertical-align: middle; line-height: 1;"><span '+(n.name_short_flag?'data-toggle="tooltip" title="'+n.name+'"':"")+">"+n.name_short+'</span><div style="color: #8B8B8B; line-height: 1;"><small>com '+(n.products_length>1?n.products_length+" produtos":n.products_length+" produto")+"</small></div></td>",data+="<td id='' class='' style='vertical-align: middle;'><span "+(n.description_short_flag?"data-toggle='tooltip' title='"+n.description+"'":"")+">"+n.description_short+"</span></td>",data+='<td id="" class="" style="vertical-align: middle;">'+n.price+"</td>",data+='<td id="link" data-status="'+n.status+'" class="copy_link text-center" title="Copiar Link" style="vertical-align: middle; '+(1==n.status?"cursor:pointer;":"")+'" link="'+n.code+'">',data+="<span "+(0==n.status?'data-toggle="tooltip" title="Domínio não confirugado"':"")+">",data+='<span class="display-sm-none display-m-none">Copiar </span><img src="/modules/global/img/icon-copy-c.svg">',data+="</span>",data+="</td>",data+='<td id="" class="text-center"><span class="badge badge-'+e[n.status]+'">'+n.status_translated+"</span></td>",data+="<td class='mg-responsive text-center' style='line-height: 1;'>",data+="<div class='d-flex justify-content-end align-items-center'>",data+="<a title='Visualizar' class='mg-responsive pointer details-plan' plan='"+n.id+"' role='button'><span class='o-eye-1'></span></a>",data+="<a title='Excluir' class='mr-0 mg-responsive pointer delete-plan' plan='"+n.id+"' role='button'><span class='o-bin-1'></span></a>",data+="</div>",data+="</td>",data+="</tr>",$("#data-table-plan").append(data),$("#table-plans").addClass("table-striped"),$("#currency_type_project").val(n.currency_project)})),pagination(t,"plans",j)):($("#data-table-plan").html("<tr class='text-center'><td colspan='11' style='height: 70px; vertical-align: middle;'>Link de pagamento só ficará disponível quando seus documentos e da sua empresa estiverem aprovados</td></tr>"),$("#table-plans").addClass("table-striped")),$('[data-toggle="tooltip"]').tooltip({container:".page"}))}})}$("body").on("keyup","#search-product-description",(function(t){clearTimeout(C);var e="#"+$(this).parents(".modal").attr("id"),n="create";"#modal_edit_plan"==e&&(n="edit");var a=t.target.value,o=$(e).find("#search-product").val();C=setTimeout((function(){m(o,a,e,n)}),800)})),$("body").on("keyup",".box-products #price",(function(){if(""!=$(this).val()){var t=$(this).val().replace(/\./g,"").replace(",","."),e=(t*(s+1)/100).toFixed(2),n=_(),a=(t-e).toFixed(2),o=(a-n).toFixed(2);$(".price-plan").find("p").html(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)),$(".tax-plan").find("p").html(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)),$(".comission-plan").find("p").html(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a)),o<0?$(".profit-plan").find("p").css("color","#F10800"):$(".profit-plan").find("p").css("color","#41DC8F"),$(".profit-plan").find("p").html(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o))}else{o=(n=_()).toFixed(2);$(".price-plan").find("p").html("R$0,00"),$(".tax-plan").find("p").html("R$0,00"),$(".comission-plan").find("p").html("R$0,00"),$(".profit-plan").find("p").html(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format("-"+o))}})),$("body").on("click",".box-product",(function(){var t=this,e=$(this).data("code"),n=$(this).parents(".tab-content").attr("id"),o=$(this).parents(".tab-pane").attr("id"),s="#"+$(this).parents(".modal").attr("id"),r="auto";if($(this).hasClass("review"))alertCustom("error","Não é possível selecionar este produto.");else if("tabs-modal-edit-plans"==n&&"stage2"==o||"tabs-modal-create-plans"==n&&"stage1"==o)if($(this).hasClass("selected"))if("tabs-modal-create-plans"==n&&"stage1"==o){$(t).removeClass("selected"),$(t).find(".check img").remove();var l=a.map((function(t){return t.id})).indexOf(e);a.splice(l,1),k(s)}else $.ajax({method:"POST",url:"/api/products/verifyproductinplansale",dataType:"json",data:{product_id:e,plan_id:i},headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(n){if(n.product_in_plan_sale)alertCustom("error","Não é possível remover o produto, possui vendas associadas a este plano.");else{$(t).removeClass("selected"),$(t).find(".check img").remove();var o=a.map((function(t){return t.id})).indexOf(e);a.splice(o,1),$(s).find(".box-photos-products").find(".d-flex").find('[data-id="'+e+'"]').remove(),a.length>8?(r=68*a.length+"px",$(s).find(".box-photos-products").find(".d-flex").css("width",r),$(s).find(".box-photos-products").mCustomScrollbar({axis:"x",advanced:{autoExpandHorizontalScroll:!0}})):($(s).find(".box-photos-products").children(":first").css("margin-left",""),$(s).find(".box-photos-products").find(".d-flex").css("width","586px"),$(s).find(".box-photos-products").mCustomScrollbar("destroy"),$(s).find(".box-photos-products").mCustomScrollbar("update")),k(s)}}});else{if($(this).addClass("selected"),$(this).find(".check").append('<img src="/modules/global/img/icon-product-selected.svg" alt="Icon Check">'),a.push({id:e}),"tabs-modal-edit-plans"==n&&"stage2"==o){var c=$(t).attr("data-original-title"),d=$(t).find("img").attr("src");$(s).find(".box-photos-products").find(".d-flex").append('<div class="background-photo" data-toggle="tooltip" data-placement="top" data-id="'+e+'" title="'+c+'"><img class="product-photo" src="'+d+'"></div>'),$('[data-toggle="tooltip"]').tooltip({container:".page"}),a.length>8?(r=68*a.length+"px",$(s).find(".box-photos-products").find(".d-flex").css("width",r),$(s).find(".box-photos-products").mCustomScrollbar({axis:"x",advanced:{autoExpandHorizontalScroll:!0}})):($(s).find(".box-photos-products").children(":first").css("margin-left",""),$(s).find(".box-photos-products").find(".d-flex").css("width","586px"),$(s).find(".box-photos-products").mCustomScrollbar("destroy"),$(s).find(".box-photos-products").mCustomScrollbar("update"))}k(s)}})),$("body").on("click",".box-products .div-photo",(function(){var t=$(this).parent().parent().data("code"),e=$(this).attr("data-type"),n="#modal_add_plan",o=a.map((function(t){return t.id})).indexOf(t);"edit"==e?($.ajax({method:"POST",url:"/api/products/verifyproductinplansale",dataType:"json",data:{product_id:t,plan_id:i},headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){t.product_in_plan_sale?alertCustom("error","Não é possível remover o produto, possui vendas associadas a este plano."):(a.splice(o,1),a.length>0?($(".tooltip").remove(),g(n,e)):f(n,e))}}),n="#modal_edit_plan"):(a.splice(o,1),a.length>0?($(".tooltip").remove(),g(n,e)):f(n,e))})),$("body").on("click","#check-values",(function(){var t=$(this).val();if(0==t){$(this).val(1);var e=$(".box-products").find(".product").first().find('.form-control[name="value"]').val();$('.box-products .form-control[name="value"]').val(e)}else 1==t&&$(this).val(0)})),$("body").on("keyup",'.form-control[name="value"]',(function(t){1==$("#check-values").val()&&$('.box-products .form-control[name="value"]').val($(this).val())})),$("body").on("click","#btn-modal-plan-next",(function(){var t="#"+$(this).parents(".modal").attr("id"),e=$(this).attr("data-type"),n="create"==e?"#tabs-modal-create-plans":"#tabs-modal-edit-plans",o=$(t).find(n).find(".tab-pane.active").attr("id");"custom"==e?function(){var t="#modal_edit_plan";$(t).find(".modal-body").css("height","auto"),$(t).find(".modal-footer").find(".btn").prop("disabled",!0),$(t).find(".tab-pane").removeClass("show active").promise().done((function(){$(t).find(".modal-body").append(loadingCustomStage2);var e=new FormData(document.getElementById("form-update-custom-config"));e.append("plan",i),$.ajax({method:"POST",url:"/api/plans/config-custom-product",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:e,processData:!1,contentType:!1,cache:!1,error:function(e){$(t).find(".modal-footer").find(".btn").prop("disabled",!1),x(),y(t,!1),alertCustom("error","Erro ao atualizar configurações do plano")},success:function(e){$(t).find(".modal-footer").find(".btn").prop("disabled",!1),x(),y(t,!1),alertCustom("success","Configurações do plano atualizado com sucesso")}})}))}():a.length>0?"create"==e?"stage1"==o?g(t,e):"stage2"==o?function(t){$(t).find(".product-photo").unbind("load"),$(t).find(".modal-body").css("height","auto"),$(t).find("#btn-modal-plan-next").html("Finalizar"),$(t).find(".tab-pane").removeClass("show active").promise().done((function(){$(t).find(".modal-body").append(loadingCreateStage3),$(".box-products .form-control").each((function(){var t=$(this).parents(".product").attr("data-code"),e=$(this).attr("name"),n=$(this).val();a.map((function(a){if(t==a.id){if("amount"==e)return Object.assign(a,{amount:n});if("value"==e)return Object.assign(a,{value:n})}}))})),$(".box-products .sirius-select").each((function(){var t=$(this).parents(".product").attr("data-code"),e=$(this).attr("name"),n=$(this).val();a.map((function(a){if(t==a.id&&"currency_type_enum"==e)return Object.assign(a,{currency_type_enum:n})}))}));var e=$(t).find(".modal-body").height();$(t).find(".ph-item").fadeOut(100,(function(){this.remove()})).promise().done((function(){$('input[name="price"]').mask("#.##0,00",{reverse:!0}),$(t).find(".costs-plan").find("p").html(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_())),$(t).find(".box-review").find(".tax").html(s.toString().replace(".",",")),$(t).find(".box-review").find(".release_money_days").html(r),$(t).find("#stage3").addClass("show active").promise().done((function(){var n=$(t).find(".height-auto").height()+40;$(t).find(".modal-body").stop(!0,!0).height(e).animate({height:n},300).promise().done((function(){$(t).find(".product-photo").unbind("load")}))}))}))}))}(t):"stage3"==o&&b(t,e):"stage1"==o?f(t,e):"stage2"==o?g(t,e):"stage3"==o&&b(t,e):alertCustom("error","Selecione um produto para prosseguir")})),$("body").on("click","#btn-modal-plan-return",(function(){var t="#"+$(this).parents(".modal").attr("id"),e=$(this).attr("data-type"),n="create"==e?"#tabs-modal-create-plans":"#tabs-modal-edit-plans",a=$(t).find(n).find(".tab-pane.active").attr("id");"create"==e?"stage1"==a?($(t).modal("hide"),$.when(t).done((function(){$(t).find(".tab-pane").removeClass("show active")}))):"stage2"==a?f(t,e):"stage3"==a&&g(t,e):"edit"==e?"stage2"==a?v(t):"stage3"==a?f(t,e):"stage4"==a&&v(t):y(t,!1)})),$(document).on("click",".add-plan",(function(){a=[];var t="#modal_add_plan";$(t).find(".tab-pane").removeClass("show active"),$(t).attr("data-backdrop","static"),$(t).modal("show"),f(t,"create")})),$("#table-plans").on("click",".copy_link",(function(){if("1"==$(this).attr("data-status")){var t=$("<input>");$("#table-plans").append(t),t.val($(this).attr("link")).select(),document.execCommand("copy"),t.remove(),alertCustom("success","Link copiado!")}})),$("#table-plans").on("click",".details-plan",(function(){o=[],i=$(this).attr("plan");var t="#modal_edit_plan";$(t).find("#btn-cancel-update-informations-plan").trigger("click").promise().done((function(){$(t).find(".informations-data").stop(!0,!0).css("height",""),$(t).find(".height-auto").stop(!0,!0).css("margin-top","")})),$(t).attr("data-backdrop","static"),$(t).modal("show"),v(t)})),$("#table-plans").on("click",".edit-plan",(function(){o=[],i=$(this).attr("plan");var t="#modal_edit_plan";$(t).attr("data-backdrop","static"),$(t).modal("show"),v(t)})),$("body").on("click","#btn-edit-informations-plan",(function(){var t=$(this).parent().parent().parent(),e=t.find(".informations-data").css("height","auto").height();t.find(".informations-data").hasClass("edit")||setTimeout((function(){$(t).find("#name").tooltip("disable"),$(t).find("#description").tooltip("disable"),$("#btn-edit-products-plan").hide(),$("#btn-edit-informations-plan").hide(),$("#modal_edit_plan #stage1 .box-products").off("wheel"),$("#modal_edit_plan #stage1 .box-products .scrollbox").remove(),$("#modal_edit_plan #stage1 .box-products .scrollbox-bar").remove(),$("#modal_edit_plan #stage1 .informations-edit .icon").attr("style","border-color: #2E85EC !important"),t.find(".informations-data").addClass("edit"),t.find(".informations-data").find(".form-control").attr("readonly",!1),t.find("#price").val((function(t,e){return e.replace("R$ ","")})),t.find("#price").mask("#.##0,00",{reverse:!0}),t.find(".informations-data").append('<div class="buttons-update"><div class="d-flex mt-20" style="justify-content: flex-end !important;"><button type="button" class="btn btn-default btn-lg mr-10" id="btn-cancel-update-informations-plan">Cancelar</button><button type="button" class="btn btn-primary btn-lg" id="btn-update-informations-plan">Atualizar</button></div></div>').promise().done((function(){var n=t.find(".informations-data").height();t.find(".informations-data").height(e).animate({height:n},300)}));var n=t.find("#name").attr("data"),a=t.find("#price").val(),o=t.find("#description").attr("data");t.find("#name").val(n),t.find("#price").val(a.replace("R$","")),t.find("#description").val(o)}),0)})),$("body").on("click","#btn-cancel-update-informations-plan",(function(){var t=$(this).parents(".informations-edit"),e=t.find(".informations-data").height();$("#btn-edit-products-plan").show(),$("#btn-edit-informations-plan").show(),$(t).find("#name").tooltip("enable"),$(t).find("#description").tooltip("enable"),$(t).find(".icon").css("border-color","#F8F8F8"),t.find(".informations-data").removeClass("edit"),t.find(".form-control").attr("readonly",!0);var n=t.find("#name").attr("data-short"),a=t.find("#price").attr("data"),o=t.find("#description").attr("data-short");t.find("#name").val(n),t.find("#price").val(a),t.find("#description").val(o),$(this).parents(".buttons-update").remove().promise().done((function(){var n=t.find(".informations-data").css("height","auto").height();t.find(".informations-data").height(e).animate({height:n},300),$("#modal_edit_plan").find(".height-auto").stop(!0,!0).animate({"margin-top":0},300)}))})),$("body").on("click","#tab-general-data",(function(){if(!$(this).hasClass("clicked")){v("#modal_edit_plan")}$("#tab-customizations").removeClass("clicked"),$(this).addClass("clicked")})),$("body").on("click","#tab-customizations",(function(){if(!$(this).hasClass("clicked")){y("#modal_edit_plan",!0)}$("#tab-general-data").removeClass("clicked"),$(this).addClass("clicked")})),$("body").on("click",".btn-customizations",(function(){!function(t,e){$(t).find(".modal-body").css("height","auto"),$(t).find("#product_id").val(e),$(t).find(".modal-footer").html('<button id="btn-modal-plan-return" type="button" data-type="custom" class="btn btn-default btn-lg" role="button">Voltar</button><button id="btn-modal-plan-next" type="button" data-type="custom" class="btn btn-primary btn-lg">Salvar e fechar</button>').removeClass("justify-content-between").addClass("justify-content-end"),$(t).find(".tab-pane").removeClass("show active").promise().done((function(){$(t).find(".modal-body").append(loadingCustomStage2);var n,a=$(t).find(".modal-body").height();n=o.map((function(t){return t.product_id})).indexOf(e),$(t).find("#stage2-customization").find(".product-custom").removeAttr("data-toggle").removeAttr("title"),$(".product-custom").tooltip("dispose"),$(t).find("#stage2-customization").find(".box-breadcrumbs").find(".title").html("Personalização de "+o[n].product_name_short),o[n].product_name_short_flag&&($(t).find("#stage2-customization").find(".product-custom").attr("data-toggle","tooltip").attr("title",o[n].product_name),$('[data-toggle="tooltip"]').tooltip({container:".page"})),$(t).find("#stage2-customization").find(".background-photo").html('<img src="'+o[n].photo+'" class="product-photo">'),$(t).find("#stage2-customization").find(".name-product").html(o[n].product_name_short),$(t).find("#stage2-customization").find(".qtd-product").html("Qtd: "+o[n].amount),$(t).find("#stage2-customization").find(".active_custom").attr("name","is_custom["+e+"]"),$(t).find("#stage2-customization").find(".active_custom").prop("checked",!!o[n].is_custom).val(o[n].is_custom).change(),$(t).find("#add-list-custom-product").attr("product",e),o[n].shopify_id>0&&(c=!0);var i="";o[n].custom_configs.length>0?o[n].custom_configs.forEach((function(t){i+='<div class="row custom" style="margin-bottom: 20px;">',i+='<input type="hidden" name="productsPlan[]" value="'+e+'">',i+='<div class="col-sm-12">',i+='<div class="d-flex">',i+='<div class="d-flex">',i+='<div style="margin-right: 8px;">',i+='<input type="hidden" name="type['+e+'][]" value="'+t.type+'">',i+='<button style="width: 45px; height: 45px;" type="button" class="btn btn-outline-secondary btn-type-custom border-light-gray">',i+=h(t.type),i+="</button>",i+="</div>",i+="</div>",i+='<div style="width: 100%; margin-right: 16px;">',i+='<input readonly type="text" name="label['+e+'][]" class="form-control input-pad edit-input added-custom-title" data-index="'+e+'" placeholder="Nome para personalização" value="'+t.label+'">',i+="</div>",i+="<div>",i+='<button style="width: 45px; height: 45px;" type="button" data-index="'+e+'" class="btn btn-outline btn-delete btn-trash-custom d-flex justify-content-around align-items-center align-self-center flex-row">',i+='<span class="o-bin-1"></span>',i+="</button>",i+="</div>",i+="</div>",i+="</div>",i+="</div>"})):i+='<div class="row custom-empty"><div class="col-sm-12">Nenhuma personalização adicionada</div></div>',c?$(".custom_products_checkbox").html('\n                <div class="d-flex align-items-center" style="line-height: 1;">\n                    <div class="switch-holder">\n                        <label class="switch">\n                            <input type="checkbox" class="allow_change_in_block" name="allow_change_in_block" value="true">\n                            <span class="slider round"></span>\n                        </label>\n                    </div>\n                    <span>Aplicar personalização nas outras variantes deste produto</span>\n                </div>\n                ').css({margin:"20px 0 0"}):$(".custom_products_checkbox").html(""),$(t).find("#stage2-customization").find(".list-custom-products").html(i).promise().done((function(){$(t).find("#stage2-customization").find(".product-photo").on("load",(function(){$(t).find(".ph-item").fadeOut(100,(function(){this.remove()})).promise().done((function(){$(t).find("#tab-customizations_panel").addClass("show active").promise().done((function(){$(t).find("#stage2-customization").addClass("show active").promise().done((function(){var e=$(t).find(".modal-body").css("height","auto").height()+(o.length>2?45:35);$(t).find(".modal-body").height(a).animate({height:e},300).promise().done((function(){$(t).find(".product-photo").unbind("load")}))}))}))}))}))}))}))}("#modal_edit_plan",$(this).attr("data-product"))})),$("body").on("click",".btn-type",(function(){$(".btn-type").removeClass("btn-active"),$(this).addClass("btn-active"),$("#custom-type").val($(this).attr("typeCustom"))})),$("body").on("click","#add-list-custom-product",(function(){var t=$(".list-custom-products").find(".custom").length,e=$("#custom-type").val(),n=$("#custom-title").val();if(""!=n&&""!=e){if(t>=5)return void alertCustom("error",5==t?"Você pode adicionar no máximo 5 personalizações ao seu produto":"Número máximo de personalizações do seu produto excedida");$(".list-custom-products").find(".custom-empty").length>0&&$(".list-custom-products").html(""),$("#modal_edit_plan").find(".modal-body").css("height","auto");var a=h(e),o=$(this).attr("product"),i="";i+='<div class="row custom" style="margin-bottom: 20px;">',i+='<input type="hidden" name="productsPlan[]" value="'+o+'">',i+='<div class="col-sm-12">',i+='<div class="d-flex">',i+='<div class="d-flex">',i+='<div style="margin-right: 8px;">',i+='<input type="hidden" name="type['+o+'][]" value="'+e+'">',i+='<button style="width: 45px; height: 45px;" type="button" class="btn btn-outline-secondary btn-type-custom border-light-gray">',i+=a,i+="</button>",i+="</div>",i+="</div>",i+='<div style="width: 100%; margin-right: 16px;">',i+='<input readonly type="text" name="label['+o+'][]" class="form-control input-pad edit-input" placeholder="Nome para personalização" value="'+n+'">',i+="</div>",i+="<div>",i+='<button style="width: 45px; height: 45px;" type="button" class="btn btn-outline btn-delete btn-trash-custom d-flex justify-content-around align-items-center align-self-center flex-row">',i+='<span class="o-bin-1"></span>',i+="</button>",i+="</div>",i+="</div>",i+="</div>",i+="</div>",$(".list-custom-products").append(i),$("#custom-title").val(""),$("#custom-type").val(""),$(".btn-type").removeClass("btn-active")}})),$("body").on("click",".edit-input",(function(){$(this).prop("readonly",!1);var t=$(this).parent().parent().parent().parent();t.find(".btn-type-custom").addClass("btn-edit"),t.find(".btn-trash-custom").removeClass("btn-delete").addClass("btn-edit-row").html('\n            <svg width="22" height="16" viewBox="0 0 22 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M20 2L8.92308 14L2 7.33333" stroke="white" stroke-width="2.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>\n        ')})),$("body").on("click",".btn-edit-row",(function(){var t=$(this).parent().parent().parent().parent();t.find(".edit-input").prop("readonly",!0),t.find(".btn-type-custom").removeClass("btn-edit"),t.find(".btn-trash-custom").removeClass("btn-edit-row").addClass("btn-delete").html('<span class="o-bin-1"></span>')})),$("body").on("click",".btn-delete",(function(t){t.preventDefault(),$(this).parent().parent().parent().parent().remove(),$("#modal_edit_plan").find(".modal-body").css("height","auto"),0==$(".list-custom-products").find(".row").length&&$(".list-custom-products").html('<div class="row custom-empty" style="margin-bottom: 20px;"><div class="col-sm-12">Nenhum personalização adicionada</div></div>')})),$("#table-plans").on("click",".delete-plan",(function(t){t.preventDefault();var e=$(this).attr("plan"),a=$("#modal_delete_plan");a.modal("show"),$("#btn-delete-plan").unbind("click"),$("#btn-delete-plan").on("click",(function(){a.modal("hide"),$.ajax({method:"DELETE",url:"/api/project/"+n+"/plans/"+e,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){errorAjaxResponse(t)})),success:function(t){p(),j(),alertCustom("success",t.message)}})}))})),$("body").on("click","#btn-modal-plan-delete",(function(t){t.preventDefault();var e=$(this).attr("plan"),a=$("#modal_delete_plan");$("#modal_edit_plan").modal("hide"),a.modal("show"),$("#btn-delete-plan").unbind("click"),$("#btn-delete-plan").on("click",(function(){a.modal("hide"),$.ajax({method:"DELETE",url:"/api/project/"+n+"/plans/"+e,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){errorAjaxResponse(t)})),success:function(t){alertCustom("success",t.message),j()}})}))})),$("body").on("click","#all-products",(function(){var t="#modal_edit_plan";$(t).find(".modal-body").css("height","auto"),$(t).find(".modal-body").find(".height-auto").css("margin-top",""),$(t).find(".nav-tabs-horizontal").css("display","block"),$(t).find("#stage4").find(".body-products").mCustomScrollbar("destroy"),$(t).find("#stage4").find(".body-products").mCustomScrollbar("update"),$(t).find(".box-breadcrumbs").find("span").html(" "+o.length+" produtos"),$(t).find(".modal-footer").html('<button id="btn-modal-plan-return" type="button" data-type="edit" class="btn btn-default btn-lg" role="button">Voltar</button><button id="btn-modal-plan-close" type="button" data-dismiss="modal" class="btn btn-primary btn-lg">Fechar</button>').addClass("justify-content-between"),$(t).find(".tab-pane").removeClass("show active").promise().done((function(){$(t).find(".modal-body").append(loadingEditStage4);var e="";e+='<div class="row">',e+='<div class="col-sm-12">',o.forEach((function(t){e+='<div class="box-product align-items-center" style="cursor: inherit;margin-bottom: 16px;padding: 16px 29px 0px;border-radius: 0;border-left: none;border-right: none;border-bottom: none; border-color: #EBEBEB;">',e+="<div "+(t.product_name_short_flag?'data-toggle="tooltip" data-placement="top" title="'+t.product_name+'"':"")+">",e+='<div class="product d-flex align-items-center">',e+='<div class="background-photo">',e+='<img class="product-photo" src="'+t.photo+'" style="display: none;">',e+="</div>",e+="<div>",e+='<h1 class="title">'+t.product_name_short+"</h1>",e+='<p class="description m-0">Qtd: '+t.amount+"</p>",e+="</div>",e+="</div>",e+="</div>",e+="</div>"})),e+="</div>",e+="</div>";var n=$(t).find(".modal-body").height();$(t).find("#stage4").find(".box-products").html(e).promise().done((function(){$(t).find("#stage4").find(".box-products").css({"max-height":"314px",position:"relative",overflow:"hidden"}),$(t).find("#stage4").find(".body-products").mCustomScrollbar(),$(t).find("#stage4").find(".product-photo").on("error",(function(){$(this).attr("src","https://cloudfox-files.s3.amazonaws.com/produto.svg").fadeIn(300)})),$(t).find("#stage4").find(".product-photo").fadeIn(300),$(t).find(".ph-item").fadeOut(100,(function(){this.remove()})).promise().done((function(){$(t).find(".product-photo").unbind("load"),$('[data-toggle="tooltip"]').tooltip({container:".page",template:'<div class="tooltip product-select" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'}),$(t).find("#tab-general-data_panel").addClass("show active").promise().done((function(){$(t).find("#stage4").addClass("show active").promise().done((function(){var e=$(t).find(".height-auto").height();$(t).find(".modal-body").stop(!0,!0).height(n).animate({height:e},300)}))}))}))}))}))})),$("body").on("click","#btn-update-informations-plan",(function(){var t="#modal_edit_plan",e=$(this).parents(".informations-edit"),n=e.find(".informations-data").height(),a=$("#pagination-plans").find(".active").text();$.ajax({method:"PUT",url:"/api/plans/"+i+"/informations",dataType:"json",data:{name:$(t).find("#name").val(),price:$(t).find("#price").val(),description:$(t).find("#description").val()},headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(e){$(t).find("#name").tooltip("enable"),$(t).find("#description").tooltip("enable"),$("#btn-edit-products-plan").show(),$("#btn-edit-informations-plan").show(),loadOnModalRemove("#modal_edit_plan"),errorAjaxResponse(e)},success:function(o){console.log(o.plan.products),$(t).find("#name").tooltip("enable"),$(t).find("#description").tooltip("enable"),$("#btn-edit-products-plan").show(),$("#btn-edit-informations-plan").show(),$(e).find(".icon").css("border-color","#F8F8F8"),$(t).find(".modal-title").html("Detalhes de "+o.plan.name_short),$(t).find("#name").val(o.plan.name_short),$(t).find("#name").attr("data",o.plan.name).attr("data-short",o.plan.name_short),$(t).find("#price").val(o.plan.price),$(t).find("#price").attr("data",o.plan.price),$(t).find("#description").val(o.plan.description_short),$(t).find("#description").attr("data",o.plan.description).attr("data-short",o.plan.description_short);var i=o.plan.price.replace("R$","").replace(/\./g,"").replace(",","."),r=(i*(s+1)/100).toFixed(2),l=_(),c=(i-r).toFixed(2),d=(c-l).toFixed(2);$(t).find(".price-plan").find("p").html(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i)),$(t).find(".tax-plan").find("p").html(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r)),$(t).find(".comission-plan").find("p").html(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c)),d<0?$(t).find(".profit-plan").find("p").css("color","#F10800"):$(t).find(".profit-plan").find("p").css("color","#41DC8F"),$(t).find(".profit-plan").find("p").html(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d)),$(t).find(".informations-data").removeClass("edit"),$(t).find(".informations-edit").find(".form-control").attr("readonly",!0),$(t).find(".buttons-update").remove().promise().done((function(){var a=e.find(".informations-data").css("height","auto").height();e.find(".informations-data").height(n).animate({height:a},300),o.plan.products.length>4&&o.plan.products.length<=10&&$(t).find("#stage1").find(".body-products").mCustomScrollbar()})),j(a),alertCustom("success",o.message)}})})),$("body").on("click","#btn-edit-products-plan",(function(){f("#modal_edit_plan","edit")})),$("#btn-search-plan").on("click",(function(){j()})),$(".active_custom").on("change",(function(){this.checked?($(".active_custom").attr("checked",!0).val(!0),$(".btn-type").removeAttr("disabled"),$("#custom-title").removeAttr("disabled"),$("#add-list-custom-product").removeAttr("disabled"),$(".added-custom-title").removeAttr("readonly")):($(".active_custom").removeAttr("checked").val(!1),$(".btn-type").removeClass("btn-active"),$(".btn-type").attr("disabled","disabled"),$("#custom-title").attr("disabled","disabled"),$("#add-list-custom-product").attr("disabled","disabled"),$(".added-custom-title").attr("readonly","readonly"))})),$(document).on("keypress",(function(t){$("body").hasClass("modal-open")||13==t.keyCode&&j()})),$("body").on("click","#tab_configuration",(function(){$("#modal_config_cost_plan").find(".tab-pane").removeClass("active show").promise().done((function(){$("#modal_config_cost_plan").find("#tab_update_cost_block-panel").css("display","none"),$("#modal_config_cost_plan").find(".tab-pane").addClass("active show").promise().done((function(){$("#modal_config_cost_plan").find(".modal-body").css("height","auto")}))}))})),$("body").on("click","#tab_update_cost_block",(function(){if(!$(this).hasClass("active")){!function(t){$(t).find(".product-photo").unbind("load"),$(t).find(".modal-body").css("height","auto").attr("style","padding-bottom: 0px !important"),$(t).find("#search-product_config").val(""),$(t).find("#search-product-description_config").val(""),$(t).find(".box-plans").css({height:"232px"}),$(t).find(".tab-pane").removeClass("active show").promise().done((function(){$(t).find("#tab_update_cost_block-panel").css("display","none").promise().done((function(){$(t).find(".modal-body").append(loadingPlansConfigCost).promise().done((function(e){$.ajax({method:"POST",url:"/api/products/products-variants",data:{project_id:n,variants:!0},dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(e){"my_products"==$("#project_type").val()?$(t).find(".search-type").html('<div class="d-flex"><input class="form-control form-control-lg" type="text" id="search-product_config" placeholder="Pesquisa por nome" style="border-top-right-radius: 0;border-bottom-right-radius: 0; height: 48px !important; border-right: 0;"><div class="input-group input-group-lg" style="width: 650px;"><input class="form-control" type="text" id="search-product-description_config" placeholder="Pesquisa por descrição" style="border-top-left-radius: 0;border-bottom-left-radius: 0;"><div class="input-group-append"><span class="input-group-text"><img src="/modules/global/img/icon-search.svg" alt="Icon Search"></span></div></div></div>'):$(t).find(".search-type").html('<div class="input-group input-group-lg"><input class="form-control" type="text" id="search-product_config" placeholder="Pesquisa por nome"><div class="input-group-append"><span class="input-group-text"><img src="/modules/global/img/icon-search.svg" alt="Icon Search"></span></div></div>');var n='<div class="row">';e.data.length>0?e.data.forEach((function(t){var e=d.map((function(t){return t.id})).indexOf(t.id);n+='<div class="col-sm-6">',n+="<div "+(t.name_short_flag?'data-toggle="tooltip" data-placement="top" title="'+t.name+'"':"")+' data-code="'+t.id+'" class="box-plan d-flex justify-content-between align-items-center '+(1==t.status_enum||3==t.status_enum?"review":"")+'">',n+='<div class="d-flex align-items-center">',n+='<div class="background-photo">',n+='<img class="product-photo" src="'+t.photo+'" style="display: none;">',n+="</div>",n+="<div>",n+='<h1 class="title" '+(1==t.status_enum||3==t.status_enum?'style="color: #C5C5C5"':"")+">"+t.name_short+"</h1>",n+='<p class="description" '+(1==t.status_enum||3==t.status_enum?'style="color: #C7C7C7"':"")+">"+t.description+"</p>",n+="</div>",n+="</div>",1!=t.status_enum&&3!=t.status_enum&&(n+='<div class="check">',-1!=e&&(n+='<img src="/modules/global/img/icon-product-selected.svg" alt="Icon Check">'),n+="</div>"),n+="</div>",n+="</div>"})):($(t).find(".modal-body").find(".box-plans").css("height","274px").css("max-height","274px"),n+='<div class="col-sm-12">',n+='<div class="text-center" style="height: 150px; margin-bottom: 25px; margin-top: 15px;"><img style="margin: 0 auto;" class="product-photo" src="/modules/global/img/search-product_not-found.png" ></div>',n+='<p class="m-0 text-center" style="font-size: 24px; line-height: 30px; color: #636363;">Nenhum resultado encontrado.</p>',n+='<p class="text-center" style="font-size: 16px; line-height: 20px; color: #9A9A9A;">Por aqui, nenhum plano com esse nome.</p>',n+="</div>");var a=$(t).find(".modal-body").height();$(t).find("#tab_update_cost_block-panel").find(".box-plans").html(n).promise().done((function(){$('[data-toggle="tooltip"]').tooltip({container:".page"}),e.data.length>4&&$(t).find("#tab_update_cost_block-panel").find(".box-plans").mCustomScrollbar(),$(t).find(".product-photo").on("error",(function(){$(this).attr("src","https://cloudfox-files.s3.amazonaws.com/produto.svg").fadeIn(300)})),$(t).find(".product-photo").on("load",(function(){$(this).fadeIn(300)})),$(t).find(".product-photo").on("load",(function(){$(t).find(".ph-item").fadeOut(100,(function(){this.remove()})).promise().done((function(){$(t).find("#tab_update_cost_block-panel").css("display","block").promise().done((function(){var e=$(t).find(".height-auto").height()+20;$(t).find(".modal-body").stop(!0,!0).height(a).animate({height:e},300).promise().done((function(){$(t).find(".product-photo").unbind("load")}))}))}))}))}))}})}))}))}))}("#modal_config_cost_plan")}}));var S=null;$("body").on("keyup","#search-product_config",(function(t){clearTimeout(S);var e="#modal_config_cost_plan",n=t.target.value,a=$(e).find("#search-product-description_config").val();S=setTimeout((function(){T(n,a,e)}),800)}));var A=null;function T(t,e,a){$(a).find(".product-photo").unbind("load"),$(a).find(".modal-body").css("height","auto"),$(a).find(".box-plans").css({height:"auto","padding-right":"0px"}),$(a).find(".box-plans").mCustomScrollbar("destroy"),$(a).find(".box-plans").mCustomScrollbar("update"),$(a).find(".box-plans").html(loadingPlans).promise().done((function(){$.ajax({method:"POST",url:"/api/products/products-variants",data:{project_id:n,variants:!0,search:t,description:e},dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){$(".tooltip").remove();var e='<div class="row">';t.data.length>0?t.data.forEach((function(t){var n=d.map((function(t){return t.id})).indexOf(t.id),a=$("#select-all").attr("data-selected");e+='<div class="col-sm-6">',e+="<div "+(t.name_short_flag?'data-toggle="tooltip" data-placement="top" title="'+t.name+'"':"")+' data-code="'+t.id+'" class="box-plan d-flex justify-content-between align-items-center '+(1==t.status_enum||3==t.status_enum?"review":"")+" "+("true"==a?"selected":"")+'">',e+='<div class="d-flex align-items-center">',e+='<div class="background-photo">',e+='<img class="product-photo" src="'+t.photo+'" style="display: none;">',e+="</div>",e+="<div>",e+='<h1 class="title" '+(1==t.status_enum||3==t.status_enum?'style="color: #C5C5C5"':"")+">"+t.name_short+"</h1>",e+='<p class="description" '+(1==t.status_enum||3==t.status_enum?'style="color: #C7C7C7"':"")+">"+t.description+"</p>",e+="</div>",e+="</div>",1!=t.status_enum&&3!=t.status_enum&&(e+='<div class="check">',-1!=n&&(e+='<img src="/modules/global/img/icon-product-selected.svg" alt="Icon Check">'),e+="</div>"),e+="</div>",e+="</div>"})):($(".tooltip").remove(),$(a).find(".modal-body").find(".box-plans").css("height","274px"),e+='<div class="col-sm-12">',e+='<div class="text-center" style="height: 150px; margin-bottom: 25px; margin-top: 15px;"><img style="margin: 0 auto;" class="product-photo" src="/modules/global/img/search-product_not-found.png" ></div>',e+='<p class="m-0 text-center" style="font-size: 24px; line-height: 30px; color: #636363;">Nenhum resultado encontrado.</p>',e+='<p class="text-center" style="font-size: 16px; line-height: 20px; color: #9A9A9A; margin-bottom: 40px;">Por aqui, nenhum plano com esse nome.</p>',e+="</div>");var n=$(a).find(".modal-body").height();$(a).find("#tab_update_cost_block-panel").find(".box-plans").html(e).promise().done((function(){$('[data-toggle="tooltip"]').tooltip({container:".page"}),t.data.length>4&&$(a).find(".box-plans").mCustomScrollbar(),$(a).find(".product-photo").on("error",(function(){$(this).attr("src","https://cloudfox-files.s3.amazonaws.com/produto.svg").fadeIn(300)})),$(a).find(".product-photo").on("load",(function(){$(this).fadeIn(300)})),$(a).find(".ph-item").fadeOut(100,(function(){this.remove()})).promise().done((function(){$(a).find(".tab-content").css("display","block").promise().done((function(){t.data.length>4&&$(a).find("#tab_update_cost_block-panel").find(".box-plans").css({height:"232px"});var e=$(a).find(".height-auto").height()+20;$(a).find(".modal-body").stop(!0,!0).height(n).animate({height:e},300)}))}))}))}})}))}function E(t){var e=parseInt(t.val());t.val(e)}$("body").on("keyup","#search-product-description_config",(function(t){clearTimeout(A);var e="#modal_config_cost_plan",n=t.target.value,a=$(e).find("#search-product_config").val();A=setTimeout((function(){T(a,n,e)}),800)})),$("body").on("click","#select-all",(function(){$(this).hasClass("selected")?($(this).attr("data-selected",!1),$(this).removeClass("selected"),$(this).find(".check").html(""),$("#modal_config_cost_plan").find(".box-plan").removeClass("selected"),$("#modal_config_cost_plan").find(".box-plan").find(".check").html("")):($(this).attr("data-selected",!0),$(this).addClass("selected"),$(this).find(".check").html('<img src="/modules/global/img/icon-product-selected.svg" alt="Icon Check">'),$("#modal_config_cost_plan").find(".box-plan").addClass("selected"),$("#modal_config_cost_plan").find(".box-plan").find(".check").html('<img src="/modules/global/img/icon-product-selected.svg" alt="Icon Check">'))})),$("body").on("click",".box-plan",(function(){var t=$(this).data("code");if($(this).hasClass("review"))alertCustom("error","Não é possível selecionar este produto.");else if($(this).hasClass("selected")){$("#select-all").attr("data-selected",!1),$("#select-all").removeClass("selected"),$("#select-all").find(".check").html(""),$(this).removeClass("selected"),$(this).find(".check img").remove();var e=d.map((function(t){return t.id})).indexOf(t);d.splice(e,1)}else $(this).addClass("selected"),$(this).find(".check").html('<img src="/modules/global/img/icon-product-selected.svg" alt="Icon Check">'),d.push({id:t})})),$(".div-cost_shopify").find(".label-text").on("click",(function(t){t.preventDefault()})),$(document).on("click","#config-cost-plan",(function(){d=[];var t="#modal_config_cost_plan";$("#check-custom").hide(),1==$("#cost_currency_type_all_plans").val()&&$("#check-custom").find(".switch").trigger("click"),$(t).find("#cost_plan").val(""),$(t).find("#search-plan").val(""),$(t).find("#select-all").removeClass("selected"),$(t).find("#select-all").find(".check").html(""),$(t).find("#tab_update_cost_block-panel").css("display","none"),$(t).find(".modal-body").css("height","auto"),$(t).find("#tab_configuration").addClass("active"),$(t).find("#tab_update_cost_block").removeClass("show active"),$(t).find("#tab_configuration_cost-panel").addClass("show active"),$(t).find("#tab_update_cost_block-panel").removeClass("show active"),$.ajax({method:"GET",url:"/api/projects/".concat(n),dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(){errorAjaxResponse(response)},success:function(e){null==e.data.shopify_id&&($(".div-cost_currency").removeClass("col-sm-6").addClass("col-sm-12"),$(".div-cost_currency").find(".sirius-select-container").css("width","100%"),$(".div-cost_shopify").remove()),$(".div-cost_currency").find(".icon").attr("data-toggle","tooltip").attr("data-original-title","Definir uma moeda padrão para a configuração dos seus planos. Configuração utilizada para emissão de notas fiscais."),$(".div-cost_shopify").find(".icon").attr("data-toggle","tooltip").attr("data-original-title","Se configurado como sim, os custos serão atualizados sempre que houver alteração no shopify."),$('[data-toggle="tooltip"]').tooltip({container:".page"});var n="BRL"==e.data.cost_currency_type?"R$ - Real Brasileiro (BRL)":"$ - Dólar Americano (USD)";$("#tab_configuration_cost-panel").find(".sirius-select-text").text(n),$("#cost_currency_type").val(e.data.cost_currency_type),$("#update_cost_shopify").prop("selectedIndex",e.data.update_cost_shopify);var a="USD"==e.data.cost_currency_type?"US$":"R$";$("#cost_plan").attr("placeholder",a),$("#cost_plan").maskMoney({thousands:".",decimal:",",allowZero:!0,prefix:a}),$(t).find("#cost_currency_type").on("change",(function(){$(this).val()!==e.data.cost_currency_type&&$("#check-custom").show()})),$("#modal_config_cost_plan").modal("show")}})})),$(document).on("click",".bt-update-cost-block",(function(t){var e=$("#cost_currency_type").val(),a=$("#update_cost_shopify").val(),o=$("#cost_currency_type_all_plans").val(),i=$("#cost_plan").val();$.ajax({method:"POST",url:"/api/plans/update-bulk-cost",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:{project:n,costCurrency:e,updateCostShopify:a,updateAllCurrency:o,cost:i,products:d},error:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){errorAjaxResponse(t)})),success:function(t){alertCustom("success",t.message),$("#modal_config_cost_plan").modal("hide")}})})),$("body").on("click",".input-number button",(function(){var t=$(this).parent().find("input");$(this).hasClass("btn-add")?t[0].stepUp():$(this).hasClass("btn-sub")&&t[0].stepDown(),E(t)})),$("body").on("keyup",".input-number input",(function(){var t=parseInt($(this).prop("max"))||99,e=parseInt($(this).prop("min"))||1,n=parseInt($(this).val()||1);n<=e&&$(this).val(e),n>t&&$(this).val(t),E($(this))})),$("#tab-customizations_panel").on("change",".active_custom_product",(function(t){var e=$(this).attr("data-product"),n=this;n.checked?$(n).attr("checked",!0).val(1):$(n).removeAttr("checked").val(0);var a=$(n).val();$.ajax({method:"PUT",url:"/api/products/"+e+"/update-custom",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:{plan:i,productCustom:a},error:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){errorAjaxResponse(t)})),success:function(t){v("modal_edit_plan",!0),alertCustom("success","Customização do produto atualizada")}})})),$(document).on("click",".bt-update-cost-configs",(function(t){$.ajax({method:"POST",url:"/api/plans/update-config-cost",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:{project:n,costCurrency:$("#cost_currency_type").val(),updateCostShopify:$("#update_cost_shopify").val(),updateAllCurrency:$("#update_all_currency_cost").val()},error:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){errorAjaxResponse(t)})),success:function(t){var e="USD"==$("#cost_currency_type").val()?"US$":"R$";$("#cost_plan").maskMoney({thousands:".",decimal:",",allowZero:!0,prefix:e}),$("#currency_type_project").val("USD"==$("#cost_currency_type").val()?2:1),alertCustom("success","Configuração atualizada com sucesso"),$("#modal_config_cost_plan").modal("hide")}})})),$(document).on("change","#cost_currency_type",(function(t){$("#div_update_cost_shopify").show();var e="USD"==$(this).val()?"US$":"R$";$("#cost_plan").maskMoney({thousands:".",decimal:",",allowZero:!0,prefix:e}).attr("placeholder",e)})),$(document).on("click",".btn-update-plan",(function(){var e;if($("#tab_plans-panel").loading({message:"...",start:!0}),$(".products_amount").each((function(){""!=$(this).val()&&0!=$(this).val()||(e=!0)})),e)return alertCustom("error","Dados informados inválidos"),!1;var a=new FormData(document.getElementById("form-update-plan-tab-1"));a.append("project_id",n),$.ajax({method:"POST",url:"/api/project/"+n+"/plans/"+$("#plan_id").val(),dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:a,processData:!1,contentType:!1,cache:!1,error:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(e){$("#tab_plans-panel").loading("stop"),errorAjaxResponse(e),j(t)})),success:function(e){$("#tab_plans-panel").loading("stop"),alertCustom("success","Plano atualizado com sucesso"),j(t)}})})),$(document).on("click",".btn-update-config-custom",(function(){$("#tab_plans-panel").loading({message:"...",start:!0});var t=new FormData(document.getElementById("form-update-plan-tab-2"));t.append("plan",$("#plan_id").val()),$.ajax({method:"POST",url:"/api/plans/config-custom-product",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:t,processData:!1,contentType:!1,cache:!1,error:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){$("#tab_plans-panel").loading("stop"),errorAjaxResponse(t)})),success:function(t){$("#tab_plans-panel").loading("stop"),alertCustom("success","Configurações do Plano atualizado com sucesso")}})}))}));var statusShipping={1:"success",0:"danger"},activeShipping={1:"success",0:"danger"};$(document).ready((function(){var t=$(window.location.pathname.split("/")).get(-1);function e(){$(".shipping-description").val(""),$(".shipping-info").val(""),$(".shipping-value").val(""),$(".shipping-zipcode").val(""),$(".rule-shipping-value").val(""),$("#shipping-plans-add").html(""),$("#shipping-not-apply-plans-add").html("");var t=$("#shipping-plans-add");t.html(""),t.append('<option value="all">Qualquer plano</option>'),t.val("all").trigger("change")}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=null==e?"/api/project/"+t+"/shippings":"/api/project/"+t+"/shippings"+e,loadOnTable("#dados-tabela-frete","#tabela_fretes"),$("#tab-fretes-panel").find(".no-gutters").css("display","none"),$("#tabela-fretes").find("thead").css("display","none"),$.ajax({method:"GET",url:e,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){$("#dados-tabela-frete").html(t.message),errorAjaxResponse(t)},success:function(t){$("#dados-tabela-frete").html(""),""==t.data?$("#dados-tabela-frete").html("\n                        <tr class='text-center'>\n                            <td colspan='8' style='height: 70px; vertical-align: middle;'>\n                                <div class='d-flex justify-content-center align-items-center'>\n                                    <img src='/modules/global/img/empty-state-table.svg' style='margin-right: 60px;'>\n                                    <div class='text-left'>\n                                        <h1 style='font-size: 24px; font-weight: normal; line-height: 30px; margin: 0; color: #636363;'>Nenhum frete configurado</h1>\n                                        <p style='font-style: normal; font-weight: normal; font-size: 16px; line-height: 20px; color: #9A9A9A;'>Cadastre o seu primeiro frete para poder\n                                        <br>gerenciá-los nesse painel.</p>\n                                        <button type='button' style='width: auto; height: auto; padding: .429rem 1rem !important;' class='btn btn-primary add-shipping' data-toggle=\"modal\" data-target=\"#modal-create-shipping\">Adicionar frete</button>\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n                    "):($("#tab-fretes-panel").find(".no-gutters").css("display","flex"),$("#tabela-fretes").find("thead").css("display","contents"),$("#count-fretes").html(t.meta.total),$.each(t.data,(function(t,e){var n='<tr>\n                                        <td style="vertical-align: middle; display: none;">'.concat(e.zip_code_origin,'</td>\n                                        <td style="vertical-align: middle;">').concat(e.type_name,'</td>\n                                        <td style="vertical-align: middle;">').concat(e.name,'</td>\n                                        <td style="vertical-align: middle;">').concat(e.value,'</td>\n                                        <td style="vertical-align: middle;">').concat(e.information,'</td>\n                                        <td class="text-center" style="vertical-align: middle;">\n                                            <span class="badge badge-').concat(statusShipping[e.status],'">').concat(e.status_translated,'</span>\n                                        </td>\n                                        <td class="text-center display-sm-none display-m-none" style="vertical-align: middle;">\n                                            <span class="badge badge-').concat(activeShipping[e.pre_selected],'">').concat(e.pre_selected_translated,"</span>\n                                        </td>\n                                        <td style='text-align:center'>\n                                            <div class='d-flex justify-content-end align-items-center'>\n                                                <a role='button' title='Visualizar' class='pointer detalhes-frete mg-responsive' frete=\"").concat(e.shipping_id,"\"><span class=\"o-eye-1\"></span></a>\n                                                <a role='button' title='Editar' class='pointer editar-frete mg-responsive' frete=\"").concat(e.shipping_id,"\"><span class='o-edit-1'></span></a>\n                                                <a role='button' title='Excluir' class='pointer excluir-frete mg-responsive' frete=\"").concat(e.shipping_id,"\" data-toggle='modal' data-target='#modal-delete-shipping'><span class='o-bin-1'></span></a>\n                                            </div>\n                                        </td>\n                                     </tr>");$("#dados-tabela-frete").append(n)})),"none"==$("#dados-tabela-frete").children("tr:first").children("td:first").css("display")?$("#dados-tabela-frete").children("tr").children("td:nth-child(2)").css("padding-left","30px"):$("#dados-tabela-frete").children("tr").children("td:nth-child(2)").css("padding-left",""),pagination(t,"shippings",n))}})}function a(e,n){(e=$(e)).select2({placeholder:"Nome do plano",multiple:!0,dropdownParent:$(n),language:{noResults:function(){return"Nenhum plano encontrado"},searching:function(){return"Procurando..."},loadingMore:function(){return"Carregando mais planos..."}},ajax:{data:function(e){return{list:"plan",search:e.term,project_id:t,page:e.page||1}},method:"GET",url:"/api/plans/user-plans",delay:300,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},processResults:function(t){var e=this.$element.attr("id");if(("shipping-plans-add"===e||"shipping-plans-edit"===e)&&1===t.meta.current_page){t.data.unshift({id:"all",name:"Qualquer plano",description:""})}return{results:$.map(t.data,(function(t){return{id:t.id,text:t.name+(t.description?" - "+t.description:"")}})),pagination:{more:t.meta.current_page!==t.meta.last_page}}}}}),$(document).on("show.bs.modal","#modal-create-shipping",(function(){$("#modal-create-shipping #shipping-type").val("static").change()})),e.on("select2:select",(function(){var t=$(this);(t.val().length>1&&t.val().includes("all")||t.val().includes("all")&&"all"!==t.val())&&t.val("all").trigger("change")}))}$.ajax({url:"/api/apps/melhorenvio",data:{completed:1},headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},success:function(t){var e,n="",a=_createForOfIteratorHelper(t.data);try{for(a.s();!(e=a.n()).done;){var o=e.value;n+='<option class="menv'.concat(o.id,'" value="melhorenvio-').concat(o.id,'">').concat(o.name," (integração com a API do Melhor Envio)</option>")}}catch(t){a.e(t)}finally{a.f()}$("#shipping-type").each((function(){$(this).children("select").append(n)}))},error:function(t){}}),$(".tab-fretes").on("click",(function(){$(this).off(),$("#previewimage").imgAreaSelect({remove:!0}),n()})),$(document).on("change","#shipping-type",(function(){var t=$(this).val();"static"===t?($(".information-shipping-row").show(),$(".value-shipping-row").show(),$(".zip-code-origin-shipping-row").hide(),$(".options-shipping-row").hide(),$(".shipping-description").attr("placeholder","Frete grátis")):"pac"===t?($(".information-shipping-row").show(),$(".value-shipping-row").hide(),$(".zip-code-origin-shipping-row").show(),$(".options-shipping-row").hide(),$(".shipping-description").attr("placeholder","PAC")):"sedex"===t?($(".information-shipping-row").show(),$(".value-shipping-row").hide(),$(".zip-code-origin-shipping-row").show(),$(".options-shipping-row").hide(),$(".shipping-description").attr("placeholder","SEDEX")):t.includes("melhorenvio")&&($(".information-shipping-row").hide(),$(".value-shipping-row").hide(),$(".zip-code-origin-shipping-row").show(),$(".options-shipping-row").show(),$(".shipping-description").attr("placeholder","Melhor Envio"))})),$(".shipping-value").mask("#.##0,00",{reverse:!0}),$(".rule-shipping-value").mask("#.##0,00",{reverse:!0}),$(".rule-shipping-value").on("blur",(function(){if(1==$(this).val().length){var t="0,0"+$(this).val();$(".rule-shipping-value").val(t)}else if(2==$(this).val().length){var e="0,"+$(this).val();$(".rule-shipping-value").val(e)}})),a("#shipping-plans-add",".shipping-plans-add-container"),a("#shipping-plans-edit",".shipping-plans-edit-container"),a("#shipping-not-apply-plans-add",".shipping-not-apply-plans-add-container"),a("#shipping-not-apply-plans-edit",".shipping-not-apply-plans-edit-container"),$(".check").on("click",(function(){$(this).is(":checked")?$(this).val(1):$(this).val(0)})),e(),$(".shipping-description").keyup((function(){if($(this).val().length>60)return $(this).parent().children("#shipping-name-error").html("O campo descrição permite apenas 60 caracteres"),!1;$(this).parent().children("#shipping-name-error").html("")})),$(".shipping-info").keyup((function(){if($(this).val().length>100)return $(this).parent().children("#shipping-information-error").html("O campo tempo de entrega estimado permite apenas 100 caracteres"),!1;$(this).parent().children("#shipping-information-error").html("")})),$(".shipping-value").keyup((function(){if($.trim($(this).val()).length>8)return $(this).parent().children("#shipping-value-error").html("O campo valor permite apenas 6  caracteres"),!1;$(this).parent().children("#shipping-value-error").html("")})),$(document).on("click",".detalhes-frete",(function(){var e=$(this).attr("frete");$.ajax({method:"GET",url:"/api/project/"+t+"/shippings/"+e,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){switch(t.type){case"static":$("#modal-detail-shipping #shipping-type").html("Estático");break;case"pac":$("#modal-detail-shipping #shipping-type").html("PAC - Caculado automaticamente");break;case"sedex":$("#modal-detail-shipping #shipping-type").html("SEDEX - Caculado automaticamente");break;case"melhorenvio":$("#modal-detail-shipping #shipping-type").html("MelhorEnvio - Caculado automaticamente")}$("#modal-detail-shipping .shipping-description").html(t.name),$("#modal-detail-shipping .shipping-value").html("static"!=t.type?" Calculado automaticamente":t.value),$("#modal-detail-shipping .shipping-info").html(t.information),$("#modal-detail-shipping .rule-shipping-value").html(t.rule_value),$("#modal-detail-shipping .shipping-status").html(1==t.status?'<span class="badge badge-success text-left">Ativo</span>':'<span class="badge badge-danger">Desativado</span>'),$("#modal-detail-shipping .shipping-pre-selected").html(1==t.pre_selected?'<span class="badge badge-success">Sim</span>':'<span class="badge badge-primary">Não</span>'),$("#modal-detail-shipping").modal("show")}})})),$(document).on("click",".editar-frete",(function(){var e=$(this).attr("frete");$(this).attr("frete"),$.ajax({method:"GET",url:"/api/project/"+t+"/shippings/"+e+"/edit",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){switch($("#modal-edit-shipping .shipping-id").val(t.id_code).change(),t.type){case"static":$("#modal-edit-shipping #shipping-type").prop("selectedIndex",0).change();break;case"pac":$("#modal-edit-shipping #shipping-type").prop("selectedIndex",1).change();break;case"sedex":$("#modal-edit-shipping #shipping-type").prop("selectedIndex",2).change();break;case"melhorenvio":$("#modal-edit-shipping .menv"+t.melhorenvio_integration_id).prop("selected",!0),$("#modal-edit-shipping #shipping-type").change()}$("#modal-edit-shipping .shipping-description").val(t.name),$("#modal-edit-shipping .shipping-info").val(t.information),$("#modal-edit-shipping .shipping-value").val(t.value),$("#modal-edit-shipping .rule-shipping-value").val(t.rule_value).trigger("input"),$("#modal-edit-shipping .shipping-zipcode").val(t.zip_code_origin),$("#modal-edit-shipping .shipping-status").prop("checked",!!t.status).change(),$("#modal-edit-shipping .shipping-pre-selected").prop("checked",!!t.pre_selected).change(),$("#modal-edit-shipping .shipping-receipt").prop("checked",!!t.receipt).change(),$("#modal-edit-shipping .shipping-ownhand").prop("checked",!!t.own_hand).change();var e=$("#modal-edit-shipping .shipping-plans-edit");e.html("");var n,a=[],o=_createForOfIteratorHelper(t.apply_on_plans);try{for(o.s();!(n=o.n()).done;){var i=n.value;a.push(i.id),e.append('<option value="'.concat(i.id,'">').concat(i.name+(i.description?" - "+i.description:""),"</option>"))}}catch(t){o.e(t)}finally{o.f()}e.val(a).trigger("change");var s=$("#modal-edit-shipping .shipping-not-apply-plans-edit");s.html("");var r,l=[],c=_createForOfIteratorHelper(t.not_apply_on_plans);try{for(c.s();!(r=c.n()).done;){var d=r.value;l.push(d.id),s.append('<option value="'.concat(d.id,'">').concat(d.name+(d.description?" - "+d.description:""),"</option>"))}}catch(t){c.e(t)}finally{c.f()}s.val(l).trigger("change"),$("#modal-edit-shipping").modal("show")}})})),$(document).on("click",".excluir-frete",(function(e){e.preventDefault();var a=$(this).attr("frete");$("#btn-delete-frete").unbind("click"),$("#btn-delete-frete").on("click",(function(){$.ajax({method:"DELETE",url:"/api/project/"+t+"/shippings/"+a,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){n(),alertCustom("success","Frete Removido com sucesso")}})}))})),$("#modal-create-shipping .btn-save").click((function(){var a=new FormData(document.getElementById("form-add-shipping"));$.ajax({method:"POST",url:"/api/project/"+t+"/shippings",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:a,processData:!1,contentType:!1,cache:!1,error:function(t){errorAjaxResponse(t)},success:function(t){alertCustom("success",t.message),n(),e()}})})),$("#modal-edit-shipping .btn-update").on("click",(function(){var e=new FormData(document.querySelector("#modal-edit-shipping #form-update-shipping"));e.set("status",$("#modal-edit-shipping .shipping-status").is(":checked")?1:0),e.set("pre_selected",$("#modal-edit-shipping .shipping-pre-selected").is(":checked")?1:0),e.set("receipt",$("#modal-edit-shipping .shipping-receipt").is(":checked")?1:0),e.set("own_hand",$("#modal-edit-shipping .shipping-ownhand").is(":checked")?1:0);var a=$("#modal-edit-shipping .shipping-id").val();$.ajax({method:"POST",url:"/api/project/"+t+"/shippings/"+a,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:e,processData:!1,contentType:!1,cache:!1,error:function(t){errorAjaxResponse(t)},success:function(){alertCustom("success","Frete atualizado com sucesso"),n()}})}))}));var statusPixel={1:"success",0:"danger"},srcPlatforms={google_analytics:"https://cloudfox-documents.s3.amazonaws.com/cloudfox/defaults/pixel/old-analytics",google_analytics_four:"https://cloudfox-documents.s3.amazonaws.com/cloudfox/defaults/pixel/analytics",google_adwords:"https://cloudfox-documents.s3.amazonaws.com/cloudfox/defaults/pixel/google-ads",facebook:"https://cloudfox-documents.s3.amazonaws.com/cloudfox/defaults/pixel/facebook",outbrain:"https://cloudfox-documents.s3.amazonaws.com/cloudfox/defaults/pixel/outbrain",taboola:"https://cloudfox-documents.s3.amazonaws.com/cloudfox/defaults/pixel/taboola",pinterest:"https://cloudfox-documents.s3.amazonaws.com/cloudfox/defaults/pixel/pinterest",uol_ads:"https://cloudfox-documents.s3.amazonaws.com/cloudfox/defaults/uol-ads",tiktok:"https://cloudfox-documents.s3.amazonaws.com/cloudfox/defaults/tiktok"};$((function(){var t,e=$(window.location.pathname.split("/")).get(-1);function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!=e?"1"==e||"true"==e?t.prop("checked",!0).change():t.prop("checked",!1).change():t.is(":checked")?t.attr("checked",!1):t.attr("checked","checked")}function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t=n,n=null==n?"/api/project/"+e+"/pixels":"/api/project/"+e+"/pixels"+n,loadOnTable("#data-table-pixel","#table-pixel"),$("#pagination-pixels").html(""),$("#tab_pixels-panel").find(".no-gutters").css("display","none"),$("#table-pixel").find("thead").css("display","none"),$.ajax({method:"GET",url:n,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){$("#data-table-pixel").html(t.message)},success:function(t){$("#data-table-pixel, #pagination-pixels").html(""),""==t.data?($("#table-pixel").addClass("table-striped"),$("#data-table-pixel").html("\n                        <tr class=\"text-center\">\n                            <td colspan=\"8\" style=\"height: 70px; vertical-align: middle;\">\n                                <div class='d-flex justify-content-center align-items-center'>\n                                    <img src='/modules/global/img/empty-state-table.svg' style='margin-right: 60px;'>\n                                    <div class='text-left'>\n                                        <h1 style='font-size: 24px; font-weight: normal; line-height: 30px; margin: 0; color: #636363;'>Nenhum pixel configurado</h1>\n                                        <p style='font-style: normal; font-weight: normal; font-size: 16px; line-height: 20px; color: #9A9A9A;'>Cadastre o seu primeiro pixel para poder\n                                        <br>gerenciá-los nesse painel.</p>\n                                        <button type='button' style='width: auto; height: auto; padding: .429rem 1rem !important;' class='btn btn-primary add-pixel' data-toggle=\"modal\" data-target=\"#modal-create-pixel\">Adicionar pixel</button>\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n                    ")):($("#tab_pixels-panel").find(".no-gutters").css("display","flex"),$("#table-pixel").find("thead").css("display","contents"),$.each(t.data,(function(t,e){$("#data-table-pixel").append("\n                            <tr>\n                                <td>".concat(e.name,"</td>\n                                <td>").concat(e.code,"</td>\n                                <td>").concat(e.platform_enum,'</td>\n                                <td class="text-center"><span class="badge badge-').concat(statusPixel[e.status],'">').concat(e.status_translated,"</span></td>\n                                <td style='text-align:center'>\n                                    <div class='d-flex justify-content-end align-items-center'>\n                                        <a role='button' title='Visualizar' class='mg-responsive details-pixel pointer' pixel='").concat(e.id,"' data-target='#modal-details-pixel' data-toggle='modal'><span class=\"o-eye-1\"></span></a>\n                                        <a role='button' title='Editar' class='mg-responsive edit-pixel pointer' pixel='").concat(e.id,"' data-toggle='modal' type='a'><span class=\"o-edit-1\"></span></a>\n                                        <a role='button' title='Excluir' class='mg-responsive delete-pixel pointer' pixel='").concat(e.id,"' data-toggle='modal' data-target='#modal-delete-pixel' type='a'><span class='o-bin-1'></span></a>\n                                    </div>\n                                </td>\n                            </tr>\n                        ")),$("#table-pixel").addClass("table-striped")})),pagination(t,"pixels",a))}})}$(".tab_pixels").on("click",(function(){$("#previewimage").imgAreaSelect({remove:!0}),a(t),$(this).off()})),$(document).on("click",".details-pixel",(function(){var t=$(this).attr("pixel");$.ajax({method:"GET",url:"/api/project/"+e+"/pixels/"+t,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(){errorAjaxResponse(response)},success:function(t){!function(t){$("#modal-detail-pixel .pixel-description").html(t.name),$("#modal-detail-pixel .pixel-code").html(t.code),$("#modal-detail-pixel .pixel-platform").html(t.platform_enum),$("#modal-detail-pixel .pixel-status").html(1==t.status?'<span class="badge badge-success text-left">Ativo</span>':'<span class="badge badge-danger">Desativado</span>'),$("#modal-detail-pixel").modal("show")}(t)}})}));var o={};function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s();var a=$(".img-edit-selected"),o=$(".code-edit"),i=$(".conversional-edit"),c=d(t.platform,t.code,"",!0);null==e&&(e=t.platform),$(".platform-edit").val(e),a.attr("src",srcPlatforms[e]),$(".description-edit").val(t.name),Array.isArray(c)?(o.val(c[0]),i.val(c[1])):(o.val(c),i.val("")),$(".percentage-boleto-value-edit").val(t.value_percentage_purchase_boleto);var p=$(".apply_plans");p.val(null).trigger("change"),p.html("");var h,m=[],f=_createForOfIteratorHelper(t.apply_on_plans);try{for(f.s();!(h=f.n()).done;){var g=h.value;m.push(g.id),p.append('\n                <option value="'.concat(g.id,'">\n                    ').concat(g.name+(g.description?" - "+g.description:""),"\n                </option>\n            "))}}catch(t){f.e(t)}finally{f.f()}switch(p.val(m),n($(".status-edit"),t.status),n($(".checkout-edit"),t.checkout),n($(".purchase-boleto-edit"),t.purchase_boleto),n($(".purchase-card-edit"),t.purchase_card),n($(".purchase-pix-edit"),t.purchase_pix),u(e,o,$("#text-type-code-edit"),$("#conversional-pixel-edit")),e){case"facebook":r(t);break;case"taboola":case"outbrain":l(t)}}function s(){$(".input-purchase-event-name-edit").val(),$("#select-facebook-integration-edit, #div-facebook-token-api-edit, #facebook-token-api-edit, .div-purchase-event-name-edit").hide()}function r(t){t.is_api?($("#facebook-token-api-edit").prop("readonly",!1).val(t.facebook_token),$(".facebook-api-edit").prop("checked","checked"),$(".url_facebook_domain_edit").val(t.url_facebook_domain),$(".url_facebook_api_div_edit").show()):($(".url_facebook_domain_edit").val(""),$(".url_facebook_api_div_edit").hide(),$(".facebook-api-default-edit").prop("checked","checked"),$("#facebook-token-api-edit").prop("readonly",!0).val("")),$("#select-facebook-integration-edit, #div-facebook-token-api-edit, #facebook-token-api-edit").show()}function l(t){$(".input-purchase-event-name-edit").val(t.purchase_event_name),$(".div-purchase-event-name-edit").show()}function c(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?($("#modal-edit-pixel #configure-edit-pixel").hide(),$("#modal-edit-pixel #select-platform-edit-pixel").show()):($("#modal-edit-pixel #select-platform-edit-pixel").hide(),$("#modal-edit-pixel #configure-edit-pixel").show())}function d(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return"google_adwords"===t?a?e.split("/"):"".concat(e,"/").concat(n):e}function p(){$("#configure-new-pixel").hide(),$("#select-platform-pixel").show()}function u(t,e,n,a){switch(n.html("").hide(),a.hide(),t){case"facebook":e.attr("placeholder","52342343245553"),e.parent().parent().find("label").html("Código");break;case"google_adwords":n.html("AW-").show(),a.show(),e.attr("placeholder","8981445741-4"),e.parent().parent().find("label").html("Código de conversão");break;case"google_analytics":e.attr("placeholder","UA-8984567741-3"),e.parent().parent().find("label").html("Código");break;case"google_analytics_four":e.attr("placeholder","G-KZSV4LMBAC"),e.parent().parent().find("label").html("Código");break;case"taboola":e.attr("placeholder","1010100"),e.parent().parent().find("label").html("Código");break;case"outbrain":e.attr("placeholder","00de2748d47f2asdl39877mash"),e.parent().parent().find("label").html("Código");break;case"uol_ads":e.attr("placeholder","hutu27"),e.parent().parent().find("label").html("Código");break;case"tiktok":e.attr("placeholder","C5OSDKKVNBDLN9M5C6UG"),e.parent().parent().find("label").html("ID");break;default:e.attr("placeholder","Código"),e.parent().parent().find("label").html("Código")}}function h(t){return t.name.length>100?(alertCustom("error","O campo Descrição permite apenas 100 caracteres"),!1):t.name.length<1?(alertCustom("error","O campo Descrição é obrigatório"),!1):t.code.length<1?(alertCustom("error","O campo Código é obrigatório"),!1):"google_adwords"==t.platform&&t.conversional.length<1?(alertCustom("error","O campo de Rótulo de conversão é obrigatório"),!1):t.value_percentage_purchase_boleto.length>3?(alertCustom("error","O valore do campo % Valor Boleto está incorreto!"),!1):t.value_percentage_purchase_boleto.length>0&&(t.value_percentage_purchase_boleto>100||t.value_percentage_purchase_boleto<10)?(alertCustom("error","O valores permitidos para o campo % Valor Boleto deve ser entre 10 e 100"),!1):"facebook"===t.platform&&"api"===t.is_api&&t.facebook_token_api.length<1?(alertCustom("error","O campo Token Acesso API de Conversões é obrigatório"),!1):["taboola","outbrain"].includes(t.platform)&&t.purchase_event_name.length<1?(alertCustom("error","O campo Nome evento de conversão é obrigatório"),!1):null!=t.plans_apply||(alertCustom("error","É obrigatório selecionar um ou mais planos"),!1)}function m(){return{placeholder:"Nome do plano",multiple:!0,language:{noResults:function(){return"Nenhum plano encontrado"},searching:function(){return"Procurando..."},loadingMore:function(){return"Carregando mais planos..."}},ajax:{data:function(t){return{list:"plan",search:t.term,project_id:e,page:t.page||1}},method:"GET",url:"/api/plans/user-plans",delay:300,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},processResults:function(t){if(1===t.meta.current_page){t.data.unshift({id:"all",name:"Qualquer plano",description:""})}return{results:$.map(t.data,(function(t){return{id:t.id,text:t.name+(t.description?" - "+t.description:"")}})),pagination:{more:t.meta.current_page!==t.meta.last_page}}}}}}$(document).on("click",".edit-pixel",(function(){$.ajax({method:"GET",url:"/api/project/".concat(e,"/pixels/").concat($(this).attr("pixel"),"/edit"),dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){var e=t.data;o=e,i(e),c(),$("#modal-edit-pixel").modal("show")}})})),$("#modal-edit-pixel input[type=radio]").change((function(){"api"===this.value?($(".url_facebook_api_div_edit").show(),$("#facebook-token-api-edit").prop("readonly",!1).val(o.facebook_token)):($(".url_facebook_api_div_edit").hide(),$("#facebook-token-api-edit").prop("readonly",!0).val())})),$("#modal-edit-pixel .img-edit-selected").on("click",(function(){c(!0)})),$("#modal-edit-pixel img.logo-pixels-edit").on("click",(function(){i(o,$(this).data("value")),c()})),$("#btn-update-pixel").on("click",(function(){var n=$("#modal-edit-pixel .description-edit").val(),i=$("#modal-edit-pixel .platform-edit").val(),s=$("#modal-edit-pixel input[type=radio]:checked").val(),r=$("#modal-edit-pixel .code-edit").val(),l=$("#modal-edit-pixel .conversional-edit").val(),c=$("#modal-edit-pixel .percentage-boleto-value-edit").val(),p=$("#modal-edit-pixel #facebook-token-api-edit").val(),u=$("#modal-edit-pixel .input-purchase-event-name-edit").val(),m=$("#modal-edit-pixel .apply_plans").val();if(!h({name:n,platform:i,is_api:s,code:r,conversional:l,value_percentage_purchase_boleto:c,facebook_token_api:p,purchase_event_name:u,plans_apply:m}))return!1;var f=d(i,r,l);console.log(f),$.ajax({method:"PUT",url:"/api/project/".concat(e,"/pixels/").concat(o.id_code),dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:{name:n,code:f,platform:i,status:$("#modal-edit-pixel .status-edit").is(":checked"),checkout:$("#modal-edit-pixel .checkout-edit").is(":checked"),purchase_card:$("#modal-edit-pixel .purchase-card-edit").is(":checked"),purchase_boleto:$("#modal-edit-pixel .purchase-boleto-edit").is(":checked"),purchase_pix:$("#modal-edit-pixel .purchase-pix-edit").is(":checked"),edit_pixel_plans:m,purchase_event_name:u,is_api:s,facebook_token_api:p,value_percentage_purchase_boleto:c,url_facebook_domain_edit:$("#modal-edit-pixel .url_facebook_domain_edit").val()},error:function(t){errorAjaxResponse(t)},success:function(){$("#modal-edit-pixel").modal("hide"),alertCustom("success","Pixel atualizado com sucesso"),a(t)}})})),$(document).on("click",".delete-pixel",(function(n){n.preventDefault();var o=$(this).attr("pixel");$("#btn-delete").unbind("click"),$("#btn-delete").on("click",(function(){$.ajax({method:"DELETE",url:"/api/project/"+e+"/pixels/"+o,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){errorAjaxResponse(t)})),success:function(){alertCustom("success","Pixel Removido com sucesso"),a(t)}})}))})),$(".add-pixel").on("click",(function(){p(),$("#modal-create-pixel").modal("show")})),$("img.img-selected").on("click",(function(){p()})),$("img.logo-pixels-create").on("click",(function(){var t=$(this).data("value");$("#platform").val("").val(t),$(".form-control").val(""),$(".img-logo").attr("src",this.src),$("#select-facebook-integration, #div-facebook-token-api, .purchase-event-name-div, .url_facebook_api_div").hide(),u(t,$("#code-pixel"),$("#input-code-pixel"),$("#conversional-pixel")),"facebook"===t?($("#select-facebook-integration, #div-facebook-token-api").show(),"api"==$("input[type=radio]").val()?($(".url_facebook_api_div").show(),$("#facebook-token-api").attr("readonly",!1)):"default"==$("input[type=radio]").val()&&($(".select-default-facebook").click(),$("#facebook-token-api").attr("readonly",!0))):["taboola","outbrain"].includes(t)&&$(".purchase-event-name-div").show(),$("input[type=radio]").change((function(){$(".url_facebook_api_div").hide(),"api"===this.value?($(".url_facebook_api_div").show(),$("#facebook-token-api").attr("readonly",!1)):$("#facebook-token-api").attr("readonly",!0)})),$("#add_pixel_plans").val(null).trigger("change"),n($("#modal-create-pixel .status"),!0),n($("#modal-create-pixel .checkout"),!0),n($("#modal-create-pixel .purchase-boleto"),!0),n($("#modal-create-pixel .purchase-card"),!0),n($("#modal-create-pixel .purchase-pix"),!0),$("#select-platform-pixel").hide(),$("#configure-new-pixel").show()})),$("#modal-create-pixel #btn-store-pixel").on("click",(function(){var t=new FormData(document.querySelector("#modal-create-pixel  #form-register-pixel"));if(t.append("status",$("#modal-create-pixel .status").is(":checked")),t.append("checkout",$("#modal-create-pixel .checkout").is(":checked")),t.append("purchase_card",$("#modal-create-pixel .purchase-card").is(":checked")),t.append("purchase_boleto",$("#modal-create-pixel .purchase-boleto").is(":checked")),t.append("purchase_pix",$("#modal-create-pixel .purchase-pix").is(":checked")),!h({name:t.get("name"),platform:t.get("platform"),is_api:t.get("api-facebook"),code:t.get("code"),conversional:t.get("conversional"),value_percentage_purchase_boleto:t.get("value_percentage_purchase_boleto"),facebook_token_api:t.get("facebook-token-api"),purchase_event_name:t.get("purchase-event-name"),plans_apply:t.get("add_pixel_plans[]")}))return!1;var n=d(t.get("platform"),t.get("code"),t.get("conversional"));t.set("code",n),$.ajax({method:"POST",url:"/api/project/"+e+"/pixels",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:t,processData:!1,contentType:!1,cache:!1,error:function(t){errorAjaxResponse(t)},success:function(t){$("#modal-create-pixel").modal("hide"),alertCustom("success",t.message),a()}})})),$("#add_pixel_plans").select2(Object.assign(m(),{dropdownParent:$("#modal-create-pixel")})),$(".edit-plans").select2(Object.assign(m(),{dropdownParent:$("#modal-edit-pixel")})),$("#add_pixel_plans, .edit-plans").on("select2:select",(function(){var t=$(this);(t.val().length>1&&t.val().includes("all")||t.val().includes("all")&&"all"!=t.val())&&t.val("all").trigger("change")})),$(".btn-config-pixel").on("click",(function(){$.ajax({method:"GET",url:"/api/projects/"+e+"/pixels/configs",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){$("#metatag-verification-facebook").val(t.data.metatags_facebook),$("#modal-config-pixel").modal("show")}})})),$(".btn-save-config-pixel").on("click",(function(){$.ajax({method:"POST",url:"/api/projects/"+e+"/pixels/saveconfigs",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:{"metatag-verification-facebook":$("#metatag-verification-facebook").val()},error:function(t){errorAjaxResponse(t)},success:function(t){alertCustom("success",t.message),$("#modal-config-pixel").modal("hide")}})}))})),$(document).ready((function(){var t,e=$(window.location.pathname.split("/")).get(-1),n=null;function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t=null==t?"/api/projectupsellrule":"/api/projectupsellrule"+t,loadOnTable("#data-table-upsell","#table-upsell"),$("#tab_upsell-panel").find(".no-gutters").css("display","none"),$("#table-upsell").find("thead").css("display","none"),$.ajax({method:"GET",url:t,dataType:"json",data:{project_id:e},headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){var e=$("#data-table-upsell");if(e.html(""),""==t.data)$(".div-config").hide(),$("#data-table-upsell").html("\n                        <tr class='text-center'>\n                            <td colspan='3' style='height: 70px;vertical-align: middle'>\n                                <div class='d-flex justify-content-center align-items-center'>\n                                    <img src='/modules/global/img/empty-state-table.svg' style='margin-right: 60px;'>\n                                    <div class='text-left'>\n                                        <h1 style='font-size: 24px; font-weight: normal; line-height: 30px; margin: 0; color: #636363;'>Nenhum upsell configurado</h1>\n                                        <p style='font-style: normal; font-weight: normal; font-size: 16px; line-height: 20px; color: #9A9A9A;'>Cadastre o seu primeiro upsell para poder\n                                        <br>gerenciá-los nesse painel.</p>\n                                        <button type='button' style='width: auto; height: auto; padding: .429rem 1rem !important;' class='btn btn-primary add-upsell' data-toggle=\"modal\" data-target=\"#modal_add_upsell\">Adicionar upsell</button>\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n                    "),$("#table-upsell").addClass("table-striped");else{$("#tab_upsell-panel").find(".no-gutters").css("display","flex"),$("#table-upsell").find("thead").css("display","contents"),$("#table-upsell").addClass("table-striped"),$("#count-upsell").html(t.meta.total);var n="";$.each(t.data,(function(t,e){n+="\n                        <tr>\n                            <td>".concat(e.description,'</td>\n                            <td class="text-center">').concat(e.active_flag?'<span class="badge badge-success text-left">Ativo</span>':'<span class="badge badge-danger">Desativado</span>',"</td>\n                            <td style='text-align:center'>\n                                <div class='d-flex justify-content-end align-items-center'>\n                                    <a role='button' title='Visualizar' class='mg-responsive details-upsell pointer' data-upsell=\"").concat(e.id,"\" data-target='#modal-detail-upsell' data-toggle='modal'><span class=\"o-eye-1\"></span></a>\n                                    <a role='button' title='Editar' class='pointer edit-upsell mg-responsive' data-upsell=\"").concat(e.id,"\"><span class='o-edit-1'></span></a>\n                                    <a role='button' title='Excluir' class='pointer delete-upsell mg-responsive' data-upsell=\"").concat(e.id,'" data-toggle="modal" data-target="#modal-delete-upsell"><span class=\'o-bin-1\'></span></a>\n                                </div>\n                            </td>\n                        </tr>\n                        ')})),e.append(n),$(".div-config").show(),pagination(t,"upsell",a)}}})}ClassicEditor.create(document.querySelector("#description_config"),{language:"pt-br",uiColor:"#F1F4F5",toolbar:["heading","|","bold","italic","|","link","|","undo","redo"]}).then((function(e){t=e})).catch((function(t){console.error(t)})),$(".tab_upsell").on("click",(function(){a(),$(this).off()})),$(document).on("click",".add-upsell",(function(){$("#modal_add_upsell .modal-title").html("Novo upsell"),$(".bt-upsell-save").show(),$(".bt-upsell-update").hide(),$("#form_add_upsell").show(),$("#form_edit_upsell").hide(),$("#add_description_upsell").val(""),$("#add_discount_upsell").val("")})),$(document).on("click",".edit-upsell",(function(t){t.preventDefault();var e=$(this).data("upsell");$("#modal_add_upsell .modal-title").html("Editar upsell"),$(".bt-upsell-save").hide(),$(".bt-upsell-update").show(),$("#form_add_upsell").hide(),$("#form_edit_upsell").show(),$("#edit_description_upsell").val(""),$("#edit_discount_upsell").val(""),$("#form_edit_upsell .upsell-id").val(e),$.ajax({method:"GET",url:"/api/projectupsellrule/"+e+"/edit",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){},success:function(t){var e=t.data;$("#edit_description_upsell").val("".concat(e.description)),$("#edit_discount_upsell").val("".concat(e.discount)),e.active_flag?$("#edit_active_flag").val(1).prop("checked",!0):$("#edit_active_flag").val(0).prop("checked",!1),$("#edit_apply_on_plans, #edit_offer_on_plans").html("");var n,a=[],o=_createForOfIteratorHelper(e.apply_on_plans);try{for(o.s();!(n=o.n()).done;){var i=n.value;a.push(i.id),$("#edit_apply_on_plans").append('<option value="'.concat(i.id,'">').concat(i.name+(i.description?" - "+i.description:""),"</option>"))}}catch(t){o.e(t)}finally{o.f()}$("#edit_apply_on_plans").val(a);var s,r=[],l=_createForOfIteratorHelper(e.offer_on_plans);try{for(l.s();!(s=l.n()).done;){var c=s.value;r.push(c.id),$("#edit_offer_on_plans").append('<option value="'.concat(c.id,'">').concat(c.name+(c.description?" - "+c.description:""),"</option>"))}}catch(t){l.e(t)}finally{l.f()}$("#edit_offer_on_plans").val(r),$("#modal_add_upsell").modal("show")}})})),$(document).on("click",".bt-upsell-save",(function(){var t=new FormData(document.getElementById("form_add_upsell"));t.append("project_id",e),$.ajax({method:"POST",url:"/api/projectupsellrule",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},processData:!1,contentType:!1,cache:!1,data:t,error:function(t){errorAjaxResponse(t)},success:function(t){$("#modal_add_upsell").modal("hide"),a(),alertCustom("success",t.message),$("#add_apply_on_plans, #add_offer_on_plans").val(null).trigger("change")}})})),$(document).on("click",".delete-upsell",(function(t){t.preventDefault();var e=$(this).data("upsell");$("#btn-delete-upsell").unbind("click"),$("#btn-delete-upsell").on("click",(function(){$.ajax({method:"DELETE",url:"/api/projectupsellrule/"+e,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){loadingOnScreenRemove(),errorAjaxResponse(t)},success:function(t){a(),alertCustom("success",t.message)}})}))})),$(document).on("click",".bt-upsell-update",(function(t){t.preventDefault();var e=new FormData(document.getElementById("form_edit_upsell")),n=$("#form_edit_upsell .upsell-id").val();$.ajax({method:"POST",url:"/api/projectupsellrule/"+n,headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},processData:!1,contentType:!1,cache:!1,data:e,error:function(t){errorAjaxResponse(t)},success:function(t){$("#modal_add_upsell").modal("hide"),a(),alertCustom("success",t.message)}})})),$(document).on("click",".details-upsell",(function(t){t.preventDefault();var e=$(this).data("upsell");$.ajax({method:"GET",url:"/api/projectupsellrule/"+e,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){var e=t.data;$(".upsell-description").html(""),$(".upsell-discount").html(""),$(".upsell-status").html(""),$(".upsell-apply-plans").html(""),$(".upsell-offer-plans").html(""),$(".upsell-description").html("".concat(e.description)),$(".upsell-discount").html("".concat(0!=e.discount?"".concat(e.discount,"%"):"Valor sem desconto")),$(".upsell-status").html("".concat(e.active_flag?'<span class="badge badge-success text-left">Ativo</span>':'<span class="badge badge-danger">Desativado</span>'));var n,a=_createForOfIteratorHelper(e.apply_on_plans);try{for(a.s();!(n=a.n()).done;){var o=n.value;$(".upsell-apply-plans").append("<span>".concat(o.name,"</span><br>"))}}catch(t){a.e(t)}finally{a.f()}var i,s=_createForOfIteratorHelper(e.offer_on_plans);try{for(s.s();!(i=s.n()).done;){var r=i.value;$(".upsell-offer-plans").append("<span>".concat(r.name,"</span><br>"))}}catch(t){s.e(t)}finally{s.f()}}})})),$("#add_apply_on_plans, #edit_apply_on_plans, #add_offer_on_plans, #edit_offer_on_plans").select2({placeholder:"Nome do plano",multiple:!0,dropdownParent:$("#modal_add_upsell"),language:{noResults:function(){return"Nenhum plano encontrado"},searching:function(){return"Procurando..."},loadingMore:function(){return"Carregando mais planos..."}},ajax:{data:function(t){return{list:"plan",search:t.term,project_id:e,page:t.page||1}},method:"GET",url:"/api/plans/user-plans",delay:300,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},processResults:function(t){var e=this.$element.attr("id");if(["add_apply_on_plans","edit_apply_on_plans"].includes(e)&&1===t.meta.current_page){t.data.unshift({id:"all",name:"Qualquer plano",description:""})}return{results:$.map(t.data,(function(t){return{id:t.id,text:t.name+(t.description?" - "+t.description:"")}})),pagination:{more:t.meta.current_page!==t.meta.last_page}}}}}),$("#add_apply_on_plans, #edit_apply_on_plans").on("select2:select",(function(){var t=$(this);(t.val().length>1&&t.val().includes("all")||t.val().includes("all")&&"all"!==t.val())&&t.val("all").trigger("change")})),$(document).on("click","#config-upsell",(function(n){n.preventDefault(),$.ajax({method:"GET",url:"/api/projectupsellconfig/"+e,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(e){var n,a=e.data;$("#header_config").val("".concat(a.header)),$("#title_config").val("".concat(a.title)),t.setData("".concat(null!==(n=a.description)&&void 0!==n?n:" ")),$("#countdown_time").val("".concat(a.countdown_time)),a.countdown_flag?$("#countdown_flag").prop("checked",!0):$("#countdown_flag").prop("checked",!1),a.has_upsell&&$(".btn-view-config").show(),$("#modal_config_upsell").modal("show")}})})),$(document).on("click",".bt-upsell-config-update",(function(n){if(n.preventDefault(),$("#countdown_flag").is(":checked")&&""==$("#countdown_time").val())return alertCustom("error","Preencha o campo Contagem"),!1;var a=new FormData(document.getElementById("form_config_upsell")),o=t.getData();a.set("description",o),$.ajax({method:"POST",url:"/api/projectupsellconfig/"+e,headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},processData:!1,contentType:!1,cache:!1,data:a,error:function(t){errorAjaxResponse(t)},success:function(t){alertCustom("success",t.message),$("#modal_config_upsell").modal("hide")}})})),$(document).on("click",".btn-return-to-config",(function(t){t.preventDefault(),$("#modal-view-upsell-config").modal("hide"),$("#modal_config_upsell").modal("show")})),$(document).on("click",".btn-view-config",(function(t){t.preventDefault(),$("#modal_config_upsell").modal("hide"),$.ajax({method:"POST",url:"/api/projectupsellconfig/previewupsell",dataType:"json",data:{project_id:e},headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){var e=t.data;$("#div-upsell-products").html(""),$("#upsell-header").html(e.header),$("#upsell-title").html(e.title),$("#upsell-description").html(e.description),e.countdown_flag?($("#timer").show(),function(t){var e=(new Date).getTime()+6e4*t;null!==n&&clearInterval(n);a=function(){var n=(new Date).getTime(),a=e-n;if(a>0){var o=Math.floor(a%36e5/6e4),i=Math.floor(a%6e4/1e3);$("#minutes").text(o.toString().padStart(2,"0")),$("#seconds").text(i.toString().padStart(2,"0"))}else e=(new Date).getTime()+6e4*t},o=1e3,a(),n=setInterval(a,o);var a,o}(e.countdown_time)):$("#timer").hide();var a="";for(var o in e.plans){var i=e.plans[o];a+='<div class="product-info">\n                                <div class="d-flex flex-column">';var s,r=_createForOfIteratorHelper(i.products);try{for(r.s();!(s=r.n()).done;){var l=s.value,c=Object.keys(l)[0];if(a+='<div class="product-row">\n                                    <img src="'.concat(l[c].photo,'" class="product-img">\n                                    <div class="ml-4">\n                                        <h3>').concat(l[c].amount,"x ").concat(l[c].name,"</h3>"),Object.keys(l).length>1){for(var d in a+='<select class="product-variant">',l)a+='<option value="'.concat(d,'">').concat(l[d].description,"</option>");a+="</select>"}else a+='<span class="text-muted">'.concat(l[c].description,"</span>");a+="</div>\n                             </div>"}}catch(t){r.e(t)}finally{r.f()}if(a+='</div>\n                                <div class="d-flex flex-column mt-4 mt-md-0">',i.discount&&(a+='<span class="original-price line-through">R$ '.concat(i.original_price,'</span>\n                                                 <div class="d-flex mb-2">\n                                                     <span class="price font-30 mr-1" style="line-height: .8">R$ ').concat(i.price,'</span>\n                                                     <span class="discount text-success font-weight-bold">').concat(i.discount,"% OFF</span>\n                                                 </div>")),isEmpty(i.installments))a+='<h2 class="text-primary mb-md-4"><b>R$ '.concat(i.price,"</b></h2>");else{a+='<div class="form-group">\n                                    <select class="installments">';var p,u=_createForOfIteratorHelper(i.installments);try{for(u.s();!(p=u.n()).done;){var h=p.value;a+='<option value="'.concat(h.amount,'">').concat(h.amount,"X DE R$ ").concat(h.value,"</option>")}}catch(t){u.e(t)}finally{u.f()}a+="</select>\n                             </div>"}a+='<button class="btn btn-success btn-lg btn-buy">COMPRAR AGORA</button>\n                         </div>\n                    </div>',parseInt(o)!==e.plans.length-1&&(a+='<hr class="plan-separator">')}$("#div-upsell-products").append(a),$("#modal-view-upsell-config").modal("show")}})}))})),$((function(){var t=$(window.location.pathname.split("/")).get(-1);function e(){loadOnTable("#table-order-bump tbody","#table-order-bump");var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n="/api/orderbump"+(n||""),$("#tab-order-bump-panel").find(".no-gutters").css("display","none"),$("#table-order-bump").find("thead").css("display","none"),$.ajax({method:"GET",url:n,data:{project_id:t},headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){var n=t.data,a=$("#table-order-bump tbody");if(n.length){a.html(""),$("#tab-order-bump-panel").find(".no-gutters").css("display","flex"),$("#table-order-bump").find("thead").css("display","contents");var o,i=_createForOfIteratorHelper(n);try{for(i.s();!(o=i.n()).done;){var s=o.value,r="<tr>\n                                       <td>".concat(s.description,'</td>\n                                       <td class="text-center">').concat(s.active_flag?'<span class="badge badge-success">Ativo</span>':'<span class="badge badge-danger">Desativado</span>','</td>\n                                       <td>\n                                            <div class=\'d-flex justify-content-end align-items-center\'>\n                                                <a class="pointer mg-responsive show-order-bump" data-id="').concat(s.id,'" title="Visualizar"><span class="o-eye-1"></span></a>\n                                                <a class="pointer mg-responsive edit-order-bump" data-id="').concat(s.id,'" title="Editar" ><span class="o-edit-1"></span></a>\n                                                <a class="pointer mg-responsive destroy-order-bump" data-id="').concat(s.id,'" title="Excluir" data-toggle="modal" data-target="#modal-delete-order-bump"><span class="o-bin-1"></span></a>\n                                            </div>\n                                       </td>\n                                   </tr>');a.append(r)}}catch(t){i.e(t)}finally{i.f()}pagination(t,"order-bump",e)}else a.html("\n                        <tr class=\"text-center\">\n                            <td colspan=\"3\">\n                                <div class='d-flex justify-content-center align-items-center'>\n                                    <img src='/modules/global/img/empty-state-table.svg' style='margin-right: 60px;'>\n                                    <div class='text-left'>\n                                        <h1 style='font-size: 24px; font-weight: normal; line-height: 30px; margin: 0; color: #636363;'>Nenhum order bump configurado</h1>\n                                        <p style='font-style: normal; font-weight: normal; font-size: 16px; line-height: 20px; color: #9A9A9A;'>Cadastre o seu primeiro order bump para poder\n                                        <br>gerenciá-los nesse painel.</p>\n                                        <button type='button' style='width: auto; height: auto; padding: .429rem 1rem !important;' class='btn btn-primary add-order-bump' data-toggle=\"modal\" data-target=\"#modal-store-order-bump\">Adicionar order bump</button>\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n                    "),a.parent().addClass("table-striped")}})}$("#tab_order_bump").on("click",(function(){e()})),$(document).on("click",".show-order-bump",(function(){var t=$(this).data("id");$.ajax({url:"/api/orderbump/"+t,headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){var e=t.data,n=e.apply_on_plans.map((function(t){return t.name+(t.description?" - ".concat(t.description):"")})).join(" / "),a=e.offer_plans.map((function(t){return t.name+(t.description?" - ".concat(t.description):"")})).join(" / ");$("#order-bump-show-table .order-bump-description").html(e.description),$("#order-bump-show-table .order-bump-discount").html(e.discount+"%"),$("#order-bump-show-table .order-bump-apply-plans").html(n),$("#order-bump-show-table .order-bump-offer-plans").html(a),$("#order-bump-show-table .order-bump-status").html(e.active_flag?'<span class="badge badge-success">Ativo</span>':'<span class="badge badge-danger">Desativado</span>'),$("#modal-show-order-bump").modal("show")}})})),$(document).on("click",".edit-order-bump",(function(){var t=$(this).data("id");$.ajax({url:"/api/orderbump/"+t,headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(e){var n=e.data,a=$("#update-apply-on-plans-order-bump"),o=$("#update-offer-plans-order-bump");$("#update-description-order-bump").val(n.description),$("#update-discount-order-bump").val(n.discount);var i=[];a.html("");var s,r=_createForOfIteratorHelper(n.apply_on_plans);try{for(r.s();!(s=r.n()).done;){var l=s.value;i.push(l.id),a.append('<option value="'.concat(l.id,'">').concat(l.name+(l.description?" - ".concat(l.description):""),"</option>"))}}catch(t){r.e(t)}finally{r.f()}a.val(i),o.html("");var c,d=[],p=_createForOfIteratorHelper(n.offer_plans);try{for(p.s();!(c=p.n()).done;){var u=c.value;d.push(u.id),o.append('<option value="'.concat(u.id,'">').concat(u.name+(u.description?" - ".concat(u.description):""),"</option>"))}}catch(t){p.e(t)}finally{p.f()}o.val(d),n.active_flag?$("#update-active-flag-order-bump").val(1).prop("checked",!0):$("#update-active-flag-order-bump").val(0).prop("checked",!1),$("#btn-update-order-bump").data("id",t),$("#modal-update-order-bump").modal("show")}})})),$("#btn-store-order-bump").on("click",(function(){var n=new FormData(document.querySelector("#form-store-order-bump"));n.append("project_id",t),$.ajax({method:"POST",url:"/api/orderbump",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},processData:!1,contentType:!1,cache:!1,data:n,error:function(t){errorAjaxResponse(t)},success:function(t){alertCustom("success",t.message),$("#modal-store-order-bump").modal("hide"),$("#store-description-order-bump, #store-discount-order-bump").val(""),$("#store-apply-on-plans-order-bump, #store-offer-plans-order-bump").val(null).trigger("change"),e()}})})),$("#btn-update-order-bump").on("click",(function(){var n=$(this).data("id"),a=new FormData(document.querySelector("#form-update-order-bump"));a.append("project_id",t),$.ajax({method:"POST",url:"/api/orderbump/"+n,headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},processData:!1,contentType:!1,cache:!1,data:a,error:function(t){errorAjaxResponse(t)},success:function(t){alertCustom("success",t.message),$("#modal-update-order-bump").modal("hide"),e()}})})),$(document).on("click",".destroy-order-bump",(function(t){t.preventDefault();var n=$(this).data("id");$("#btn-delete-orderbump").unbind("click"),$("#btn-delete-orderbump").on("click",(function(){$.ajax({method:"DELETE",url:"/api/orderbump/"+n,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){e(),alertCustom("success",t.message)}})}))})),$("#store-apply-on-plans-order-bump, #update-apply-on-plans-order-bump").on("select2:select",(function(){var t=$(this);t.val().length>1&&t.val().includes("all")&&t.val("all").trigger("change")}));var n={placeholder:"Nome do plano",multiple:!0,language:{noResults:function(){return"Nenhum plano encontrado"},searching:function(){return"Procurando..."},loadingMore:function(){return"Carregando mais planos..."}},ajax:{data:function(e){return{list:"plan",search:e.term,project_id:t,page:e.page||1}},method:"GET",url:"/api/plans/user-plans",delay:300,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},processResults:function(t){var e=this.$element.attr("id");if(["store-apply-on-plans-order-bump","update-apply-on-plans-order-bump"].includes(e)&&1===t.meta.current_page){t.data.unshift({id:"all",name:"Qualquer plano",description:""})}return{results:$.map(t.data,(function(t){return{id:t.id,text:t.name+(t.description?" - "+t.description:"")}})),pagination:{more:t.meta.current_page!==t.meta.last_page}}}}};$("#store-apply-on-plans-order-bump, #store-offer-plans-order-bump").select2(_objectSpread({dropdownParent:$("#modal-store-order-bump")},n)),$("#update-apply-on-plans-order-bump, #update-offer-plans-order-bump").select2(_objectSpread({dropdownParent:$("#modal-update-order-bump")},n))}));var statusCupons={1:"success",0:"danger"};$((function(){var t=$(window.location.pathname.split("/")).get(-1),e=0;function n(t){if(1==$(t).val().length){var e="0,0"+$(t).val();$(t).val(e)}else if(2==$(t).val().length){var n="0,"+$(t).val();$(t).val(n)}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=null==e?"/api/project/"+t+"/couponsdiscounts":"/api/project/"+t+"/couponsdiscounts"+e,loadOnTable("#data-table-coupon","#tabela-coupom"),$("#tab_coupons-panel").find(".no-gutters").css("display","none"),$("#tabela-coupon").find("thead").css("display","none"),$.ajax({method:"GET",url:e,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){$("#data-table-coupon").html(""),""==t.data?$("#data-table-coupon").html("\n                        <tr class='text-center'>\n                            <td colspan='8' style='height: 70px; vertical-align: middle;'>\n                                <div class='d-flex justify-content-center align-items-center'>\n                                    <img src='/modules/global/img/empty-state-table.svg' style='margin-right: 60px;'>\n                                    <div class='text-left'>\n                                        <h1 style='font-size: 24px; font-weight: normal; line-height: 30px; margin: 0; color: #636363;'>Nenhum cupom configurado</h1>\n                                        <p style='font-style: normal; font-weight: normal; font-size: 16px; line-height: 20px; color: #9A9A9A;'>Cadastre o seu primeiro cupom para poder\n                                        <br>gerenciá-los nesse painel.</p>\n                                        <button type='button' style='width: auto; height: auto; padding: .429rem 1rem !important;' class='btn btn-primary add-order-bump' data-toggle=\"modal\" data-target=\"#modal-create-coupon\">Adicionar cupom</button>\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n                    "):($("#tab_coupons-panel").find(".no-gutters").css("display","flex"),$("#tabela-coupon").find("thead").css("display","contents"),$("#count-coupons").html(t.meta.total),$.each(t.data,(function(t,e){var n='<tr>\n                            <td class="shipping-id">'.concat(e.name,'</td>\n                            <td class="shipping-type">').concat(e.type,'</td>\n                            <td class="shipping-value">').concat(e.value,'</td>\n                            <td class="shipping-zip-code-origin">').concat(e.code,'</td>\n                            <td class="shipping-status text-center" style="vertical-align: middle">\n                                <span class="badge badge-').concat(statusCupons[e.status],'">').concat(e.status_translated,'</span>\n                            </td>\n                            <td style="text-align:center">\n                                <div class=\'d-flex justify-content-end align-items-center\'>\n                                    <a role="button" title=\'Visualizar\' class="mg-responsive details-coupon pointer" coupon="').concat(e.id,'"><span class="o-eye-1"></span></a>\n                                    <a role="button" title=\'Editar\' class="mg-responsive edit-coupon pointer" coupon="').concat(e.id,'"><span class="o-edit-1"></span> </a>\n                                    <a role="button" title=\'Excluir\' class="mg-responsive delete-coupon pointer" coupon="').concat(e.id,'" data-toggle="modal" data-target="#modal-delete-coupon"><span class=\'o-bin-1\'></span></a>\n                                </div>\n                            </td>\n                        </tr>');$("#data-table-coupon").append(n)})),pagination(t,"coupons",a))}})}$(".coupon-value").mask("00%",{reverse:!0}),$(document).on("change","#edit-coupon-type",(function(t){1==$(this).val()?(e=1,$(".coupon-value").mask("#.##0,00",{reverse:!0}).removeAttr("maxlength")):(e=0,$(".coupon-value").mask("00%",{reverse:!0}))})),$(document).on("change","#create-coupon-type",(function(t){1==$(this).val()?(e=1,$(".coupon-value").mask("#.##0,00",{reverse:!0}).removeAttr("maxlength")):(e=0,$(".coupon-value").mask("00%",{reverse:!0}))})),$(".rule-value").mask("#.##0,00",{reverse:!0}).removeAttr("maxlength"),$(".rule-value").on("blur",(function(){n(this)})),$(".coupon-value").on("blur",(function(){1==e&&n(this)})),$(".tab_coupons").on("click",(function(){a(),$(this).off()})),$(document).on("click",".details-coupon",(function(){var e=$(this).attr("coupon");$("#btn-modal").hide(),$.ajax({method:"GET",url:"/api/project/"+t+"/couponsdiscounts/"+e,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){$("#modal-detail-coupon .coupon-name").html(t.data.name),$("#modal-detail-coupon .coupon-code").html(t.data.code),$("#modal-detail-coupon .coupon-type").html(t.data.type),$("#modal-detail-coupon .coupon-value").html("Valor"==t.data.type?"R$ "+t.data.value:t.data.value+"%"),$("#modal-detail-coupon .rule-value").html("R$ "+t.data.rule_value),$("#modal-detail-coupon .coupon-status").html("1"==t.data.status?'<span class="badge badge-success text-left">Ativo</span>':'<span class="badge badge-danger">Desativado</span>'),$("#modal-detail-coupon").modal("show")}})})),$(document).on("click",".edit-coupon",(function(){var e=$(this).attr("coupon");$.ajax({method:"GET",url:"/api/project/"+t+"/couponsdiscounts/"+e+"/edit",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){$("#modal-edit-coupon .coupon-id").val(e),$("#modal-edit-coupon .coupon-name").val(t.name),$("#modal-edit-coupon .coupon-value").val(t.value),$("#modal-edit-coupon .rule-value").val(t.rule_value),$("#modal-edit-coupon .rule-value").trigger("input"),1==t.type?$("#edit-coupon-type").prop("selectedIndex",1).change():$("#edit-coupon-type").prop("selectedIndex",0).change(),$("#modal-edit-coupon .coupon-code").val(t.code),1==t.status?$("#edit-coupon-status").prop("selectedIndex",0).change():$("#edit-coupon-status").prop("selectedIndex",1).change(),$("#modal-edit-coupon").modal("show")}})})),$(document).on("click",".delete-coupon",(function(e){e.preventDefault();var n=$(this).attr("coupon");$("#btn-delete-coupon").unbind("click"),$("#btn-delete-coupon").on("click",(function(){$.ajax({method:"DELETE",url:"/api/project/"+t+"/couponsdiscounts/"+n,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){a(),alertCustom("success","Cupom Removido com sucesso")}})}))})),$("#modal-create-coupon .btn-save").on("click",(function(){var e=new FormData(document.getElementById("form-register-coupon"));$.ajax({method:"POST",url:"/api/project/"+t+"/couponsdiscounts",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:e,processData:!1,contentType:!1,cache:!1,error:function(t){errorAjaxResponse(t)},success:function(){$(".loading").css("visibility","hidden"),alertCustom("success","Cupom Adicionado!"),a(),$(".coupon-name").val(""),$(".coupon-value").val(""),$(".coupon-code").val(""),$(".rule-value").val("")}})})),$("#modal-edit-coupon .btn-update").on("click",(function(){var e=new FormData(document.getElementById("form-update-coupon")),n=$("#modal-edit-coupon .coupon-id").val();$.ajax({method:"POST",url:"/api/project/"+t+"/couponsdiscounts/"+n,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:e,processData:!1,contentType:!1,cache:!1,error:function(t){400===t.status&&a(),errorAjaxResponse(t)},success:function(t){alertCustom("success",t.message),a()}})}))})),$(document).ready((function(){var t=$(window.location.pathname.split("/")).get(-1),e=$("#previewimagereview"),n=$("#photoReview");$(".tab_reviews").on("click",(function(){$.ajax({method:"GET",url:"/api/projectreviewsconfig/"+t,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},success:function(t){var e=t.data;localStorage.setItem("reviews_config_icon_type",e.reviews_config_icon_type),localStorage.setItem("reviews_config_icon_color",e.reviews_config_icon_color)}}),e.imgAreaSelect({remove:!0}),i(),$(this).off()}));var a=e;n.off().on("change",(function(){var t=new FileReader;t.readAsDataURL(document.getElementById("photoReview").files[0]),t.onload=function(t){a.attr("src",t.target.result).fadeIn(),a.on("load",(function(){var t,n,a,o,i=document.getElementById("previewimagereview");i.naturalWidth>i.naturalHeight?(a=Math.floor(i.naturalHeight/100*10),o=i.naturalHeight-Math.floor(i.naturalHeight/100*10),n=(t=Math.floor(i.naturalWidth/2)-Math.floor((o-a)/2))+(o-a)):i.naturalWidth<i.naturalHeight?(t=Math.floor(i.naturalWidth/100*10),n=i.naturalWidth-Math.floor(i.naturalWidth/100*10),o=(a=Math.floor(i.naturalHeight/2)-Math.floor((n-t)/2))+(n-t)):(t=Math.floor(i.naturalWidth/100*10),n=i.naturalWidth-Math.floor(i.naturalWidth/100*10),a=Math.floor(i.naturalHeight/100*10),o=i.naturalHeight-Math.floor(i.naturalHeight/100*10)),$("#photo_x1").val(t),$("#photo_y1").val(a),$("#photo_w").val(n-t),$("#photo_h").val(o-a),e.imgAreaSelect({x1:t,y1:a,x2:n,y2:o,aspectRatio:"1:1",handles:!0,imageHeight:this.naturalHeight,imageWidth:this.naturalWidth,parent:$("#modal_content_review_form"),onSelectEnd:function(t,e){$("#photo_x1").val(e.x1),$("#photo_y1").val(e.y1),$("#photo_w").val(e.width),$("#photo_h").val(e.height)}})}))}})),e.on("click",(function(){n.click()}));var o=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=localStorage.getItem("reviews_config_icon_type")||"star",o="star"===a?"fa fa-".concat(a,"-half-o"):"fa fa-".concat(a),i=$(t);i.off(),i.html(""),i.css({color:localStorage.getItem("reviews_config_icon_color")}),i.raty({half:!0,readOnly:n,starType:"i",score:e,starHalf:o,starOff:"fa fa-".concat(a,"-o"),starOn:"fa fa-".concat(a),scoreName:"stars"})};function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n="/api/projectreviews";null!=e&&(n+=e),loadOnTable("#data-table-reviews","#table-reviews"),$("#tab_project_reviews").find(".no-gutters").css("display","none"),$("#table-reviews").find("thead").css("display","none"),$.ajax({method:"GET",url:n,dataType:"json",data:{project_id:t},headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){$("#table-reviews").addClass("table-striped");var e=$("#data-table-reviews");if(e.html(""),""==t.data)e.html("\n                        <tr class='text-center'>\n                            <td colspan='11' style='height: 70px;vertical-align: middle'>\n                                <div class='d-flex justify-content-center align-items-center'>\n                                    <img src='/modules/global/img/empty-state-table.svg' style='margin-right: 60px;'>\n                                    <div class='text-left'>\n                                        <h1 style='font-size: 24px; font-weight: normal; line-height: 30px; margin: 0; color: #636363;'>Nenhum review configurado</h1>\n                                        <p style='font-style: normal; font-weight: normal; font-size: 16px; line-height: 20px; color: #9A9A9A;'>Cadastre o seu primeiro review para poder\n                                        <br>gerenciá-los nesse painel.</p>\n                                        <button type='button' style='width: auto; height: auto; padding: .429rem 1rem !important;' class='btn btn-primary add-review' data-toggle=\"modal\" data-target=\"#modal_review\">Adicionar review</button>\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n                    ");else{var n="";$("#tab_project_reviews").find(".no-gutters").css("display","flex"),$("#table-reviews").find("thead").css("display","contents"),$("#count-project-reviews").html(t.meta.total),$.each(t.data,(function(t,a){n='\n                        <tr>\n                            <td>\n                                <img src="'.concat(a.photo||"https://cloudfox-documents.s3.amazonaws.com/cloudfox/defaults/user-default.png",'"\n                                class="img-fluid rounded-circle mr-2" width="35" height="35">\n                                ').concat(a.name,"\n                            </td>\n                            <td>").concat(a.description.substring(0,50),'...</td>\n                            <td>\n                                <div id="stars-').concat(a.id,'" data-score="').concat(a.stars,"\"></div>\n                            </td>\n                            <td class='text-center'>").concat(a.active_flag?'<span class="badge badge-success text-left">Ativo</span>':'<span class="badge badge-danger">Desativado</span>',"</td>\n                            <td style='text-align:center'>\n                                <div class='d-flex justify-content-end align-items-center'>\n                                    <a role='button' title='Visualizar' class='mg-responsive details-review pointer' data-review=\"").concat(a.id,"\" data-target='#modal-detail-review' data-toggle='modal'><span class=\"o-eye-1\"></span></a>\n                                    <a role='button' title='Editar' class='pointer edit-review mg-responsive' data-review=\"").concat(a.id,"\"><span class='o-edit-1'></span></a>\n                                    <a role='button' title='Excluir' class='pointer delete-review mg-responsive' data-review=\"").concat(a.id,'" data-toggle="modal" data-target="#modal-delete-review"><span class=\'o-bin-1\'></span></a>\n                                </div>\n                            </td>\n                        </tr>\n                        '),e.append(n),o("#stars-"+a.id)})),$(".div-config").show(),pagination(t,"review",i)}}})}$(document).on("click",".add-review",(function(){$("#modal_review .modal-title").html("Novo review"),$(".bt-review-save").show(),$(".bt-review-update").hide();var t=$("#form_review");t.trigger("reset"),t.find("#name").val(""),t.find("#description_review").val(""),t.find("#review_stars").html(""),t.find("#previewimagereview").attr("src","/modules/global/img/projeto.svg"),t.find("#review_apply_on_plans").val("").trigger("change"),o("#review_stars",5,!1),setTimeout((function(){e.imgAreaSelect({remove:!0})}),50)})),$(document).on("click",".bt-review-save",(function(){var n=$(".bt-review-save");n.attr("disabled","disabled");var a=new FormData(document.getElementById("form_review"));a.append("project_id",t),$.ajax({method:"POST",url:"/api/projectreviews",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},processData:!1,contentType:!1,cache:!1,data:a,dataType:"json",error:function(t){errorAjaxResponse(t)},success:function(t){$("#modal_review").modal("hide"),i(),alertCustom("success",t.message),$("#review_apply_on_plans").val(null).trigger("change")},complete:function(){e.imgAreaSelect({remove:!0}),n.attr("disabled",!1)}})})),$(document).on("click",".edit-review",(function(t){t.preventDefault();var n=$(this).data("review");$("#modal_review .modal-title").html("Editar review"),$(".bt-review-save").hide(),$(".bt-review-update").show();var a=$("#form_review");a.trigger("reset"),a.find("#name").val(""),a.find("#description_review").val(""),a.find("#review_stars").html(""),a.find(".review-id").val(n),a.find("#previewimagereview").attr("src","/modules/global/img/projeto.svg"),e.imgAreaSelect({remove:!0}),$.ajax({method:"GET",url:"/api/projectreviews/"+n+"/edit",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){},success:function(t){var e=t.data;a.trigger("reset"),a.find("[name=name]").val(e.name),a.find("[name=description]").val(e.description),a.find("[name=active_flag]").val(e.active_flag),a.find("#previewimagereview").attr("src",e.photo||"/modules/global/img/projeto.svg"),a.find("#review_apply_on_plans").html("");var n,i=[],s=_createForOfIteratorHelper(e.apply_on_plans);try{for(s.s();!(n=s.n()).done;){var r=n.value;i.push(r.id),a.find("#review_apply_on_plans").append('<option value="'.concat(r.id,'">').concat(r.name+(r.description?" - "+r.description:""),"</option>"))}}catch(t){s.e(t)}finally{s.f()}a.find("#review_apply_on_plans").val(i).trigger("change"),o("#review_stars",e.stars,!1),$("#modal_review").modal("show"),setTimeout((function(){a.find("#previewimagereview").imgAreaSelect({remove:!0})}),300)}})})),$(document).on("click",".delete-review",(function(t){t.preventDefault();var e=$(this).data("review");$(".btn-delete-review").unbind("click"),$(".btn-delete-review").on("click",(function(){$.ajax({method:"DELETE",url:"/api/projectreviews/"+e,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){errorAjaxResponse(t)})),success:function(t){i(),alertCustom("success",t.message)}})}))})),$(document).on("click",".bt-review-update",(function(t){t.preventDefault();var n=$(".bt-review-update");n.attr("disabled","disabled");var a=new FormData(document.getElementById("form_review"));a.append("_method","PUT");var o=$("#form_review .review-id").val();$.ajax({method:"POST",url:"/api/projectreviews/"+o,headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},processData:!1,contentType:!1,cache:!1,data:a,error:function(t){errorAjaxResponse(t)},success:function(t){$("#modal_review").modal("hide"),i(),alertCustom("success",t.message)},complete:function(){e.imgAreaSelect({remove:!0}),n.attr("disabled",!1)}})})),$(document).on("click",".details-review",(function(t){t.preventDefault();var e=$(this).data("review");$.ajax({method:"GET",url:"/api/projectreviews/"+e,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){var e=t.data;$(".review-photo").attr("src",e.photo||"https://cloudfox-documents.s3.amazonaws.com/cloudfox/defaults/user-default.png"),$(".review-name").html(e.name),$(".review-description").html(e.description),$(".review-status").html("".concat(e.active_flag?'<span class="badge badge-success text-left">Ativo</span>':'<span class="badge badge-danger">Desativado</span>')),o(".preview-stars",e.stars);var n=$(".review-apply-plans");n.html("");var a,i=_createForOfIteratorHelper(e.apply_on_plans);try{for(i.s();!(a=i.n()).done;){var s=a.value;n.append("<span>".concat(s.name,"</span><br>"))}}catch(t){i.e(t)}finally{i.f()}}})})),$("#review_apply_on_plans").select2({placeholder:"Nome do plano",multiple:!0,dropdownParent:$("#modal_review"),language:{noResults:function(){return"Nenhum review encontrado"},searching:function(){return"Procurando..."},loadingMore:function(){return"Carregando mais reviews..."}},ajax:{data:function(e){return{list:"plan",search:e.term,project_id:t,page:e.page||1}},method:"GET",url:"/api/plans/user-plans",delay:300,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},processResults:function(t){if("review_apply_on_plans"===this.$element.attr("id")&&1===t.meta.current_page){t.data.unshift({id:"all",name:"Qualquer plano",description:""})}return{results:$.map(t.data,(function(t){return{id:t.id,text:t.name+(t.description?" - "+t.description:"")}})),pagination:{more:t.meta.current_page!==t.meta.last_page}}}}}),$("#review_apply_on_plans").on("select2:select",(function(){var t=$(this);(t.val().length>1&&t.val().includes("all")||t.val().includes("all")&&"all"!==t.val())&&t.val("all").trigger("change")})),$(document).on("click","#config-review",(function(e){e.preventDefault(),$.ajax({method:"GET",url:"/api/projectreviewsconfig/"+t,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){var e=t.data,n=$("#form_config_review");n.find("[name=reviews_config_icon_color]").val(e.reviews_config_icon_color),n.find("[name=reviews_config_icon_type][value="+e.reviews_config_icon_type+"]").prop("checked",!0),n.find("[name=reviews_config_icon_type]").parent(".radio-custom").find("i").css({color:e.reviews_config_icon_color});var a=n.find(".color-options > div");a.removeClass("active"),n.find(".color-options").find('[data-color="'+String(e.reviews_config_icon_color).toLowerCase()+'"]').addClass("active"),a.off().on("click",(function(){var t=$(this).data("color");n.find("[name=reviews_config_icon_color]").val(t),n.find("[name=reviews_config_icon_type]").parent(".radio-custom").find("i").css({color:t}),a.removeClass("active"),$(this).addClass("active")})),$("#modal_config_review").modal("show")}})})),$(document).on("click",".bt-review-config-update",(function(e){e.preventDefault();var n=new FormData(document.getElementById("form_config_review"));$.ajax({method:"POST",url:"/api/projectreviewsconfig/"+t,headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},processData:!1,contentType:!1,cache:!1,data:n,error:function(t){errorAjaxResponse(t)},success:function(t){localStorage.setItem("reviews_config_icon_type",n.get("reviews_config_icon_type")),localStorage.setItem("reviews_config_icon_color",n.get("reviews_config_icon_color")),i(),alertCustom("success",t.message),$("#modal_config_review").modal("hide")}})})),$("#modal_review").on("hidden.bs.modal",(function(){e.imgAreaSelect({remove:!0}),e.trigger("fileselect",[1,""])}))}));var statusNotification={1:"success",0:"danger"};$((function(){var t=0,e="";$(document).on("keyup","#modal-edit-project-notification .project-notification-field",(function(n){t=this.selectionStart,e=this.id})),$(document).on("click","#modal-edit-project-notification .project-notification-field",(function(n){t=this.selectionStart,e=this.id})),$(document).on("click","#modal-edit-project-notification  .inc-param",(function(n){var a=$(this).data("value"),o=document.getElementById(e),i=o.value;o.value=i.slice(0,t)+a+i.slice(t),o.focus(),$(o).prop("selectionEnd",t+a.length)}));var n=$(window.location.pathname.split("/")).get(-1);function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t=null==t?"/api/project/"+n+"/projectnotification":"/api/project/"+n+"/projectnotification"+t,loadOnTable("#data-table-sms","#tabela-sms"),$("#tab_sms-panel").find(".no-gutters").css("display","none"),$("#tabela-sms").find("thead").css("display","none"),$.ajax({method:"GET",url:t,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){$("#data-table-sms").html(""),""==t.data?$("#data-table-sms").html("\n                        <tr class='text-center'>\n                            <td colspan='8' style='height: 70px; vertical-align: middle;'>\n                                <div class='d-flex justify-content-center align-items-center'>\n                                    <img src='/modules/global/img/empty-state-table.svg' style='margin-right: 60px;'>\n                                    <div class='text-left'>\n                                        <h1 style='font-size: 24px; font-weight: normal; line-height: 30px; margin: 0; color: #636363;'>Nenhuma notificação configurada</h1>\n                                        <p style='font-style: normal; font-weight: normal; font-size: 16px; line-height: 20px; color: #9A9A9A;'>Cadastre a sua primeiro notificação para poder\n                                        <br>gerenciá-las nesse painel.</p>\n                                        <button type='button' style='width: auto; height: auto; padding: .429rem 1rem !important;' class='btn btn-primary add-review' data-toggle=\"modal\" data-target=\"#modal_review\">Adicionar notificação</button>\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n                    "):($("#tab_sms-panel").find(".no-gutters").css("display","flex"),$("#tabela-sms").find("thead").css("display","contents"),$("#count-notifications").html(t.meta.total),$.each(t.data,(function(t,e){var n=1==e.status?"checked":"",a='<tr>\n                            <td class="project-notification-id">'.concat(e.type,'</td>\n\n                            <td class="project-notification-type">').concat(e.event,'</td>\n\n                            <td class="project-notification-value">').concat(e.time,'</td>\n\n                            <td class="project-notification-zip-code-origin">').concat(e.message,'</td>\n\n                            <td class="text-center project-notification-status notification-status-').concat(e.id,'" style="vertical-align: middle">\n                                <span class="badge badge-').concat(statusNotification[e.status],'">').concat(e.status_translated,'</span>\n                            </td>\n\n                            <td style="text-align:center" class="justify-content-between align-items-center mb-0">\n\n                                <div class=\'d-flex justify-content-end align-items-center\'>\n\n                                    <a role="button" title=\'Visualizar\' class="details-project-notification mg-responsive pointer" project-notification="').concat(e.id,'">\n                                        <span class="o-eye-1"></span>\n                                    </a>\n\n                                    ').concat(11==e.notification_enum||12==e.notification_enum||13==e.notification_enum||17==e.notification_enum?'<button style="background-color: transparent;" role="button" class="px-0 pb-0 btn  disabled="">\n                                            <span class="o-edit-1"></span>\n                                        </button>':'<a role="button" title="Editar" class="edit-project-notification mg-responsive pointer" project-notification=\''.concat(e.id,'\'>\n                                            <span class="o-edit-1"></span>\n                                        </a>'),'\n                                    <div class="switch-holder d-inline mg-responsive pointer mr-0" ').concat(11==e.notification_enum||12==e.notification_enum||13==e.notification_enum||17==e.notification_enum?'style=" opacity: 0.5;"':"",'>\n\n                                        <label class="switch mr-0" ').concat(11==e.notification_enum||12==e.notification_enum||13==e.notification_enum||17==e.notification_enum?'style="cursor: not-allowed"':"",'>\n\n                                            <input type="checkbox" class="project_notification_status" data-id="').concat(e.id,'" ').concat(n,"\n                                            ").concat(11==e.notification_enum||12==e.notification_enum||13==e.notification_enum||17==e.notification_enum?"disabled":"",'>\n\n\n                                            <span class="slider round" ').concat(11==e.notification_enum||12==e.notification_enum||13==e.notification_enum||17==e.notification_enum?'style="cursor: not-allowed"':"","></span>\n                                        </label>\n\n                                    </div>\n                                </div>\n                            </td>\n\n                        </tr>");$("#data-table-sms").append(a)})),pagination(t,"project-notification",a))}})}$(".tab_sms").on("click",(function(){a(),$(this).off()})),$(document).on("click",".edit-project-notification",(function(){var t=$(this).attr("project-notification");$.ajax({method:"GET",url:"/api/project/"+n+"/projectnotification/"+t+"/edit",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(e){$("#modal-edit-project-notification .project-notification-id").val(t),1==e.data.type_enum?$("#modal-edit-project-notification .project-notification-type").prop("selectedIndex",0).change():$("#modal-edit-project-notification .project-notification-type").prop("selectedIndex",1).change(),1==e.data.status?$("#modal-edit-project-notification .project-notification-status").prop("selectedIndex",0).change():$("#modal-edit-project-notification .project-notification-status").prop("selectedIndex",1).change(),$("#modal-edit-project-notification .project-notification-time").val(e.data.time),$("#modal-edit-project-notification .project-notification-message").val(e.data.message),$("#modal-edit-project-notification .project-notification-title").val(e.data.title),$("#modal-edit-project-notification .project-notification-subject").val(e.data.subject),e.data.event_enum>0&&$("#modal-edit-project-notification .project-notification-event").prop("selectedIndex",e.data.event_enum-1).change(),1==e.data.type_enum?($("#modal-edit-project-notification .project-notification-field-email").show(),$("#modal-edit-project-notification .project-notification-message").attr("maxlength",1e4)):($("#modal-edit-project-notification .project-notification-message").attr("maxlength",160),$("#modal-edit-project-notification .project-notification-field-email").hide()),1!=e.data.event_enum&&2!=e.data.event_enum&&5!=e.data.event_enum||2!=e.data.type_enum?$(".param-billet-url").hide():$(".param-billet-url").show(),6==e.data.event_enum?($(".param-tracking-code").show(),$(".param-tracking-url").show()):($(".param-tracking-code").hide(),$(".param-tracking-url").hide()),4==e.data.event_enum?($(".param-abandoned-cart").show(),$(".param-sale-code").hide()):($(".param-abandoned-cart").hide(),$(".param-sale-code").show()),$("#modal-edit-project-notification").modal("show")}})})),$("#modal-edit-project-notification .btn-update").on("click",(function(){var t=new FormData(document.getElementById("form-update-project-notification")),e=$("#modal-edit-project-notification .project-notification-id").val();$.ajax({method:"POST",url:"/api/project/"+n+"/projectnotification/"+e,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:t,processData:!1,contentType:!1,cache:!1,error:function(t){errorAjaxResponse(t)},success:function(t){alertCustom("success","Notificação atualizada com sucesso"),a()}})})),$(document).on("click",".details-project-notification",(function(){var t=$(this).attr("project-notification");$("#btn-modal").hide(),$.ajax({method:"GET",url:"/api/project/"+n+"/projectnotification/"+t,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t)},success:function(t){$("#modal-detail-project-notification .projectn-type").html(t.data.type),$("#modal-detail-project-notification .projectn-time").html(t.data.time),$("#modal-detail-project-notification .projectn-event").html(t.data.event),$("#modal-detail-project-notification .projectn-message").html(t.data.message),$("#modal-detail-project-notification .projectn-subject").html(t.data.subject),$("#modal-detail-project-notification .projectn-title").html(t.data.title),$("#modal-detail-project-notification .projectn-status").html("1"==t.data.status?'<span class="badge badge-success text-left">Ativo</span>':'<span class="badge badge-danger">Inativo</span>'),2==t.data.type_enum?($(".include-templates-email").hide(),$(".tr-project-message").show()):($(".tr-project-message").hide(),$(".include-templates-email").show(),$(".templates-email").hide(),$("#modal-detail-project-notification .p_text_message").html(t.data.message_html),$("#modal-detail-project-notification .p_project_name").html(t.data.project_name),$("#modal-detail-project-notification .p_text_notification").html(t.data.title),""!=t.data.project_image&&$("#modal-detail-project-notification .p_image_project").attr("src",t.data.project_image),5==t.data.notification_enum?$(".template-billet-generated").show():6==t.data.notification_enum||7==t.data.notification_enum||8==t.data.notification_enum?$(".template-billet-next-day").show():9==t.data.notification_enum?$(".template-abandoned-cart").show():10==t.data.notification_enum?$(".template-abandoned-cart-nextday").show():12==t.data.notification_enum?$(".template-card-paid").show():13==t.data.notification_enum?$(".template-billet-paid").show():14==t.data.notification_enum&&$(".template-tracking").show()),$("#modal-detail-project-notification").modal("show")}})})),$(document).on("change",".project_notification_status",(function(){var t=0;t=this.checked?1:0;var e=this.getAttribute("data-id");$.ajax({method:"PUT",url:"/api/project/"+n+"/projectnotification/"+e,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:{status:t},cache:!1,error:function(t){errorAjaxResponse(t)},success:function(t){alertCustom("success","Notificação atualizada com sucesso"),1==t.status?($(".notification-status-"+e+" span").removeClass("badge-danger"),$(".notification-status-"+e+" span").addClass("badge-success"),$(".notification-status-"+e+" span").html("Ativo")):($(".notification-status-"+e+" span").removeClass("badge-success"),$(".notification-status-"+e+" span").addClass("badge-danger"),$(".notification-status-"+e+" span").html("Inativo"))}})}))})),$((function(){loadingOnScreen();var t=$(window.location.pathname.split("/")).get(-1);$(".percentage-affiliates").mask("###",{translation:{0:{pattern:/[0-9*]/}}});var e=!1;$("#tab-info").click((function(){s()})),$(".tab_configuration").click((function(){$("#image-logo-email").imgAreaSelect({remove:!0}),$("#previewimage").imgAreaSelect({remove:!0}),r(),$(this).off()})),$(".toggler").on("click",(function(){var t=$(this).data("target");$(t).hasClass("show")?$(this).find(".showMore").html("add"):$(this).find(".showMore").html("remove")})),$("#shippement").on("change",(function(){0==$(this).val()?($("#div-carrier").hide(),$("#div-shipment-responsible").hide()):($("#div-carrier").show(),$("#div-shipment-responsible").show())}));var n="",a="",o=$("#update-project");function i(t,e){return t<e?($("#error-juros").css("display","block"),!0):($("#error-juros").css("display","none"),!1)}$(".installment_amount").on("change",(function(){n=parseInt($(".installment_amount option:selected").val()),a=parseInt($(".parcelas-juros option:selected").val()),i(n,a)})),$(".parcelas-juros").on("change",(function(){n=parseInt($(".installment_amount option:selected").val()),a=parseInt($(".parcelas-juros option:selected").val()),i(n,a)}));function s(){$(".page").addClass("low-opacity"),$.ajax({url:"/api/projects/"+t,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){window.location.replace("".concat(location.origin,"/projects")),$(".page-content").show(),$(".page").removeClass("low-opacity")},success:function(t){var e,n=t.data,a="my_products";null!=n.shopify_id&&(a="shopify"),null!=n.woocommerce_id&&(a="woocommerce"),$("#project_type").val(a),$(".title-pad").text(n.name),$("#show-photo").attr("src",(e=n.photo)?dropifyOptions.defaultFile=e:"/modules/global/img/produto.svg"),$("#created_at").text("Criado em "+n.created_at),"1"==n.status?$("#show-status").text("Ativo").addClass("badge-success"):$("#show-status").text("Inativo").addClass("badge-danger"),$("#show-description").text(n.description);var o=parseFloat(n.approved_sales_value).toLocaleString("pt-BR"),i=parseFloat(n.chargeback_count).toLocaleString("pt-BR"),s=parseFloat(n.without_tracking).toLocaleString("pt-BR"),r=parseFloat(n.approved_sales).toLocaleString("pt-BR");$("#value-chargeback").text(i),$("#value-open-tickets").text(n.open_tickets),$("#value-without-tracking").text(s),$("#total-approved").text(r),$("#total-approved-value").text(o),$(".page-content").show(),$(".page").removeClass("low-opacity"),loadingOnScreenRemove()}})}function r(){loadOnAny("#update-project"),$.ajax({method:"GET",url:"/api/projects/"+t+"/edit",dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){loadingOnScreenRemove(),loadOnAny("#update-project",!0),$("#trash").removeClass("d-none"),errorAjaxResponse(t)},success:function(t){localStorage.setItem("projectConfig",JSON.stringify(t)),m(t),loadingOnScreenRemove(),loadOnAny("#update-project",!0),$("#trash").removeClass("d-none")}})}var l=["tab-domains","tab_plans","tab-fretes","tab-checkout"],c=["tab_pixels","tab_upsell","tab_order_bump","tab_coupons","tab_reviews"],d=["tab_sms"];$(".nav-tabs-horizontal .nav-link").click((function(t){var e=$(".nav-link.active"),n=t.target.id;e.attr("id")!==n&&e.removeClass("active"),-1!==$.inArray(n,l)&&($("#first-category").css("color","#2E85EC"),$("#second-category").css("color","#9C9C9C"),$("#third-category").css("color","#9C9C9C")),-1!==$.inArray(n,c)&&($("#first-category").css("color","#9C9C9C"),$("#second-category").css("color","#2E85EC"),$("#third-category").css("color","#9C9C9C")),-1!==$.inArray(n,d)&&($("#first-category").css("color","#9C9C9C"),$("#second-category").css("color","#9C9C9C"),$("#third-category").css("color","#2E85EC"))})),$(".slick-track").on("click",(function(){$(".nav-tabs-horizontal .tab-pane").removeClass("active show")})),dropifyOptions={messages:{default:"",replace:"Arraste e solte uma imagem ou selecione um arquivo",remove:"Remover",error:""},error:{fileSize:"O tamanho máximo do arquivo deve ser {{ value }}.",minWidth:"A imagem deve ter largura maior que 651px.",maxWidth:"A imagem deve ter largura menor que 651px.",minHeight:"A imagem deve ter altura maior que 651px.",maxHeight:"A imagem deve ter altura menor que 651px.",fileExtension:"A imagem deve ser algum dos formatos permitidos. ({{ value }})."},tpl:{message:'<div class="dropify-message"><span class="file-icon" /> <p class="msg">{{ default }}<span class="text-primary font-size-16">Clique ou arraste seu <br> arquivo aqui</span></p></div>',clearButton:'<button type="button" class="dropify-clear o-bin-1"></button>'},imgFileExtensions:["png","jpg","jpeg","gif","bmp","webp","svg"]},$("img").on("error",(function(){$(this).attr("src","https://cloudfox-files.s3.amazonaws.com/produto.svg")}));var p=new Quill("#termsaffiliates",{theme:"snow",modules:{toolbar:["bold","italic","underline"]}});$(document).ready((function(){$(".ql-toolbar.ql-snow").addClass("d-flex justify-content-center")})),$(".ql-editor").on("focus",(function(){$(".h-200, .ql-container, .ql-snow").css("border-color","#88BFFF")})),$(".ql-editor").on("focusout",(function(){$(".h-200, .ql-container, .ql-snow").css("border-color","#cccccc")}));var u,h=o.find("#status-url-affiliates");function m(t){var n=t.project,a=h.prop("checked");1==n.status_url_affiliates&&0==a&&(h.trigger("click"),$(".affiliation").children("img").attr("src","/modules/global/img/projects/afiliatesIcon.svg").css("background-color","#F2F8FF"),$("#affiliation-access").show()),0==n.status_url_affiliates&&($(".affiliation").children("img").attr("src","/modules/global/img/projects/affiliationDisable.svg").css("background-color","#F2F8FF"),$("#affiliation-access").hide(),0==n.status_url_affiliates&&1==a&&h.trigger("click")),function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=$('input[id="'+t+'"]'),o=a.closest(".dropify-wrapper"),i=o.find(".dropify-preview"),s=o.find(".dropify-filename-inner"),r=o.find(".dropify-render").html("");a.val("").attr("title",n),o.removeClass("has-error").addClass("has-preview"),s.html(n),r.append($('<img style="width: 100%; border-radius: 8px; object-fit: cover;" />').attr("src",e).css("height",a.attr("height"))),i.fadeIn()}("project_photo",n.photo,""),n.photo||($(".dropify-render > img").remove(),$(".dropify-wrapper").removeClass("has-preview"),$(".dropify-preview").css("display","none")),$("#project_photo").dropify(dropifyOptions),o.find("#name").val(n.name),o.find("#description").val(n.description),o.find("#url-page").val(n.url_page?n.url_page:"https://"),0==n.cookie_duration?($(".sirius-select").prop("selectedIndex",0).change(),$(".sirius-select-text").text("Eterno")):7==n.cookie_duration?($(".sirius-select").prop("selectedIndex",1).change(),$(".sirius-select-text").text("7 dias")):15==n.cookie_duration?($(".sirius-select").prop("selectedIndex",2).change(),$(".sirius-select-text").text("15 dias")):30==n.cookie_duration?($(".sirius-select").prop("selectedIndex",3).change(),$(".sirius-select-text").text("1 mês")):60==n.cookie_duration?($(".sirius-select").prop("selectedIndex",4).change(),$(".sirius-select-text").text("2 meses")):180==n.cookie_duration?($(".sirius-select").prop("selectedIndex",5).change(),$(".sirius-select-text").text("6 meses")):365==n.cookie_duration&&($(".sirius-select").prop("selectedIndex",6).change(),$(".sirius-select-text").text("1 ano")),$("#percentage-affiliates").mask("000",{reverse:!0,onKeyPress:function(t,e,n,a){t>100&&$("#percentage-affiliates").val("")}}),o.find("#percentage-affiliates").val(n.percentage_affiliates),o.find(".commission-type-enum input").filter("[value=".concat(n.commission_type_enum,"]")).prop("checked",!0),p.setContents([{insert:"\n"}]),p.clipboard.dangerouslyPasteHTML(0,n.terms_affiliates?n.terms_affiliates:" "),1==n.automatic_affiliation&&o.find(".automatic-affiliation input").prop("checked",!0),o.find("#url-affiliates").val(n.url_affiliates),e||(o.on("input change",(function(){$("#confirm-changes").fadeIn("slow")})),$(".dropify-clear, .o-bin-1").on("click",(function(){$(".dropify-errors-container > ul > li").remove(),localStorage.setItem("photo_remove",!0),$("#confirm-changes").fadeIn("slow")})),e=!0),$("#confirm-changes").hide()}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";$("#confirm-changes").fadeOut(3e3),""!=e?($("#data-error span").html(e),$("#data-error").fadeIn(1e3).delay(2e3).fadeOut(2e3),setTimeout((function(){$("#data-error span").html(t)}),5e3)):($("#data-error span").html(t),$("#data-error").fadeIn(2e3).delay(2e3).fadeOut(2e3)),$("#confirm-changes").fadeIn(2e3)}h.on("click",(function(){1==$(this).prop("checked")?$("#affiliation-access").show():$("#affiliation-access").hide()}));var g=$("#data-error span").html(),v=o.find("#name");function y(t){if(v.val().length<=2){v.addClass("error-alert");return f(g,"<strong>Ops!</strong> Você precisa preencher os campos indicados."),!1}return!1===t?(f(g),!1):(v.removeClass("error-alert"),!0)}$("#project_photo").on("dropify.errors",(function(){f(g),u=!1})),$("#project_photo").on("dropify.fileReady",(function(){y(u=!0)&&$("#bt-update-project").prop("disabled",!1)})),h.on("click",(function(){var t=h.prop("checked");0==t?$(".affiliation").children("img").attr("src","/modules/global/img/projects/affiliationDisable.svg"):1==t&&$(".affiliation").children("img").attr("src","/modules/global/img/projects/afiliatesIcon.svg")})),$("#copy-link-affiliation").on("click",(function(){document.getElementById("url-affiliates").select(),document.execCommand("copy"),alertCustom("success","Link copiado!")})),$("#bt-delete-project").on("click",(function(e){e.preventDefault();var n=$("#name").val();$("#modal_excluir_titulo").html("Remover loja "+n+" ?"),$("#modal-delete-project .btn-delete").on("click",(function(){$("#modal-delete").modal("hide"),loadingOnScreen(),$.ajax({method:"DELETE",url:"/api/projects/"+t,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){errorAjaxResponse(t),loadingOnScreenRemove()},success:function(t){loadingOnScreenRemove(),"success"==t?window.location="/projects":alertCustom("error","Erro ao deletar loja")}})}))})),o.on("submit",(function(e){if(!y(u))return!1;var l=$(".final-card span").html();$(".final-card span").html("Um momento... <strong>Estamos salvando suas alterações.</strong>"),$("#options-buttons").children().hide(),$(".loader").show(),e.preventDefault(),$(".page").addClass("low-opacity");var c=p.root.innerHTML;$("#terms_affiliates").val(c);var d=i(n,a),m=0;h.prop("checked")&&(m=1);var f=0;o.find(".automatic-affiliation input").prop("checked")&&(f=1);var g=new FormData(document.getElementById("update-project"));g.append("status_url_affiliates",m),g.append("automatic_affiliation",f),$("#project_photo").prop("files").length||g.delete("project_photo"),"true"==localStorage.getItem("photo_remove")&&g.append("remove_project_photo",!0),d?($("#error-juros").css("display","block"),loadingOnScreenRemove()):$.ajax({method:"POST",url:"/api/projects/"+t+"/settings",processData:!1,contentType:!1,cache:!1,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:g,error:function(t){$(".page").removeClass("low-opacity"),errorAjaxResponse(t)},success:function(t){localStorage.setItem("photo_remove",!1),r(),$("html, body").animate({scrollTop:410}),setTimeout((function(){$("#confirm-changes").hide(),$(".final-card span").html(l),$("#options-buttons").children().show(),$(".loader").hide(),$("#saved-alterations").fadeIn("slow").delay(2500).fadeOut("slow")}),1500),s(),$(".page").removeClass("low-opacity")}})})),$("#cancel-edit").on("click",(function(){m(JSON.parse(localStorage.getItem("projectConfig"))),$("#confirm-changes").fadeOut("slow"),$("html, body").animate({scrollTop:410}),localStorage.setItem("photo_remove",!1),$("#bt-update-project").prop("disabled",!1)})),s()})),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e(require("jquery")):t.Dropify=e(t.jQuery)}(this,(function(t){function e(e,n){if(window.File&&window.FileReader&&window.FileList&&window.Blob){this.element=e,this.input=t(this.element),this.wrapper=null,this.preview=null,this.filenameWrapper=null,this.settings=t.extend(!0,{defaultFile:"",maxFileSize:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,showRemove:!0,showLoader:!0,showErrors:!0,errorTimeout:3e3,errorsPosition:"overlay",imgFileExtensions:["png","jpg","jpeg","gif","bmp"],maxFileSizePreview:"5M",allowedFormats:["portrait","square","landscape"],allowedFileExtensions:["*"],messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong appended."},error:{fileSize:"The file size is too big ({{ value }} max).",minWidth:"The image width is too small ({{ value }}}px min).",maxWidth:"The image width is too big ({{ value }}}px max).",minHeight:"The image height is too small ({{ value }}}px min).",maxHeight:"The image height is too big ({{ value }}px max).",imageFormat:"The image format is not allowed ({{ value }} only).",fileExtension:"The file is not allowed ({{ value }} only)."},tpl:{wrap:'<div class="dropify-wrapper"></div>',loader:'<div class="dropify-loader"></div>',message:'<div class="dropify-message"><span class="file-icon" /> <p>{{ default }}</p></div>',preview:'<div class="dropify-preview"><span class="dropify-render"></span><div class="dropify-infos"><div class="dropify-infos-inner"><p class="dropify-infos-message">{{ replace }}</p></div></div></div>',filename:'<p class="dropify-filename"><span class="file-icon"></span> <span class="dropify-filename-inner"></span></p>',clearButton:'<button type="button" class="dropify-clear">{{ remove }}</button>',errorLine:'<p class="dropify-error">{{ error }}</p>',errorsContainer:'<div class="dropify-errors-container"><ul></ul></div>'}},n,this.input.data()),this.errorsEvent=t.Event("dropify.errors"),this.isDisabled=!1,this.isInit=!1,this.file={object:null,name:null,size:null,width:null,height:null,type:null},Array.isArray(this.settings.allowedFormats)||(this.settings.allowedFormats=this.settings.allowedFormats.split(" ")),Array.isArray(this.settings.allowedFileExtensions)||(this.settings.allowedFileExtensions=this.settings.allowedFileExtensions.split(" ")),this.onChange=this.onChange.bind(this),this.clearElement=this.clearElement.bind(this),this.onFileReady=this.onFileReady.bind(this),this.translateMessages(),this.createElements(),this.setContainerSize(),this.errorsEvent.errors=[],this.input.on("change",this.onChange)}}var n="dropify";return e.prototype.onChange=function(){this.resetPreview(),this.readFile(this.element)},e.prototype.createElements=function(){this.isInit=!0,this.input.wrap(t(this.settings.tpl.wrap)),this.wrapper=this.input.parent();var e=t(this.settings.tpl.message).insertBefore(this.input);t(this.settings.tpl.errorLine).appendTo(e),!0===this.isTouchDevice()&&this.wrapper.addClass("touch-fallback"),this.input.attr("disabled")&&(this.isDisabled=!0,this.wrapper.addClass("disabled")),!0===this.settings.showLoader&&(this.loader=t(this.settings.tpl.loader),this.loader.insertBefore(this.input)),this.preview=t(this.settings.tpl.preview),this.preview.insertAfter(this.input),!1===this.isDisabled&&!0===this.settings.showRemove&&(this.clearButton=t(this.settings.tpl.clearButton),this.clearButton.insertAfter(this.input),this.clearButton.on("click",this.clearElement)),this.filenameWrapper=t(this.settings.tpl.filename),this.filenameWrapper.prependTo(this.preview.find(".dropify-infos-inner")),!0===this.settings.showErrors&&(this.errorsContainer=t(this.settings.tpl.errorsContainer),"outside"===this.settings.errorsPosition?this.errorsContainer.insertAfter(this.wrapper):this.errorsContainer.insertBefore(this.input));var n=this.settings.defaultFile||"";""!==n.trim()&&(this.file.name=this.cleanFilename(n),this.setPreview(this.isImage(),n))},e.prototype.readFile=function(e){if(e.files&&e.files[0]){var n=new FileReader,a=new Image,o=e.files[0],i=null,s=this,r=t.Event("dropify.fileReady");this.clearErrors(),this.showLoader(),this.setFileInformations(o),this.errorsEvent.errors=[],this.checkFileSize(),this.isFileExtensionAllowed(),this.isImage()&&this.file.size<this.sizeToByte(this.settings.maxFileSizePreview)?(this.input.on("dropify.fileReady",this.onFileReady),n.readAsDataURL(o),n.onload=function(t){i=t.target.result,a.src=t.target.result,a.onload=function(){s.setFileDimensions(this.width,this.height),s.validateImage(),s.input.trigger(r,[!0,i])}}.bind(this)):this.onFileReady(!1)}},e.prototype.onFileReady=function(t,e,n){if(this.input.off("dropify.fileReady",this.onFileReady),0===this.errorsEvent.errors.length)this.setPreview(e,n);else{this.input.trigger(this.errorsEvent,[this]);for(var a=this.errorsEvent.errors.length-1;a>=0;a--){var o=this.errorsEvent.errors[a].namespace.split(".").pop();this.showError(o)}if(void 0!==this.errorsContainer){this.errorsContainer.addClass("visible");var i=this.errorsContainer;setTimeout((function(){i.removeClass("visible")}),this.settings.errorTimeout)}this.wrapper.addClass("has-error"),this.resetPreview(),this.clearElement()}},e.prototype.setFileInformations=function(t){this.file.object=t,this.file.name=t.name,this.file.size=t.size,this.file.type=t.type,this.file.width=null,this.file.height=null},e.prototype.setFileDimensions=function(t,e){this.file.width=t,this.file.height=e},e.prototype.setPreview=function(e,n){this.wrapper.removeClass("has-error").addClass("has-preview"),this.filenameWrapper.children(".dropify-filename-inner").html(this.file.name);var a=this.preview.children(".dropify-render");if(this.hideLoader(),!0===e){var o=t("<img />").attr("src",n);this.settings.height&&o.css("max-height",this.settings.height),o.appendTo(a)}else t("<i />").attr("class","dropify-font-file").appendTo(a),t('<span class="dropify-extension" />').html(this.getFileType()).appendTo(a);this.preview.fadeIn()},e.prototype.resetPreview=function(){this.wrapper.removeClass("has-preview");var t=this.preview.children(".dropify-render");t.find(".dropify-extension").remove(),t.find("i").remove(),t.find("img").remove(),this.preview.hide(),this.hideLoader()},e.prototype.cleanFilename=function(t){var e=t.split("\\").pop();return e==t&&(e=t.split("/").pop()),""!==t?e:""},e.prototype.clearElement=function(){if(0===this.errorsEvent.errors.length){var e=t.Event("dropify.beforeClear");this.input.trigger(e,[this]),!1!==e.result&&(this.resetFile(),this.input.val(""),this.resetPreview(),this.input.trigger(t.Event("dropify.afterClear"),[this]))}else this.resetFile(),this.input.val(""),this.resetPreview()},e.prototype.resetFile=function(){this.file.object=null,this.file.name=null,this.file.size=null,this.file.type=null,this.file.width=null,this.file.height=null},e.prototype.setContainerSize=function(){this.settings.height&&this.wrapper.height(this.settings.height)},e.prototype.isTouchDevice=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},e.prototype.getFileType=function(){return this.file.name.split(".").pop().toLowerCase()},e.prototype.isImage=function(){return"-1"!=this.settings.imgFileExtensions.indexOf(this.getFileType())},e.prototype.isFileExtensionAllowed=function(){return"-1"!=this.settings.allowedFileExtensions.indexOf("*")||"-1"!=this.settings.allowedFileExtensions.indexOf(this.getFileType())||(this.pushError("fileExtension"),!1)},e.prototype.translateMessages=function(){for(var t in this.settings.tpl)for(var e in this.settings.messages)this.settings.tpl[t]=this.settings.tpl[t].replace("{{ "+e+" }}",this.settings.messages[e])},e.prototype.checkFileSize=function(){0!==this.sizeToByte(this.settings.maxFileSize)&&this.file.size>this.sizeToByte(this.settings.maxFileSize)&&this.pushError("fileSize")},e.prototype.sizeToByte=function(t){var e=0;if(0!==t){var n=t.slice(-1).toUpperCase(),a=1048576;"K"===n?e=1024*parseFloat(t):"M"===n?e=parseFloat(t)*a:"G"===n&&(e=1073741824*parseFloat(t))}return e},e.prototype.validateImage=function(){0!==this.settings.minWidth&&this.settings.minWidth>=this.file.width&&this.pushError("minWidth"),0!==this.settings.maxWidth&&this.settings.maxWidth<=this.file.width&&this.pushError("maxWidth"),0!==this.settings.minHeight&&this.settings.minHeight>=this.file.height&&this.pushError("minHeight"),0!==this.settings.maxHeight&&this.settings.maxHeight<=this.file.height&&this.pushError("maxHeight"),"-1"==this.settings.allowedFormats.indexOf(this.getImageFormat())&&this.pushError("imageFormat")},e.prototype.getImageFormat=function(){return this.file.width==this.file.height?"square":this.file.width<this.file.height?"portrait":this.file.width>this.file.height?"landscape":void 0},e.prototype.pushError=function(e){var n=t.Event("dropify.error."+e);this.errorsEvent.errors.push(n),this.input.trigger(n,[this])},e.prototype.clearErrors=function(){void 0!==this.errorsContainer&&this.errorsContainer.children("ul").html("")},e.prototype.showError=function(t){void 0!==this.errorsContainer&&this.errorsContainer.children("ul").append("<li>"+this.getError(t)+"</li>")},e.prototype.getError=function(t){var e=this.settings.error[t],n="";return"fileSize"===t?n=this.settings.maxFileSize:"minWidth"===t?n=this.settings.minWidth:"maxWidth"===t?n=this.settings.maxWidth:"minHeight"===t?n=this.settings.minHeight:"maxHeight"===t?n=this.settings.maxHeight:"imageFormat"===t?n=this.settings.allowedFormats.join(", "):"fileExtension"===t&&(n=this.settings.allowedFileExtensions.join(", ")),""!==n?e.replace("{{ value }}",n):e},e.prototype.showLoader=function(){void 0!==this.loader&&this.loader.show()},e.prototype.hideLoader=function(){void 0!==this.loader&&this.loader.hide()},e.prototype.destroy=function(){this.input.siblings().remove(),this.input.unwrap(),this.isInit=!1},e.prototype.init=function(){this.createElements()},e.prototype.isDropified=function(){return this.isInit},t.fn[n]=function(a){return this.each((function(){t.data(this,n)||t.data(this,n,new e(this,a))})),this},e})),function(t,e){if("function"==typeof define&&define.amd)define("/Plugin/dropify",["exports","Plugin"],e);else if("undefined"!=typeof exports)e(exports,require("Plugin"));else{var n={exports:{}};e(n.exports,t.Plugin),t.PluginDropify=n.exports}}(this,(function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=babelHelpers.interopRequireDefault(e),a="dropify",o=function(t){function e(){return babelHelpers.classCallCheck(this,e),babelHelpers.possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return babelHelpers.inherits(e,t),babelHelpers.createClass(e,[{key:"getName",value:function(){return a}}],[{key:"getDefaults",value:function(){return{}}}]),e}(n.default);n.default.register(a,o),t.default=o})),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=function(e,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n),n}:t(jQuery)}((function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var n,a,o,i,s,r,l,c,d,p,u,h,m,f,g;function v(t,e){return m.call(t,e)}function y(t,e){var n,a,o,i,s,r,l,c,d,p,h,m=e&&e.split("/"),f=u.map,v=f&&f["*"]||{};if(t){for(s=(t=t.split("/")).length-1,u.nodeIdCompat&&g.test(t[s])&&(t[s]=t[s].replace(g,"")),"."===t[0].charAt(0)&&m&&(t=m.slice(0,m.length-1).concat(t)),d=0;d<t.length;d++)if("."===(h=t[d]))t.splice(d,1),d-=1;else if(".."===h){if(0===d||1===d&&".."===t[2]||".."===t[d-1])continue;0<d&&(t.splice(d-1,2),d-=2)}t=t.join("/")}if((m||v)&&f){for(d=(n=t.split("/")).length;0<d;d-=1){if(a=n.slice(0,d).join("/"),m)for(p=m.length;0<p;p-=1)if(o=(o=f[m.slice(0,p).join("/")])&&o[a]){i=o,r=d;break}if(i)break;!l&&v&&v[a]&&(l=v[a],c=d)}!i&&l&&(i=l,r=c),i&&(n.splice(0,r,i),t=n.join("/"))}return t}function b(t,e){return function(){var n=f.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),r.apply(i,n.concat([t,e]))}}function x(t){return function(e){d[t]=e}}function _(t){if(v(p,t)){var e=p[t];delete p[t],h[t]=!0,s.apply(i,e)}if(!v(d,t)&&!v(h,t))throw new Error("No "+t);return d[t]}function w(t){var e,n=t?t.indexOf("!"):-1;return-1<n&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function C(t){return t?w(t):[]}return e&&e.requirejs||(e?a=e:e={},d={},p={},u={},h={},m=Object.prototype.hasOwnProperty,f=[].slice,g=/\.js$/,l=function(t,e){var n,a=w(t),o=a[0],i=e[1];return t=a[1],o&&(n=_(o=y(o,i))),o?t=n&&n.normalize?n.normalize(t,function(t){return function(e){return y(e,t)}}(i)):y(t,i):(o=(a=w(t=y(t,i)))[0],t=a[1],o&&(n=_(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:n}},c={require:function(t){return b(t)},exports:function(t){var e=d[t];return void 0!==e?e:d[t]={}},module:function(t){return{id:t,uri:"",exports:d[t],config:function(t){return function(){return u&&u.config&&u.config[t]||{}}}(t)}}},s=function(t,e,n,a){var o,s,r,u,m,f,g,y=[],$=_typeof(n);if(f=C(a=a||t),"undefined"==$||"function"==$){for(e=!e.length&&n.length?["require","exports","module"]:e,m=0;m<e.length;m+=1)if("require"===(s=(u=l(e[m],f)).f))y[m]=c.require(t);else if("exports"===s)y[m]=c.exports(t),g=!0;else if("module"===s)o=y[m]=c.module(t);else if(v(d,s)||v(p,s)||v(h,s))y[m]=_(s);else{if(!u.p)throw new Error(t+" missing "+s);u.p.load(u.n,b(a,!0),x(s),{}),y[m]=d[s]}r=n?n.apply(d[t],y):void 0,t&&(o&&o.exports!==i&&o.exports!==d[t]?d[t]=o.exports:r===i&&g||(d[t]=r))}else t&&(d[t]=n)},n=a=r=function(t,e,n,a,o){if("string"==typeof t)return c[t]?c[t](e):_(l(t,C(e)).f);if(!t.splice){if((u=t).deps&&r(u.deps,u.callback),!e)return;e.splice?(t=e,e=n,n=null):t=i}return e=e||function(){},"function"==typeof n&&(n=a,a=o),a?s(i,t,e,n):setTimeout((function(){s(i,t,e,n)}),4),r},r.config=function(t){return r(t)},n._defined=d,(o=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),v(d,t)||v(p,t)||(p[t]=[t,e,n])}).amd={jQuery:!0},e.requirejs=n,e.require=a,e.define=o),e.define("almond",(function(){})),e.define("jquery",[],(function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e})),e.define("select2/utils",["jquery"],(function(t){var e={};function n(t){var e=t.prototype,n=[];for(var a in e)"function"==typeof e[a]&&"constructor"!==a&&n.push(a);return n}function a(){this.listeners={}}e.Extend=function(t,e){var n={}.hasOwnProperty;function a(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return a.prototype=e.prototype,t.prototype=new a,t.__super__=e.prototype,t},e.Decorate=function(t,e){var a=n(e),o=n(t);function i(){var n=Array.prototype.unshift,a=e.prototype.constructor.length,o=t.prototype.constructor;0<a&&(n.call(arguments,t.prototype.constructor),o=e.prototype.constructor),o.apply(this,arguments)}e.displayName=t.displayName,i.prototype=new function(){this.constructor=i};for(var s=0;s<o.length;s++){var r=o[s];i.prototype[r]=t.prototype[r]}function l(t){var n=function(){};t in i.prototype&&(n=i.prototype[t]);var a=e.prototype[t];return function(){return Array.prototype.unshift.call(arguments,n),a.apply(this,arguments)}}for(var c=0;c<a.length;c++){var d=a[c];i.prototype[d]=l(d)}return i},a.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},a.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=t)in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},a.prototype.invoke=function(t,e){for(var n=0,a=t.length;n<a;n++)t[n].apply(this,e)},e.Observable=a,e.generateChars=function(t){for(var e="",n=0;n<t;n++)e+=Math.floor(36*Math.random()).toString(36);return e},e.bind=function(t,e){return function(){t.apply(e,arguments)}},e._convertData=function(t){for(var e in t){var n=e.split("-"),a=t;if(1!==n.length){for(var o=0;o<n.length;o++){var i=n[o];(i=i.substring(0,1).toLowerCase()+i.substring(1))in a||(a[i]={}),o==n.length-1&&(a[i]=t[e]),a=a[i]}delete t[e]}}return t},e.hasScroll=function(e,n){var a=t(n),o=n.style.overflowX,i=n.style.overflowY;return(o!==i||"hidden"!==i&&"visible"!==i)&&("scroll"===o||"scroll"===i||a.innerHeight()<n.scrollHeight||a.innerWidth()<n.scrollWidth)},e.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,(function(t){return e[t]}))},e.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var a=t();t.map(n,(function(t){a=a.add(t)})),n=a}e.append(n)},e.__cache={};var o=0;return e.GetUniqueElementId=function(t){var e=t.getAttribute("data-select2-id");return null==e&&(t.id?(e=t.id,t.setAttribute("data-select2-id",e)):(t.setAttribute("data-select2-id",++o),e=o.toString())),e},e.StoreData=function(t,n,a){var o=e.GetUniqueElementId(t);e.__cache[o]||(e.__cache[o]={}),e.__cache[o][n]=a},e.GetData=function(n,a){var o=e.GetUniqueElementId(n);return a?e.__cache[o]&&null!=e.__cache[o][a]?e.__cache[o][a]:t(n).data(a):e.__cache[o]},e.RemoveData=function(t){var n=e.GetUniqueElementId(t);null!=e.__cache[n]&&delete e.__cache[n],t.removeAttribute("data-select2-id")},e})),e.define("select2/results",["jquery","./utils"],(function(t,e){function n(t,e,a){this.$element=t,this.data=a,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var a=t('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(e.message);a.append(n(o(e.args))),a[0].className+=" select2-results__message",this.$results.append(a)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var a=t.results[n],o=this.option(a);e.push(o)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");0<e.length?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var n=this;this.data.current((function(a){var o=t.map(a,(function(t){return t.id.toString()}));n.$results.find(".select2-results__option[aria-selected]").each((function(){var n=t(this),a=e.GetData(this,"data"),i=""+a.id;null!=a.element&&a.element.selected||null==a.element&&-1<t.inArray(i,o)?n.attr("aria-selected","true"):n.attr("aria-selected","false")}))}))},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(n){var a=document.createElement("li");a.className="select2-results__option";var o={role:"option","aria-selected":"false"},i=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var s in(null!=n.element&&i.call(n.element,":disabled")||null==n.element&&n.disabled)&&(delete o["aria-selected"],o["aria-disabled"]="true"),null==n.id&&delete o["aria-selected"],null!=n._resultId&&(a.id=n._resultId),n.title&&(a.title=n.title),n.children&&(o.role="group",o["aria-label"]=n.text,delete o["aria-selected"]),o){var r=o[s];a.setAttribute(s,r)}if(n.children){var l=t(a),c=document.createElement("strong");c.className="select2-results__group",t(c),this.template(n,c);for(var d=[],p=0;p<n.children.length;p++){var u=n.children[p],h=this.option(u);d.push(h)}var m=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});m.append(d),l.append(c),l.append(m)}else this.template(n,a);return e.StoreData(a,"data",n),a},n.prototype.bind=function(n,a){var o=this,i=n.id+"-results";this.$results.attr("id",i),n.on("results:all",(function(t){o.clear(),o.append(t.data),n.isOpen()&&(o.setClasses(),o.highlightFirstItem())})),n.on("results:append",(function(t){o.append(t.data),n.isOpen()&&o.setClasses()})),n.on("query",(function(t){o.hideMessages(),o.showLoading(t)})),n.on("select",(function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())})),n.on("unselect",(function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())})),n.on("open",(function(){o.$results.attr("aria-expanded","true"),o.$results.attr("aria-hidden","false"),o.setClasses(),o.ensureHighlightVisible()})),n.on("close",(function(){o.$results.attr("aria-expanded","false"),o.$results.attr("aria-hidden","true"),o.$results.removeAttr("aria-activedescendant")})),n.on("results:toggle",(function(){var t=o.getHighlightedResults();0!==t.length&&t.trigger("mouseup")})),n.on("results:select",(function(){var t=o.getHighlightedResults();if(0!==t.length){var n=e.GetData(t[0],"data");"true"==t.attr("aria-selected")?o.trigger("close",{}):o.trigger("select",{data:n})}})),n.on("results:previous",(function(){var t=o.getHighlightedResults(),e=o.$results.find("[aria-selected]"),n=e.index(t);if(!(n<=0)){var a=n-1;0===t.length&&(a=0);var i=e.eq(a);i.trigger("mouseenter");var s=o.$results.offset().top,r=i.offset().top,l=o.$results.scrollTop()+(r-s);0===a?o.$results.scrollTop(0):r-s<0&&o.$results.scrollTop(l)}})),n.on("results:next",(function(){var t=o.getHighlightedResults(),e=o.$results.find("[aria-selected]"),n=e.index(t)+1;if(!(n>=e.length)){var a=e.eq(n);a.trigger("mouseenter");var i=o.$results.offset().top+o.$results.outerHeight(!1),s=a.offset().top+a.outerHeight(!1),r=o.$results.scrollTop()+s-i;0===n?o.$results.scrollTop(0):i<s&&o.$results.scrollTop(r)}})),n.on("results:focus",(function(t){t.element.addClass("select2-results__option--highlighted")})),n.on("results:message",(function(t){o.displayMessage(t)})),t.fn.mousewheel&&this.$results.on("mousewheel",(function(t){var e=o.$results.scrollTop(),n=o.$results.get(0).scrollHeight-e+t.deltaY,a=0<t.deltaY&&e-t.deltaY<=0,i=t.deltaY<0&&n<=o.$results.height();a?(o.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):i&&(o.$results.scrollTop(o.$results.get(0).scrollHeight-o.$results.height()),t.preventDefault(),t.stopPropagation())})),this.$results.on("mouseup",".select2-results__option[aria-selected]",(function(n){var a=t(this),i=e.GetData(this,"data");"true"!==a.attr("aria-selected")?o.trigger("select",{originalEvent:n,data:i}):o.options.get("multiple")?o.trigger("unselect",{originalEvent:n,data:i}):o.trigger("close",{})})),this.$results.on("mouseenter",".select2-results__option[aria-selected]",(function(n){var a=e.GetData(this,"data");o.getHighlightedResults().removeClass("select2-results__option--highlighted"),o.trigger("results:focus",{data:a,element:t(this)})}))},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,a=t.offset().top,o=this.$results.scrollTop()+(a-n),i=a-n;o-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(i>this.$results.outerHeight()||i<0)&&this.$results.scrollTop(o)}},n.prototype.template=function(e,n){var a=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),i=a(e,n);null==i?n.style.display="none":"string"==typeof i?n.innerHTML=o(i):t(n).append(i)},n})),e.define("select2/keys",[],(function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}})),e.define("select2/selection/base",["jquery","../utils","../keys"],(function(t,e,n){function a(t,e){this.$element=t,this.options=e,a.__super__.constructor.call(this)}return e.Extend(a,e.Observable),a.prototype.render=function(){var n=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=e.GetData(this.$element[0],"old-tabindex")?this._tabindex=e.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),n.attr("title",this.$element.attr("title")),n.attr("tabindex",this._tabindex),n.attr("aria-disabled","false"),this.$selection=n},a.prototype.bind=function(t,e){var a=this,o=t.id+"-results";this.container=t,this.$selection.on("focus",(function(t){a.trigger("focus",t)})),this.$selection.on("blur",(function(t){a._handleBlur(t)})),this.$selection.on("keydown",(function(t){a.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()})),t.on("results:focus",(function(t){a.$selection.attr("aria-activedescendant",t.data._resultId)})),t.on("selection:update",(function(t){a.update(t.data)})),t.on("open",(function(){a.$selection.attr("aria-expanded","true"),a.$selection.attr("aria-owns",o),a._attachCloseHandler(t)})),t.on("close",(function(){a.$selection.attr("aria-expanded","false"),a.$selection.removeAttr("aria-activedescendant"),a.$selection.removeAttr("aria-owns"),a.$selection.trigger("focus"),a._detachCloseHandler(t)})),t.on("enable",(function(){a.$selection.attr("tabindex",a._tabindex),a.$selection.attr("aria-disabled","false")})),t.on("disable",(function(){a.$selection.attr("tabindex","-1"),a.$selection.attr("aria-disabled","true")}))},a.prototype._handleBlur=function(e){var n=this;window.setTimeout((function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)}),1)},a.prototype._attachCloseHandler=function(n){t(document.body).on("mousedown.select2."+n.id,(function(n){var a=t(n.target).closest(".select2");t(".select2.select2-container--open").each((function(){this!=a[0]&&e.GetData(this,"element").select2("close")}))}))},a.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},a.prototype.position=function(t,e){e.find(".selection").append(t)},a.prototype.destroy=function(){this._detachCloseHandler(this.container)},a.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},a})),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],(function(t,e,n,a){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,e),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},o.prototype.bind=function(t,e){var n=this;o.__super__.bind.apply(this,arguments);var a=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",a).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",a),this.$selection.on("mousedown",(function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})})),this.$selection.on("focus",(function(t){})),this.$selection.on("blur",(function(t){})),t.on("focus",(function(e){t.isOpen()||n.$selection.trigger("focus")}))},o.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},o.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},o.prototype.selectionContainer=function(){return t("<span></span>")},o.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),a=this.display(e,n);n.empty().append(a);var o=e.title||e.text;o?n.attr("title",o):n.removeAttr("title")}else this.clear()},o})),e.define("select2/selection/multiple",["jquery","./base","../utils"],(function(t,e,n){function a(t,e){a.__super__.constructor.apply(this,arguments)}return n.Extend(a,e),a.prototype.render=function(){var t=a.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},a.prototype.bind=function(e,o){var i=this;a.__super__.bind.apply(this,arguments),this.$selection.on("click",(function(t){i.trigger("toggle",{originalEvent:t})})),this.$selection.on("click",".select2-selection__choice__remove",(function(e){if(!i.options.get("disabled")){var a=t(this).parent(),o=n.GetData(a[0],"data");i.trigger("unselect",{originalEvent:e,data:o})}}))},a.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},a.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},a.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},a.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],a=0;a<t.length;a++){var o=t[a],i=this.selectionContainer(),s=this.display(o,i);i.append(s);var r=o.title||o.text;r&&i.attr("title",r),n.StoreData(i[0],"data",o),e.push(i)}var l=this.$selection.find(".select2-selection__rendered");n.appendMany(l,e)}},a})),e.define("select2/selection/placeholder",["../utils"],(function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(1<e.length||n)return t.call(this,e);this.clear();var a=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(a)},e})),e.define("select2/selection/allowClear",["jquery","../keys","../utils"],(function(t,e,n){function a(){}return a.prototype.bind=function(t,e,n){var a=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",(function(t){a._handleClear(t)})),e.on("keypress",(function(t){a._handleKeyboardClear(t,e)}))},a.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var a=this.$selection.find(".select2-selection__clear");if(0!==a.length){e.stopPropagation();var o=n.GetData(a[0],"data"),i=this.$element.val();this.$element.val(this.placeholder.id);var s={data:o};if(this.trigger("clear",s),s.prevented)this.$element.val(i);else{for(var r=0;r<o.length;r++)if(s={data:o[r]},this.trigger("unselect",s),s.prevented)return void this.$element.val(i);this.$element.trigger("change"),this.trigger("toggle",{})}}}},a.prototype._handleKeyboardClear=function(t,n,a){a.isOpen()||n.which!=e.DELETE&&n.which!=e.BACKSPACE||this._handleClear(n)},a.prototype.update=function(e,a){if(e.call(this,a),!(0<this.$selection.find(".select2-selection__placeholder").length||0===a.length)){var o=this.options.get("translations").get("removeAllItems"),i=t('<span class="select2-selection__clear" title="'+o()+'">&times;</span>');n.StoreData(i[0],"data",a),this.$selection.find(".select2-selection__rendered").prepend(i)}},a})),e.define("select2/selection/search",["jquery","../utils","../keys"],(function(t,e,n){function a(t,e,n){t.call(this,e,n)}return a.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var a=e.call(this);return this._transferTabIndex(),a},a.prototype.bind=function(t,a,o){var i=this,s=a.id+"-results";t.call(this,a,o),a.on("open",(function(){i.$search.attr("aria-controls",s),i.$search.trigger("focus")})),a.on("close",(function(){i.$search.val(""),i.$search.removeAttr("aria-controls"),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")})),a.on("enable",(function(){i.$search.prop("disabled",!1),i._transferTabIndex()})),a.on("disable",(function(){i.$search.prop("disabled",!0)})),a.on("focus",(function(t){i.$search.trigger("focus")})),a.on("results:focus",(function(t){t.data._resultId?i.$search.attr("aria-activedescendant",t.data._resultId):i.$search.removeAttr("aria-activedescendant")})),this.$selection.on("focusin",".select2-search--inline",(function(t){i.trigger("focus",t)})),this.$selection.on("focusout",".select2-search--inline",(function(t){i._handleBlur(t)})),this.$selection.on("keydown",".select2-search--inline",(function(t){if(t.stopPropagation(),i.trigger("keypress",t),i._keyUpPrevented=t.isDefaultPrevented(),t.which===n.BACKSPACE&&""===i.$search.val()){var a=i.$searchContainer.prev(".select2-selection__choice");if(0<a.length){var o=e.GetData(a[0],"data");i.searchRemoveChoice(o),t.preventDefault()}}})),this.$selection.on("click",".select2-search--inline",(function(t){i.$search.val()&&t.stopPropagation()}));var r=document.documentMode,l=r&&r<=11;this.$selection.on("input.searchcheck",".select2-search--inline",(function(t){l?i.$selection.off("input.search input.searchcheck"):i.$selection.off("keyup.search")})),this.$selection.on("keyup.search input.search",".select2-search--inline",(function(t){if(l&&"input"===t.type)i.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&i.handleSearch(t)}}))},a.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},a.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},a.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},a.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},a.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},a.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";t=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em",this.$search.css("width",t)},a})),e.define("select2/selection/eventRelay",["jquery"],(function(t){function e(){}return e.prototype.bind=function(e,n,a){var o=this,i=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],s=["opening","closing","selecting","unselecting","clearing"];e.call(this,n,a),n.on("*",(function(e,n){if(-1!==t.inArray(e,i)){n=n||{};var a=t.Event("select2:"+e,{params:n});o.$element.trigger(a),-1!==t.inArray(e,s)&&(n.prevented=a.isDefaultPrevented())}}))},e})),e.define("select2/translation",["jquery","require"],(function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var a=e(t);n._cache[t]=a}return new n(n._cache[t])},n})),e.define("select2/diacritics",[],(function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","œ":"oe","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ώ":"ω","ς":"σ","’":"'"}})),e.define("select2/data/base",["../utils"],(function(t){function e(t,n){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var a=e.id+"-result-";return a+=t.generateChars(4),null!=n.id?a+="-"+n.id.toString():a+="-"+t.generateChars(4),a},e})),e.define("select2/data/select",["./base","../utils","jquery"],(function(t,e,n){function a(t,e){this.$element=t,this.options=e,a.__super__.constructor.call(this)}return e.Extend(a,t),a.prototype.current=function(t){var e=[],a=this;this.$element.find(":selected").each((function(){var t=n(this),o=a.item(t);e.push(o)})),t(e)},a.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current((function(a){var o=[];(t=[t]).push.apply(t,a);for(var i=0;i<t.length;i++){var s=t[i].id;-1===n.inArray(s,o)&&o.push(s)}e.$element.val(o),e.$element.trigger("change")}));else{var a=t.id;this.$element.val(a),this.$element.trigger("change")}},a.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,n(t.element).is("option"))return t.element.selected=!1,void this.$element.trigger("change");this.current((function(a){for(var o=[],i=0;i<a.length;i++){var s=a[i].id;s!==t.id&&-1===n.inArray(s,o)&&o.push(s)}e.$element.val(o),e.$element.trigger("change")}))}},a.prototype.bind=function(t,e){var n=this;(this.container=t).on("select",(function(t){n.select(t.data)})),t.on("unselect",(function(t){n.unselect(t.data)}))},a.prototype.destroy=function(){this.$element.find("*").each((function(){e.RemoveData(this)}))},a.prototype.query=function(t,e){var a=[],o=this;this.$element.children().each((function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var i=o.item(e),s=o.matches(t,i);null!==s&&a.push(s)}})),e({results:a})},a.prototype.addOptions=function(t){e.appendMany(this.$element,t)},a.prototype.option=function(t){var a;t.children?(a=document.createElement("optgroup")).label=t.text:void 0!==(a=document.createElement("option")).textContent?a.textContent=t.text:a.innerText=t.text,void 0!==t.id&&(a.value=t.id),t.disabled&&(a.disabled=!0),t.selected&&(a.selected=!0),t.title&&(a.title=t.title);var o=n(a),i=this._normalizeItem(t);return i.element=a,e.StoreData(a,"data",i),o},a.prototype.item=function(t){var a={};if(null!=(a=e.GetData(t[0],"data")))return a;if(t.is("option"))a={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){a={text:t.prop("label"),children:[],title:t.prop("title")};for(var o=t.children("option"),i=[],s=0;s<o.length;s++){var r=n(o[s]),l=this.item(r);i.push(l)}a.children=i}return(a=this._normalizeItem(a)).element=t[0],e.StoreData(t[0],"data",a),a},a.prototype._normalizeItem=function(t){return t!==Object(t)&&(t={id:t,text:t}),null!=(t=n.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},{selected:!1,disabled:!1},t)},a.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},a})),e.define("select2/data/array",["./select","../utils","jquery"],(function(t,e,n){function a(t,e){this._dataToConvert=e.get("data")||[],a.__super__.constructor.call(this,t,e)}return e.Extend(a,t),a.prototype.bind=function(t,e){a.__super__.bind.call(this,t,e),this.addOptions(this.convertToOptions(this._dataToConvert))},a.prototype.select=function(t){var e=this.$element.find("option").filter((function(e,n){return n.value==t.id.toString()}));0===e.length&&(e=this.option(t),this.addOptions(e)),a.__super__.select.call(this,t)},a.prototype.convertToOptions=function(t){var a=this,o=this.$element.find("option"),i=o.map((function(){return a.item(n(this)).id})).get(),s=[];function r(t){return function(){return n(this).val()==t.id}}for(var l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(0<=n.inArray(c.id,i)){var d=o.filter(r(c)),p=this.item(d),u=n.extend(!0,{},c,p),h=this.option(u);d.replaceWith(h)}else{var m=this.option(c);if(c.children){var f=this.convertToOptions(c.children);e.appendMany(m,f)}s.push(m)}}return s},a})),e.define("select2/data/ajax",["./array","../utils","jquery"],(function(t,e,n){function a(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),a.__super__.constructor.call(this,t,e)}return e.Extend(a,t),a.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,a){var o=n.ajax(t);return o.then(e),o.fail(a),o}};return n.extend({},e,t,!0)},a.prototype.processResults=function(t){return t},a.prototype.query=function(t,e){var a=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);function i(){var i=o.transport(o,(function(o){var i=a.processResults(o,t);a.options.get("debug")&&window.console&&console.error&&(i&&i.results&&n.isArray(i.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(i)}),(function(){"status"in i&&(0===i.status||"0"===i.status)||a.trigger("results:message",{message:"errorLoading"})}));a._request=i}"function"==typeof o.url&&(o.url=o.url.call(this.$element,t)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},a})),e.define("select2/data/tags",["jquery"],(function(t){function e(e,n,a){var o=a.get("tags"),i=a.get("createTag");void 0!==i&&(this.createTag=i);var s=a.get("insertTag");if(void 0!==s&&(this.insertTag=s),e.call(this,n,a),t.isArray(o))for(var r=0;r<o.length;r++){var l=o[r],c=this._normalizeItem(l),d=this.option(c);this.$element.append(d)}}return e.prototype.query=function(t,e,n){var a=this;this._removeOldTags(),null!=e.term&&null==e.page?t.call(this,e,(function t(o,i){for(var s=o.results,r=0;r<s.length;r++){var l=s[r],c=null!=l.children&&!t({results:l.children},!0);if((l.text||"").toUpperCase()===(e.term||"").toUpperCase()||c)return!i&&(o.data=s,void n(o))}if(i)return!0;var d=a.createTag(e);if(null!=d){var p=a.option(d);p.attr("data-select2-tag",!0),a.addOptions([p]),a.insertTag(s,d)}o.results=s,n(o)})):t.call(this,e,n)},e.prototype.createTag=function(e,n){var a=t.trim(n.term);return""===a?null:{id:a,text:a}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(e){this.$element.find("option[data-select2-tag]").each((function(){this.selected||t(this).remove()}))},e})),e.define("select2/data/tokenizer",["jquery"],(function(t){function e(t,e,n){var a=n.get("tokenizer");void 0!==a&&(this.tokenizer=a),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,a){var o=this;n.term=n.term||"";var i=this.tokenizer(n,this.options,(function(e){var n=o._normalizeItem(e);if(!o.$element.find("option").filter((function(){return t(this).val()===n.id})).length){var a=o.option(n);a.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([a])}!function(t){o.trigger("select",{data:t})}(n)}));i.term!==n.term&&(this.$search.length&&(this.$search.val(i.term),this.$search.trigger("focus")),n.term=i.term),e.call(this,n,a)},e.prototype.tokenizer=function(e,n,a,o){for(var i=a.get("tokenSeparators")||[],s=n.term,r=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};r<s.length;){var c=s[r];if(-1!==t.inArray(c,i)){var d=s.substr(0,r),p=l(t.extend({},n,{term:d}));null!=p?(o(p),s=s.substr(r+1)||"",r=0):r++}else r++}return{term:s}},e})),e.define("select2/data/minimumInputLength",[],(function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t})),e.define("select2/data/maximumInputLength",[],(function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",0<this.maximumInputLength&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t})),e.define("select2/data/maximumSelectionLength",[],(function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){var a=this;t.call(this,e,n),e.on("select",(function(){a._checkIfMaximumSelected()}))},t.prototype.query=function(t,e,n){var a=this;this._checkIfMaximumSelected((function(){t.call(a,e,n)}))},t.prototype._checkIfMaximumSelected=function(t,e){var n=this;this.current((function(t){var a=null!=t?t.length:0;0<n.maximumSelectionLength&&a>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):e&&e()}))},t})),e.define("select2/dropdown",["jquery","./utils"],(function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n})),e.define("select2/dropdown/search",["jquery","../utils"],(function(t,e){function n(){}return n.prototype.render=function(e){var n=e.call(this),a=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=a,this.$search=a.find("input"),n.prepend(a),n},n.prototype.bind=function(e,n,a){var o=this,i=n.id+"-results";e.call(this,n,a),this.$search.on("keydown",(function(t){o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented()})),this.$search.on("input",(function(e){t(this).off("keyup")})),this.$search.on("keyup input",(function(t){o.handleSearch(t)})),n.on("open",(function(){o.$search.attr("tabindex",0),o.$search.attr("aria-controls",i),o.$search.trigger("focus"),window.setTimeout((function(){o.$search.trigger("focus")}),0)})),n.on("close",(function(){o.$search.attr("tabindex",-1),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.val(""),o.$search.trigger("blur")})),n.on("focus",(function(){n.isOpen()||o.$search.trigger("focus")})),n.on("results:all",(function(t){null!=t.query.term&&""!==t.query.term||(o.showSearch(t)?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide"))})),n.on("results:focus",(function(t){t.data._resultId?o.$search.attr("aria-activedescendant",t.data._resultId):o.$search.removeAttr("aria-activedescendant")}))},n.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.showSearch=function(t,e){return!0},n})),e.define("select2/dropdown/hidePlaceholder",[],(function(){function t(t,e,n,a){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,a)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),a=e.length-1;0<=a;a--){var o=e[a];this.placeholder.id===o.id&&n.splice(a,1)}return n},t})),e.define("select2/dropdown/infiniteScroll",["jquery"],(function(t){function e(t,e,n,a){this.lastParams={},t.call(this,e,n,a),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(t,e,n){var a=this;t.call(this,e,n),e.on("query",(function(t){a.lastParams=t,a.loading=!0})),e.on("query:append",(function(t){a.lastParams=t,a.loading=!0})),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e=t.contains(document.documentElement,this.$loadingMore[0]);if(!this.loading&&e){var n=this.$results.offset().top+this.$results.outerHeight(!1);this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=n+50&&this.loadMore()}},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e})),e.define("select2/dropdown/attachBody",["jquery","../utils"],(function(t,e){function n(e,n,a){this.$dropdownParent=t(a.get("dropdownParent")||document.body),e.call(this,n,a)}return n.prototype.bind=function(t,e,n){var a=this;t.call(this,e,n),e.on("open",(function(){a._showDropdown(),a._attachPositioningHandler(e),a._bindContainerResultHandlers(e)})),e.on("close",(function(){a._hideDropdown(),a._detachPositioningHandler(e)})),this.$dropdownContainer.on("mousedown",(function(t){t.stopPropagation()}))},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),a=e.call(this);return n.append(a),this.$dropdownContainer=n},n.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},n.prototype._bindContainerResultHandlers=function(t,e){if(!this._containerResultsHandlersBound){var n=this;e.on("results:all",(function(){n._positionDropdown(),n._resizeDropdown()})),e.on("results:append",(function(){n._positionDropdown(),n._resizeDropdown()})),e.on("results:message",(function(){n._positionDropdown(),n._resizeDropdown()})),e.on("select",(function(){n._positionDropdown(),n._resizeDropdown()})),e.on("unselect",(function(){n._positionDropdown(),n._resizeDropdown()})),this._containerResultsHandlersBound=!0}},n.prototype._attachPositioningHandler=function(n,a){var o=this,i="scroll.select2."+a.id,s="resize.select2."+a.id,r="orientationchange.select2."+a.id,l=this.$container.parents().filter(e.hasScroll);l.each((function(){e.StoreData(this,"select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})})),l.on(i,(function(n){var a=e.GetData(this,"select2-scroll-position");t(this).scrollTop(a.y)})),t(window).on(i+" "+s+" "+r,(function(t){o._positionDropdown(),o._resizeDropdown()}))},n.prototype._detachPositioningHandler=function(n,a){var o="scroll.select2."+a.id,i="resize.select2."+a.id,s="orientationchange.select2."+a.id;this.$container.parents().filter(e.hasScroll).off(o),t(window).off(o+" "+i+" "+s)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),a=this.$dropdown.hasClass("select2-dropdown--below"),o=null,i=this.$container.offset();i.bottom=i.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=i.top,s.bottom=i.top+s.height;var r=this.$dropdown.outerHeight(!1),l=e.scrollTop(),c=e.scrollTop()+e.height(),d=l<i.top-r,p=c>i.bottom+r,u={left:i.left,top:s.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var m=h.offset();u.top-=m.top,u.left-=m.left,n||a||(o="below"),p||!d||n?!d&&p&&n&&(o="below"):o="above",("above"==o||n&&"below"!==o)&&(u.top=s.top-m.top-r),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(u)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n})),e.define("select2/dropdown/minimumResultsForSearch",[],(function(){function t(t,e,n,a){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,a)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var n=0,a=0;a<e.length;a++){var o=e[a];o.children?n+=t(o.children):n++}return n}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t})),e.define("select2/dropdown/selectOnClose",["../utils"],(function(t){function e(){}return e.prototype.bind=function(t,e,n){var a=this;t.call(this,e,n),e.on("close",(function(t){a._handleSelectOnClose(t)}))},e.prototype._handleSelectOnClose=function(e,n){if(n&&null!=n.originalSelect2Event){var a=n.originalSelect2Event;if("select"===a._type||"unselect"===a._type)return}var o=this.getHighlightedResults();if(!(o.length<1)){var i=t.GetData(o[0],"data");null!=i.element&&i.element.selected||null==i.element&&i.selected||this.trigger("select",{data:i})}},e})),e.define("select2/dropdown/closeOnSelect",[],(function(){function t(){}return t.prototype.bind=function(t,e,n){var a=this;t.call(this,e,n),e.on("select",(function(t){a._selectTriggered(t)})),e.on("unselect",(function(t){a._selectTriggered(t)}))},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t})),e.define("select2/i18n/en",[],(function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"}}})),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],(function(t,e,n,a,o,i,s,r,l,c,d,p,u,h,m,f,g,v,y,b,$,x,_,w,C,k,j,S,A){function T(){this.reset()}return T.prototype.apply=function(d){if(null==(d=t.extend(!0,{},this.defaults,d)).dataAdapter){if(null!=d.ajax?d.dataAdapter=m:null!=d.data?d.dataAdapter=h:d.dataAdapter=u,0<d.minimumInputLength&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),0<d.maximumInputLength&&(d.dataAdapter=c.Decorate(d.dataAdapter,y)),0<d.maximumSelectionLength&&(d.dataAdapter=c.Decorate(d.dataAdapter,b)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,f)),null==d.tokenSeparators&&null==d.tokenizer||(d.dataAdapter=c.Decorate(d.dataAdapter,g)),null!=d.query){var p=e(d.amdBase+"compat/query");d.dataAdapter=c.Decorate(d.dataAdapter,p)}if(null!=d.initSelection){var A=e(d.amdBase+"compat/initSelection");d.dataAdapter=c.Decorate(d.dataAdapter,A)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,w)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,_)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,j))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=$;else{var T=c.Decorate($,x);d.dropdownAdapter=T}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,k)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,S)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var E=e(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=c.Decorate(d.dropdownAdapter,E)}d.dropdownAdapter=c.Decorate(d.dropdownAdapter,C)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=o:d.selectionAdapter=a,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,i)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,r)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var O=e(d.amdBase+"compat/containerCss");d.selectionAdapter=c.Decorate(d.selectionAdapter,O)}d.selectionAdapter=c.Decorate(d.selectionAdapter,l)}d.language=this._resolveLanguage(d.language),d.language.push("en");for(var z=[],D=0;D<d.language.length;D++){var I=d.language[D];-1===z.indexOf(I)&&z.push(I)}return d.language=z,d.translations=this._processTranslations(d.language,d.debug),d},T.prototype.reset=function(){function e(t){return t.replace(/[^\u0000-\u007E]/g,(function(t){return p[t]||t}))}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:{},matcher:function n(a,o){if(""===t.trim(a.term))return o;if(o.children&&0<o.children.length){for(var i=t.extend(!0,{},o),s=o.children.length-1;0<=s;s--)null==n(a,o.children[s])&&i.children.splice(s,1);return 0<i.children.length?i:n(a,i)}var r=e(o.text).toUpperCase(),l=e(a.term).toUpperCase();return-1<r.indexOf(l)?o:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},T.prototype.applyFromElement=function(t,e){var n=t.language,a=this.defaults.language,o=e.prop("lang"),i=e.closest("[lang]").prop("lang"),s=Array.prototype.concat.call(this._resolveLanguage(o),this._resolveLanguage(n),this._resolveLanguage(a),this._resolveLanguage(i));return t.language=s,t},T.prototype._resolveLanguage=function(e){if(!e)return[];if(t.isEmptyObject(e))return[];if(t.isPlainObject(e))return[e];var n;n=t.isArray(e)?e:[e];for(var a=[],o=0;o<n.length;o++)if(a.push(n[o]),"string"==typeof n[o]&&0<n[o].indexOf("-")){var i=n[o].split("-")[0];a.push(i)}return a},T.prototype._processTranslations=function(e,n){for(var a=new d,o=0;o<e.length;o++){var i=new d,s=e[o];if("string"==typeof s)try{i=d.loadPath(s)}catch(e){try{s=this.defaults.amdLanguageBase+s,i=d.loadPath(s)}catch(e){n&&window.console&&console.warn&&console.warn('Select2: The language file for "'+s+'" could not be automatically loaded. A fallback will be used instead.')}}else i=t.isPlainObject(s)?new d(s):s;a.extend(i)}return a},T.prototype.set=function(e,n){var a={};a[t.camelCase(e)]=n;var o=c._convertData(a);t.extend(!0,this.defaults,o)},new T})),e.define("select2/options",["require","jquery","./defaults","./utils"],(function(t,e,n,a){function o(e,o){if(this.options=e,null!=o&&this.fromElement(o),null!=o&&(this.options=n.applyFromElement(this.options,o)),this.options=n.apply(this.options),o&&o.is("input")){var i=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=a.Decorate(this.options.dataAdapter,i)}}return o.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),a.GetData(t[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),a.StoreData(t[0],"data",a.GetData(t[0],"select2Tags")),a.StoreData(t[0],"tags",!0)),a.GetData(t[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",a.GetData(t[0],"ajaxUrl")),a.StoreData(t[0],"ajax-Url",a.GetData(t[0],"ajaxUrl")));var o={};function i(t,e){return e.toUpperCase()}for(var s=0;s<t[0].attributes.length;s++){var r=t[0].attributes[s].name,l="data-";if(r.substr(0,l.length)==l){var c=r.substring(l.length),d=a.GetData(t[0],c);o[c.replace(/-([a-z])/g,i)]=d}}e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset&&(o=e.extend(!0,{},t[0].dataset,o));var p=e.extend(!0,{},a.GetData(t[0]),o);for(var u in p=a._convertData(p))-1<e.inArray(u,n)||(e.isPlainObject(this.options[u])?e.extend(this.options[u],p[u]):this.options[u]=p[u]);return this},o.prototype.get=function(t){return this.options[t]},o.prototype.set=function(t,e){this.options[t]=e},o})),e.define("select2/core",["jquery","./options","./utils","./keys"],(function(t,e,n,a){var o=function t(a,o){null!=n.GetData(a[0],"select2")&&n.GetData(a[0],"select2").destroy(),this.$element=a,this.id=this._generateId(a),o=o||{},this.options=new e(o,a),t.__super__.constructor.call(this);var i=a.attr("tabindex")||0;n.StoreData(a[0],"old-tabindex",i),a.attr("tabindex","-1");var s=this.options.get("dataAdapter");this.dataAdapter=new s(a,this.options);var r=this.render();this._placeContainer(r);var l=this.options.get("selectionAdapter");this.selection=new l(a,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,r);var c=this.options.get("dropdownAdapter");this.dropdown=new c(a,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,r);var d=this.options.get("resultsAdapter");this.results=new d(a,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var p=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current((function(t){p.trigger("selection:update",{data:t})})),a.addClass("select2-hidden-accessible"),a.attr("aria-hidden","true"),this._syncAttributes(),n.StoreData(a[0],"select2",this),a.data("select2",this)};return n.Extend(o,n.Observable),o.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},o.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},o.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var a=this._resolveWidth(t,"style");return null!=a?a:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"!=e)return"computedstyle"!=e?e:window.getComputedStyle(t[0]).width;var i=t.attr("style");if("string"!=typeof i)return null;for(var s=i.split(";"),r=0,l=s.length;r<l;r+=1){var c=s[r].replace(/\s/g,"").match(n);if(null!==c&&1<=c.length)return c[1]}return null},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",(function(){e.dataAdapter.current((function(t){e.trigger("selection:update",{data:t})}))})),this.$element.on("focus.select2",(function(t){e.trigger("focus",t)})),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var a=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=a?(this._observer=new a((function(n){t.each(n,e._syncA),t.each(n,e._syncS)})),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},o.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",(function(e,n){t.trigger(e,n)}))},o.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",(function(){e.toggleDropdown()})),this.selection.on("focus",(function(t){e.focus(t)})),this.selection.on("*",(function(a,o){-1===t.inArray(a,n)&&e.trigger(a,o)}))},o.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",(function(e,n){t.trigger(e,n)}))},o.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",(function(e,n){t.trigger(e,n)}))},o.prototype._registerEvents=function(){var t=this;this.on("open",(function(){t.$container.addClass("select2-container--open")})),this.on("close",(function(){t.$container.removeClass("select2-container--open")})),this.on("enable",(function(){t.$container.removeClass("select2-container--disabled")})),this.on("disable",(function(){t.$container.addClass("select2-container--disabled")})),this.on("blur",(function(){t.$container.removeClass("select2-container--focus")})),this.on("query",(function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,(function(n){t.trigger("results:all",{data:n,query:e})}))})),this.on("query:append",(function(e){this.dataAdapter.query(e,(function(n){t.trigger("results:append",{data:n,query:e})}))})),this.on("keypress",(function(e){var n=e.which;t.isOpen()?n===a.ESC||n===a.TAB||n===a.UP&&e.altKey?(t.close(),e.preventDefault()):n===a.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===a.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===a.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===a.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===a.ENTER||n===a.SPACE||n===a.DOWN&&e.altKey)&&(t.open(),e.preventDefault())}))},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._syncSubtree=function(t,e){var n=!1,a=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&0<e.addedNodes.length)for(var o=0;o<e.addedNodes.length;o++)e.addedNodes[o].selected&&(n=!0);else e.removedNodes&&0<e.removedNodes.length&&(n=!0);else n=!0;n&&this.dataAdapter.current((function(t){a.trigger("selection:update",{data:t})}))}},o.prototype.trigger=function(t,e){var n=o.__super__.trigger,a={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===e&&(e={}),t in a){var i=a[t],s={prevented:!1,name:t,args:e};if(n.call(this,i,s),s.prevented)return void(e.prevented=!0)}n.call(this,t,e)},o.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.trigger("query",{})},o.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},o.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current((function(e){t=e})),t},o.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,(function(t){return t.toString()}))),this.$element.val(n).trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",n.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),n.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),n.StoreData(e[0],"element",this.$element),e},o})),e.define("jquery-mousewheel",["jquery"],(function(t){return t})),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],(function(t,e,n,a,o){if(null==t.fn.select2){var i=["open","close","destroy"];t.fn.select2=function(e){if("object"==_typeof(e=e||{}))return this.each((function(){var a=t.extend(!0,{},e);new n(t(this),a)})),this;if("string"!=typeof e)throw new Error("Invalid arguments for Select2: "+e);var a,s=Array.prototype.slice.call(arguments,1);return this.each((function(){var t=o.GetData(this,"select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),a=t[e].apply(t,s)})),-1<t.inArray(e,i)?this:a}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=a),n})),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n})),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,(function(t){"use strict";function e(e,n){this.element=e,this.self=t(e),this.opt=t.extend(!0,{},t.raty,n,this.self.data())}t.raty={cancelButton:!1,cancelClass:"raty-cancel",cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:void 0,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",starType:"img",target:void 0,targetFormat:"{score}",targetKeep:!1,targetScore:void 0,targetText:"",targetType:"hint"},t.fn.raty=function(e){return this.each((function(){return new t.raty.Raty(this,e)._create()}))},t.raty.Raty=(e.prototype={_create:function(){this._executeCallbacks(),this._adjustNumber(),this._adjustHints(),this.opt.score=this._adjustedScore(this.opt.score),"img"!==this.opt.starType&&this._adjustStarName(),this._setPath(),this._createStars(),this.opt.cancelButton&&this._createCancel(),this.opt.precision&&this._adjustPrecision(),this._createScore(),this._apply(this.opt.score),this._setTitle(this.opt.score),this._target(this.opt.score),this.opt.readOnly?this._lock():(this.element.style.cursor="pointer",this._binds()),this.self.data("raty",this)},_adjustedScore:function(t){if(t||0===t)return this._between(t,0,this.opt.number)},_adjustHints:function(){if(this.opt.hints||(this.opt.hints=[]),this.opt.halfShow||this.opt.half)for(var t=this.opt.precision?10:2,e=0;e<this.opt.number;e++){var n=this.opt.hints[e];"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),this.opt.hints[e]=[];for(var a=0;a<t;a++){var o=n[a],i=n[n.length-1];void 0===i&&(i=null),this.opt.hints[e][a]=void 0===o?i:o}}},_adjustNumber:function(){this.opt.number=this._between(this.opt.number,1,this.opt.numberMax)},_adjustPrecision:function(){this.opt.half=!0},_adjustStarName:function(){var t=["cancelOff","cancelOn","starHalf","starOff","starOn"];this.opt.path="";for(var e=0;e<t.length;e++)this.opt[t[e]]=this.opt[t[e]].replace(".","-")},_apply:function(t){this._fill(t),t&&(0<t&&this.scoreField.val(t),this._roundStars(t))},_attributesForIndex:function(t){var e=this._nameForIndex(t),n={alt:t,src:this.opt.path+this.opt[e]};return"img"!==this.opt.starType&&(n={"data-alt":t,class:this.opt[e]}),n.title=this._getHint(t),n},_between:function(t,e,n){return Math.min(Math.max(parseFloat(t),e),n)},_binds:function(){this.cancelButton&&(this._bindOverCancel(),this._bindClickCancel(),this._bindOutCancel()),this._bindOver(),this._bindClick(),this._bindOut()},_bindClick:function(){var e=this;this.stars.on("click.raty",(function(n){var a,o;e.self.data("readonly")||(a=!0,o=e.opt.half||e.opt.precision?e.self.data("score"):this.alt||t(this).data("alt"),e.opt.half&&!e.opt.precision&&(o=e._roundHalfScore(o)),e.opt.click&&(a=e.opt.click.call(e.element,+o,n)),!a&&void 0!==a||e._apply(+o))}))},_bindClickCancel:function(){this.cancelButton.on("click.raty",function(t){this.scoreField.removeAttr("value"),this.opt.click&&this.opt.click.call(this.element,null,t)}.bind(this))},_bindOut:function(){this.self.on("mouseleave.raty",function(t){var e=+this.scoreField.val()||void 0;this._apply(e),this._target(e,t),this._resetTitle(),this.opt.mouseout&&this.opt.mouseout.call(this.element,e,t)}.bind(this))},_bindOutCancel:function(){var t=this;this.cancelButton.on("mouseleave.raty",(function(e){var n,a=t.opt.cancelOff;"img"!==t.opt.starType&&(a=t.opt.cancelClass+" "+a),t._setIcon(this,a),t.opt.mouseout&&(n=+t.scoreField.val()||void 0,t.opt.mouseout.call(t.element,n,e))}))},_bindOver:function(){var t=this,e=t.opt.half?"mousemove.raty":"mouseover.raty";this.stars.on(e,(function(e){var n=t._getScoreByPosition(e,this);t._fill(n),t.opt.half&&(t._roundStars(n,e),t._setTitle(n,e),t.self.data("score",n)),t._target(n,e),t.opt.mouseover&&t.opt.mouseover.call(t.element,n,e)}))},_bindOverCancel:function(){var t=this;this.cancelButton.on("mouseover.raty",(function(e){var n,a;t.self.data("readonly")||(n=t.opt.path+t.opt.starOff,a=t.opt.cancelOn,"img"===t.opt.starType?t.stars.attr("src",n):(a=t.opt.cancelClass+" "+a,t.stars.attr("class",n)),t._setIcon(this,a),t._target(null,e),t.opt.mouseover&&t.opt.mouseover.call(t.element,null))}))},_buildScoreField:function(){return t("<input />",{name:this.opt.scoreName,type:"hidden"}).appendTo(this.self)},_createCancel:function(){var e=this.opt.path+this.opt.cancelOff,n=t("<"+this.opt.starType+" />",{title:this.opt.cancelHint,class:this.opt.cancelClass});"img"===this.opt.starType?n.attr({src:e,alt:"x"}):n.attr("data-alt","x").addClass(e),"left"===this.opt.cancelPlace?this.self.prepend("&#160;").prepend(n):this.self.append("&#160;").append(n),this.cancelButton=n},_createScore:function(){var e=t(this.opt.targetScore);this.scoreField=e.length?e:this._buildScoreField()},_createStars:function(){for(var e=1;e<=this.opt.number;e++){var n=this._attributesForIndex(e);t("<"+this.opt.starType+" />",n).appendTo(this.element),this.opt.space&&e<this.opt.number&&this.self.append("&#160;")}this.stars=this.self.children(this.opt.starType)},_error:function(e){t(this).text(e),t.error(e)},_executeCallbacks:function(){for(var t,e=["number","readOnly","score","scoreName","target","path"],n=0;n<e.length;n++)"function"==typeof this.opt[e[n]]&&((t=this.opt[e[n]].call(this.element))?this.opt[e[n]]=t:delete this.opt[e[n]])},_fill:function(t){for(var e=0,n=1;n<=this.stars.length;n++){var a,o,i=this.stars[n-1],s=this._turnOn(n,t);this.opt.iconRange&&this.opt.iconRange.length>e?(a=this.opt.iconRange[e],o=this._getRangeIcon(a,s),n<=a.range&&this._setIcon(i,o),n===a.range&&e++):(o=this.opt[s?"starOn":"starOff"],this._setIcon(i,o))}},_getDecimal:function(t,e){var n=t.toString().split(".")[1],a=0;return n&&(a=parseInt(n.slice(0,e),10),"9999"===n.slice(1,5)&&a++),a},_getRangeIcon:function(t,e){return e?t.on||this.opt.starOn:t.off||this.opt.starOff},_getScoreByPosition:function(e,n){var a,o=parseInt(n.alt||n.getAttribute("data-alt"),10);return this.opt.half&&(a=this._getWidth(),o=o-1+parseFloat((e.pageX-t(n).offset().left)/a)),o},_getHint:function(t,e){if(0!==t&&!t)return this.opt.noRatedMsg;var n=this._getDecimal(t,1),a=Math.ceil(t),o=this.opt.hints[(a||1)-1],i=o,s=!e||this.isMove;return this.opt.precision?(s&&(n=0===n?9:n-1),i=o[n]):(this.opt.halfShow||this.opt.half)&&(i=o[n=s&&0===n||5<n?1:0]),""===i?"":i||t},_getWidth:function(){var t=this.stars[0].width||parseFloat(this.stars.eq(0).css("font-size"));return t||this._error("Could not get the icon width!"),t},_lock:function(){var t=this._getHint(this.scoreField.val());this.element.style.cursor="",this.element.title=t,this.scoreField.prop("readonly",!0),this.stars.prop("title",t),this.cancelButton&&this.cancelButton.hide(),this.self.data("readonly",!0)},_nameForIndex:function(t){return this.opt.score&&this.opt.score>=t?"starOn":"starOff"},_resetTitle:function(){for(var t=0;t<this.opt.number;t++)this.stars[t].title=this._getHint(t+1)},_roundHalfScore:function(t){var e=parseInt(t,10),n=this._getDecimal(t,1);return 0!==n&&(n=5<n?1:.5),e+n},_roundStars:function(t,e){var n,a,o=this._starName(t,e);o&&(n=this.opt[o],a=this.stars[Math.ceil(t)-1],this._setIcon(a,n))},_setIcon:function(t,e){t["img"===this.opt.starType?"src":"className"]=this.opt.path+e},_setPath:function(){this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.slice(-1)[0]&&(this.opt.path+="/")},_setTarget:function(t,e){e=e&&this.opt.targetFormat.toString().replace("{score}",e),t.is(":input")?t.val(e):t.html(e)},_setTitle:function(t,e){var n;t&&(n=parseInt(Math.ceil(t),10),this.stars[n-1].title=this._getHint(t,e))},_starName:function(t,e){var n=+(t%1).toFixed(2);return e||this.isMove?.5<n?"starOn":"starHalf":n<=this.opt.round.down?void 0:this.opt.halfShow&&n<this.opt.round.up?"starHalf":n<this.opt.round.full?"starOff":"starOn"},_target:function(e,n){var a,o,i;this.opt.target&&((a=t(this.opt.target)).length||this._error("Target selector invalid or missing!"),o=n&&"mouseover"===n.type,void 0===e?e=this.opt.targetText:null===e?e=o?this.opt.cancelHint:this.opt.targetText:("hint"===this.opt.targetType?e=this._getHint(e,n):this.opt.precision&&(e=parseFloat(e).toFixed(1)),i=n&&"mousemove"===n.type,o||i||this.opt.targetKeep||(e=this.opt.targetText)),this._setTarget(a,e))},_turnOn:function(t,e){return this.opt.single?t===e:t<=e},_unlock:function(){this.element.style.cursor="pointer",this.element.removeAttribute("title"),this.scoreField.removeAttr("readonly"),this.self.data("readonly",!1),this._resetTitle(),this.cancelButton&&this.cancelButton.css("display","")},cancel:function(t){!0!==this.self.data("readonly")&&(this[t?"click":"score"].call(this,null),this.scoreField.removeAttr("value"))},click:function(e){!0!==this.self.data("readonly")&&(e=this._adjustedScore(e),this._apply(e),this.opt.click&&this.opt.click.call(this.element,e,t.Event("click")),this._target(e))},getScore:function(){var t=[],e=this.scoreField.val();return t.push(e?+e:void 0),1<t.length?t:t[0]},move:function(e){var n=parseInt(e,10),a=this._getDecimal(e,1);n>=this.opt.number&&(n=this.opt.number-1,a=10);var o=this._getWidth()/10,i=t(this.stars[n]),s=i.offset().left+o*a,r=t.Event("mousemove",{pageX:s});this.isMove=!0,i.trigger(r),this.isMove=!1},readOnly:function(t){this.self.data("readonly")!==t&&(t?(this.self.off(".raty").children(this.opt.starType).off(".raty"),this._lock()):(this._binds(),this._unlock()),this.self.data("readonly",t))},score:function(){return arguments.length?this.setScore.apply(this,arguments):this.getScore()},setScore:function(t){!0!==this.self.data("readonly")&&(t=this._adjustedScore(t),this._apply(t),this._target(t))}},e)})),function(t,e){if("object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module)))module.exports=e(require("jquery"));else if("function"==typeof define&&define.amd)define(["jquery"],e);else{var n="object"==("undefined"==typeof exports?"undefined":_typeof(exports))?e(require("jquery")):e(t.jQuery);for(var a in n)("object"==("undefined"==typeof exports?"undefined":_typeof(exports))?exports:t)[a]=n[a]}}(window,(function(t){return function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==_typeof(t)&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(e,n){e.exports=t},function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a);n(2);var i=function t(e,n){this.element=e,this.settings=o.a.extend({},t.defaults,n),this.settings.fullPage=this.element.is("body"),this.init(),this.settings.start&&this.start()};i.defaults={overlay:void 0,zIndex:void 0,message:"Loading...",theme:"light",shownClass:"loading-shown",hiddenClass:"loading-hidden",stoppable:!1,start:!0,onStart:function(t){t.overlay.fadeIn(150)},onStop:function(t){t.overlay.fadeOut(150)},onClick:function(){}},i.setDefaults=function(t){i.defaults=o.a.extend({},i.defaults,t)},o.a.extend(i.prototype,{init:function(){this.isActive=!1,this.overlay=this.settings.overlay||this.createOverlay(),this.resize(),this.attachMethodsToExternalEvents(),this.attachOptionsHandlers()},createOverlay:function(){var t=o()('<div class="loading-overlay loading-theme-'+this.settings.theme+'"><div class="loading-overlay-content">'+this.settings.message+"</div></div>").addClass(this.settings.hiddenClass).hide().appendTo("body"),e=this.element.attr("id");return e&&t.attr("id",e+"_loading-overlay"),t},attachMethodsToExternalEvents:function(){var t=this;t.element.on("loading.start",(function(){t.overlay.removeClass(t.settings.hiddenClass).addClass(t.settings.shownClass)})),t.element.on("loading.stop",(function(){t.overlay.removeClass(t.settings.shownClass).addClass(t.settings.hiddenClass)})),t.settings.stoppable&&t.overlay.on("click",(function(){t.stop()})),t.overlay.on("click",(function(){t.element.trigger("loading.click",t)})),o()(window).on("resize",(function(){t.resize()})),o()((function(){t.resize()}))},attachOptionsHandlers:function(){var t=this;t.element.on("loading.start",(function(e,n){t.settings.onStart(n)})),t.element.on("loading.stop",(function(e,n){t.settings.onStop(n)})),t.element.on("loading.click",(function(e,n){t.settings.onClick(n)}))},calcZIndex:function(){return void 0!==this.settings.zIndex?this.settings.zIndex:(parseInt(this.element.css("z-index"))||0)+1+this.settings.fullPage},resize:function(){var t=this.element,e=t.outerWidth(),n=t.outerHeight();this.settings.fullPage&&(n="100%",e="100%"),this.overlay.css({position:this.settings.fullPage?"fixed":"absolute",zIndex:this.calcZIndex(),top:t.offset().top,left:t.offset().left,width:e,height:n})},start:function(){this.isActive=!0,this.resize(),this.element.trigger("loading.start",this)},stop:function(){this.isActive=!1,this.element.trigger("loading.stop",this)},active:function(){return this.isActive},toggle:function(){this.active()?this.stop():this.start()},destroy:function(){this.overlay.remove()}});var s="jquery-loading";o.a.fn.loading=function(t){return this.each((function(){var e=o.a.data(this,s);e?void 0===t?e.start():"string"==typeof t?e[t].apply(e):(e.destroy(),o.a.data(this,s,new i(o()(this),t))):void 0!==t&&"object"!=_typeof(t)&&"start"!==t&&"toggle"!==t||o.a.data(this,s,new i(o()(this),t))}))},o.a.fn.Loading=function(t){var e=o()(this).data(s);return e&&void 0===t||o()(this).data(s,e=new i(o()(this),t)),e},o.a.expr[":"].loading=function(t){var e=o.a.data(t,s);return!!e&&e.active()},o.a.Loading=i},function(t,e,n){var a=n(3);"string"==typeof a&&(a=[[t.i,a,""]]);n(5)(a,{insert:"head",singleton:!1}),a.locals&&(t.exports=a.locals)},function(t,e,n){(t.exports=n(4)(!1)).push([t.i,"/* Default jquery-loading styles */\r\n\r\n.loading-overlay {\r\n  display: table;\r\n  opacity: 0.7;\r\n}\r\n\r\n.loading-overlay-content {\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.4em;\r\n  font-size: 1.15em;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  display: table-cell;\r\n  vertical-align: middle;\r\n}\r\n\r\n.loading-overlay.loading-theme-light {\r\n  background-color: #fff;\r\n  color: #000;\r\n}\r\n\r\n.loading-overlay.loading-theme-dark {\r\n  background-color: #000;\r\n  color: #fff;\r\n}\r\n",""])},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,a,o,i=t[1]||"",s=t[3];if(!s)return i;if(e&&"function"==typeof btoa){var r=(n=s,a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(o," */")),l=s.sources.map((function(t){return"/*# sourceURL=".concat(s.sourceRoot).concat(t," */")}));return[i].concat(l).concat([r]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(a[i]=!0)}for(var s=0;s<t.length;s++){var r=t[s];null!=r[0]&&a[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="(".concat(r[2],") and (").concat(n,")")),e.push(r))}},e}},function(t,e,n){"use strict";var a,o={},i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}();function s(t,e){for(var n=[],a={},o=0;o<t.length;o++){var i=t[o],s=e.base?i[0]+e.base:i[0],r={css:i[1],media:i[2],sourceMap:i[3]};a[s]?a[s].parts.push(r):n.push(a[s]={id:s,parts:[r]})}return n}function r(t,e){for(var n=0;n<t.length;n++){var a=t[n],i=o[a.id],s=0;if(i){for(i.refs++;s<i.parts.length;s++)i.parts[s](a.parts[s]);for(;s<a.parts.length;s++)i.parts.push(m(a.parts[s],e))}else{for(var r=[];s<a.parts.length;s++)r.push(m(a.parts[s],e));o[a.id]={id:a.id,refs:1,parts:r}}}}function l(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var a=n.nc;a&&(t.attributes.nonce=a)}if(Object.keys(t.attributes).forEach((function(n){e.setAttribute(n,t.attributes[n])})),"function"==typeof t.insert)t.insert(e);else{var o=i(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var c,d=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function p(t,e,n,a){var o=n?"":a.css;if(t.styleSheet)t.styleSheet.cssText=d(e,o);else{var i=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}var u=null,h=0;function m(t,e){var n,a,o;if(e.singleton){var i=h++;n=u||(u=l(e)),a=p.bind(null,n,i,!1),o=p.bind(null,n,i,!0)}else n=l(e),a=function(t,e,n){var a=n.css,o=n.media,i=n.sourceMap;if(o&&t.setAttribute("media",o),i&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).attributes="object"==_typeof(e.attributes)?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var n=s(t,e);return r(n,e),function(t){for(var a=[],i=0;i<n.length;i++){var l=n[i],c=o[l.id];c&&(c.refs--,a.push(c))}t&&r(s(t,e),e);for(var d=0;d<a.length;d++){var p=a[d];if(0===p.refs){for(var u=0;u<p.parts.length;u++)p.parts[u]();delete o[p.id]}}}}}])})),$(document).ready((function(){var t=$(window.location.pathname.split("/")).get(-1);$.ajax({method:"POST",url:"/api/apps/woocommerce/keys/get?projectId="+t,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){$("#modal-content").hide(),errorAjaxResponse(t)},success:function(t){$("#consumer_k").attr("placeholder",t.consumer_k+"..."),$("#consumer_s").attr("placeholder",t.consumer_s+"...")}}),$("#bt-modal-woocommerce-apikeys").click((function(){var e=$("#consumer_k").val(),n=$("#consumer_s").val();if(!e||!n)return alertCustom("error","Informe os novos valores das chaves de acesso!"),!1;$.ajax({method:"POST",data:{consumer_key:e,consumer_secret:n},url:"/api/apps/woocommerce/keys/update?projectId="+t,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){$("#modal-content").hide(),errorAjaxResponse(t)},success:function(t){$("#close-modal").click(),1==t.status?alertCustom("success","Chaves de acesso atualizadas com sucesso!"):alertCustom("error","Erro ao atualizar as chaves!")}})})),$("#bt-modal-sync-woocommerce").click((function(){var e=$("#opt_prod").is(":checked"),n=$("#opt_track").is(":checked"),a=$("#opt_webhooks").is(":checked");if(!e&&!n&&!a)return alertCustom("error","Selecione uma ou mais categorias de dados para sincronizar!"),$("#close-modal").click(),!1;$("#_content").hide(),$("#_loading").show(),$.ajax({method:"POST",data:{opt_prod:e,opt_track:n,opt_webhooks:a},url:"/api/apps/woocommerce/synchronize/products?projectId="+t,dataType:"json",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},error:function(t){$("#modal-content").hide(),errorAjaxResponse(t)},success:function(t){$("#close-modal").click(),setTimeout((function(){$("#_loading").hide(),$("#_content").show()}),200),1==t.status?alertCustom("success","Sincronização de dados foi iniciada!"):alertCustom("error","Já existe uma sincronização de dados em andamento!")}})}))})),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t:t(jQuery)}((function(t){function e(e){var s=e||window.event,r=l.call(arguments,1),c=0,p=0,u=0,h=0,m=0,f=0;if((e=t.event.fix(s)).type="mousewheel","detail"in s&&(u=-1*s.detail),"wheelDelta"in s&&(u=s.wheelDelta),"wheelDeltaY"in s&&(u=s.wheelDeltaY),"wheelDeltaX"in s&&(p=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(p=-1*u,u=0),c=0===u?p:u,"deltaY"in s&&(c=u=-1*s.deltaY),"deltaX"in s&&(p=s.deltaX,0===u&&(c=-1*p)),0!==u||0!==p){if(1===s.deltaMode){var g=t.data(this,"mousewheel-line-height");c*=g,u*=g,p*=g}else if(2===s.deltaMode){var v=t.data(this,"mousewheel-page-height");c*=v,u*=v,p*=v}if(h=Math.max(Math.abs(u),Math.abs(p)),(!i||i>h)&&(i=h,a(s,h)&&(i/=40)),a(s,h)&&(c/=40,p/=40,u/=40),c=Math[c>=1?"floor":"ceil"](c/i),p=Math[p>=1?"floor":"ceil"](p/i),u=Math[u>=1?"floor":"ceil"](u/i),d.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();m=e.clientX-y.left,f=e.clientY-y.top}return e.deltaX=p,e.deltaY=u,e.deltaFactor=i,e.offsetX=m,e.offsetY=f,e.deltaMode=0,r.unshift(e,c,p,u),o&&clearTimeout(o),o=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,r)}}function n(){i=null}function a(t,e){return d.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var o,i,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=s.length;c;)t.event.fixHooks[s[--c]]=t.event.mouseHooks;var d=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=r.length;n;)this.addEventListener(r[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",d.getLineHeight(this)),t.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=r.length;n;)this.removeEventListener(r[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),a=n["offsetParent"in t.fn?"offsetParent":"parent"]();return a.length||(a=t("body")),parseInt(a.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t:t(jQuery,window,document)}((function(t){var e,n,a,o,i,s,r,l,c,d,p,u,h,m,f,g,v,y,b,$,x,_,w,C,k,j,S,A,T,E,O,z,D,I,R,B,M,P,F,L,H,q,N,U,W,G,V,Y,X,Z,K,Q,J,tt,et,nt,at,ot,it,st,rt;it="function"==typeof define&&define.amd,st="undefined"!=typeof module&&module.exports,rt="https:"==document.location.protocol?"https:":"http:",it||(st?require("jquery-mousewheel")(t):t.event.special.mousewheel||t("head").append(decodeURI("%3Cscript src="+rt+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),n="mCustomScrollbar",a="mCS",o=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},s=0,r={},l=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],p={init:function(e){e=t.extend(!0,{},i,e);var n=u.call(this);if(e.live){var l=e.liveSelector||this.selector||o,c=t(l);if("off"===e.live)return void m(l);r[l]=setTimeout((function(){c.mCustomScrollbar(e),"once"===e.live&&c.length&&m(l)}),500)}else m(l);return e.setWidth=e.set_width?e.set_width:e.setWidth,e.setHeight=e.set_height?e.set_height:e.setHeight,e.axis=e.horizontalScroll?"x":f(e.axis),e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia,"object"!==_typeof(e.mouseWheel)&&1==e.mouseWheel&&(e.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount,e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta,e.scrollButtons.scrollType=g(e.scrollButtons.scrollType),h(e),t(n).each((function(){var n=t(this);if(!n.data(a)){n.data(a,{idx:++s,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var o=n.data(a),i=o.opt,r=n.data("mcs-axis"),l=n.data("mcs-scrollbar-position"),c=n.data("mcs-theme");r&&(i.axis=r),l&&(i.scrollbarPosition=l),c&&(i.theme=c,h(i)),v.call(this),o&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),t("#mCSB_"+o.idx+"_container img:not(."+d[2]+")").addClass(d[2]),p.update.call(null,n)}}))},update:function(e,n){var o=e||u.call(this);return t(o).each((function(){var e=t(this);if(e.data(a)){var o=e.data(a),i=o.opt,s=t("#mCSB_"+o.idx+"_container"),r=t("#mCSB_"+o.idx),l=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")];if(!s.length)return;o.tweenRunning&&Y(e),n&&o&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),e.hasClass(d[3])&&e.removeClass(d[3]),e.hasClass(d[4])&&e.removeClass(d[4]),r.css("max-height","none"),r.height()!==e.height()&&r.css("max-height",e.height()),b.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||s.css("width",y(s)),o.overflowed=C.call(this),A.call(this),i.autoDraggerLength&&x.call(this),_.call(this),j.call(this);var c=[Math.abs(s[0].offsetTop),Math.abs(s[0].offsetLeft)];"x"!==i.axis&&(o.overflowed[0]?l[0].height()>l[0].parent().height()?k.call(this):(X(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),o.contentReset.y=null):(k.call(this),"y"===i.axis?S.call(this):"yx"===i.axis&&o.overflowed[1]&&X(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(o.overflowed[1]?l[1].width()>l[1].parent().width()?k.call(this):(X(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),o.contentReset.x=null):(k.call(this),"x"===i.axis?S.call(this):"yx"===i.axis&&o.overflowed[0]&&X(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&o&&(2===n&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===n&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),G.call(this)}}))},scrollTo:function(e,n){if(void 0!==e&&null!=e){var o=u.call(this);return t(o).each((function(){var o=t(this);if(o.data(a)){var i=o.data(a),s=i.opt,r={trigger:"external",scrollInertia:s.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=t.extend(!0,{},r,n),c=U.call(this,e),d=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;c[0]=W.call(this,c[0],"y"),c[1]=W.call(this,c[1],"x"),l.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),l.dur=ot()?0:d,setTimeout((function(){null!==c[0]&&void 0!==c[0]&&"x"!==s.axis&&i.overflowed[0]&&(l.dir="y",l.overwrite="all",X(o,c[0].toString(),l)),null!==c[1]&&void 0!==c[1]&&"y"!==s.axis&&i.overflowed[1]&&(l.dir="x",l.overwrite="none",X(o,c[1].toString(),l))}),l.timeout)}}))}},stop:function(){var e=u.call(this);return t(e).each((function(){var e=t(this);e.data(a)&&Y(e)}))},disable:function(e){var n=u.call(this);return t(n).each((function(){var n=t(this);n.data(a)&&(n.data(a),G.call(this,"remove"),S.call(this),e&&k.call(this),A.call(this,!0),n.addClass(d[3]))}))},destroy:function(){var e=u.call(this);return t(e).each((function(){var o=t(this);if(o.data(a)){var i=o.data(a),s=i.opt,r=t("#mCSB_"+i.idx),l=t("#mCSB_"+i.idx+"_container"),c=t(".mCSB_"+i.idx+"_scrollbar");s.live&&m(s.liveSelector||t(e).selector),G.call(this,"remove"),S.call(this),k.call(this),o.removeData(a),J(this,"mcs"),c.remove(),l.find("img."+d[2]).removeClass(d[2]),r.replaceWith(l.contents()),o.removeClass(n+" _"+a+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}}))}},u=function(){return"object"!==_typeof(t(this))||t(this).length<1?o:this},h=function(e){var n=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],a=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],o=["minimal","minimal-dark"],i=["minimal","minimal-dark"],s=["minimal","minimal-dark"];e.autoDraggerLength=!(t.inArray(e.theme,n)>-1)&&e.autoDraggerLength,e.autoExpandScrollbar=!(t.inArray(e.theme,a)>-1)&&e.autoExpandScrollbar,e.scrollButtons.enable=!(t.inArray(e.theme,o)>-1)&&e.scrollButtons.enable,e.autoHideScrollbar=t.inArray(e.theme,i)>-1||e.autoHideScrollbar,e.scrollbarPosition=t.inArray(e.theme,s)>-1?"outside":e.scrollbarPosition},m=function(t){r[t]&&(clearTimeout(r[t]),J(r,t))},f=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},g=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},v=function(){var e=t(this),o=e.data(a),i=o.opt,s=i.autoExpandScrollbar?" "+d[1]+"_expand":"",r=["<div id='mCSB_"+o.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+s+"'><div class='"+d[12]+"'><div id='mCSB_"+o.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+o.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+s+"'><div class='"+d[12]+"'><div id='mCSB_"+o.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?r[0]+r[1]:"x"===i.axis?r[1]:r[0],p="yx"===i.axis?"<div id='mCSB_"+o.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",u=i.autoHideScrollbar?" "+d[6]:"",h="x"!==i.axis&&"rtl"===o.langDir?" "+d[7]:"";i.setWidth&&e.css("width",i.setWidth),i.setHeight&&e.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===o.langDir?"989999px":i.setLeft,e.addClass(n+" _"+a+"_"+o.idx+u+h).wrapInner("<div id='mCSB_"+o.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+l+"'><div id='mCSB_"+o.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir='"+o.langDir+"' /></div>");var m=t("#mCSB_"+o.idx),f=t("#mCSB_"+o.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||f.css("width",y(f)),"outside"===i.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),f.wrap(p)),$.call(this);var g=[t("#mCSB_"+o.idx+"_dragger_vertical"),t("#mCSB_"+o.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},y=function(e){var n=[e[0].scrollWidth,Math.max.apply(Math,e.children().map((function(){return t(this).outerWidth(!0)})).get())],a=e.parent().width();return n[0]>a?n[0]:n[1]>a?n[1]:"100%"},b=function(){var e=t(this).data(a),n=e.opt,o=t("#mCSB_"+e.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){o.css({width:"auto","min-width":0,"overflow-x":"scroll"});var i=Math.ceil(o[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&i>o.parent().width()?o.css({width:i,"min-width":"100%","overflow-x":"inherit"}):o.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(o[0].getBoundingClientRect().right+.4)-Math.floor(o[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},$=function(){var e=t(this).data(a),n=e.opt,o=t(".mCSB_"+e.idx+"_scrollbar:first"),i=nt(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+d[13]+"' "+i+" />","<a href='#' class='"+d[14]+"' "+i+" />","<a href='#' class='"+d[15]+"' "+i+" />","<a href='#' class='"+d[16]+"' "+i+" />"],r=["x"===n.axis?s[2]:s[0],"x"===n.axis?s[3]:s[1],s[2],s[3]];n.scrollButtons.enable&&o.prepend(r[0]).append(r[1]).next(".mCSB_scrollTools").prepend(r[2]).append(r[3])},x=function(){var e=t(this).data(a),n=t("#mCSB_"+e.idx),o=t("#mCSB_"+e.idx+"_container"),i=[t("#mCSB_"+e.idx+"_dragger_vertical"),t("#mCSB_"+e.idx+"_dragger_horizontal")],s=[n.height()/o.outerHeight(!1),n.width()/o.outerWidth(!1)],r=[parseInt(i[0].css("min-height")),Math.round(s[0]*i[0].parent().height()),parseInt(i[1].css("min-width")),Math.round(s[1]*i[1].parent().width())],c=l&&r[1]<r[0]?r[0]:r[1],d=l&&r[3]<r[2]?r[2]:r[3];i[0].css({height:c,"max-height":i[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":r[0]+"px"}),i[1].css({width:d,"max-width":i[1].parent().width()-10})},_=function(){var e=t(this).data(a),n=t("#mCSB_"+e.idx),o=t("#mCSB_"+e.idx+"_container"),i=[t("#mCSB_"+e.idx+"_dragger_vertical"),t("#mCSB_"+e.idx+"_dragger_horizontal")],s=[o.outerHeight(!1)-n.height(),o.outerWidth(!1)-n.width()],r=[s[0]/(i[0].parent().height()-i[0].height()),s[1]/(i[1].parent().width()-i[1].width())];e.scrollRatio={y:r[0],x:r[1]}},w=function(t,e,n){var a=n?d[0]+"_expanded":"",o=t.closest(".mCSB_scrollTools");"active"===e?(t.toggleClass(d[0]+" "+a),o.toggleClass(d[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(d[0]),o.removeClass(d[1])):(t.addClass(d[0]),o.addClass(d[1])))},C=function(){var e=t(this).data(a),n=t("#mCSB_"+e.idx),o=t("#mCSB_"+e.idx+"_container"),i=null==e.overflowed?o.height():o.outerHeight(!1),s=null==e.overflowed?o.width():o.outerWidth(!1),r=o[0].scrollHeight,l=o[0].scrollWidth;return r>i&&(i=r),l>s&&(s=l),[i>n.height(),s>n.width()]},k=function(){var e=t(this),n=e.data(a),o=n.opt,i=t("#mCSB_"+n.idx),s=t("#mCSB_"+n.idx+"_container"),r=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")];if(Y(e),("x"!==o.axis&&!n.overflowed[0]||"y"===o.axis&&n.overflowed[0])&&(r[0].add(s).css("top",0),X(e,"_resetY")),"y"!==o.axis&&!n.overflowed[1]||"x"===o.axis&&n.overflowed[1]){var l=dx=0;"rtl"===n.langDir&&(l=i.width()-s.outerWidth(!1),dx=Math.abs(l/n.scrollRatio.x)),s.css("left",l),r[1].css("left",dx),X(e,"_resetX")}},j=function(){var e,n=t(this),o=n.data(a),i=o.opt;o.bindEvents||(E.call(this),i.contentTouchScroll&&O.call(this),z.call(this),i.mouseWheel.enable&&function a(){e=setTimeout((function(){t.event.special.mousewheel?(clearTimeout(e),D.call(n[0])):a()}),100)}(),P.call(this),L.call(this),i.advanced.autoScrollOnFocus&&F.call(this),i.scrollButtons.enable&&H.call(this),i.keyboard.enable&&q.call(this),o.bindEvents=!0)},S=function(){var e=t(this),n=e.data(a),o=n.opt,i=a+"_"+n.idx,s=".mCSB_"+n.idx+"_scrollbar",r=t("#mCSB_"+n.idx+",#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,"+s+" ."+d[12]+",#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal,"+s+">a");t("#mCSB_"+n.idx+"_container"),o.advanced.releaseDraggableSelectors&&r.add(t(o.advanced.releaseDraggableSelectors)),o.advanced.extraDraggableSelectors&&r.add(t(o.advanced.extraDraggableSelectors)),n.bindEvents&&(t(document).add(t(!R()||top.document)).unbind("."+i),r.each((function(){t(this).unbind("."+i)})),clearTimeout(e[0]._focusTimeout),J(e[0],"_focusTimeout"),clearTimeout(n.sequential.step),J(n.sequential,"step"),n.bindEvents=!1)},A=function(e){var n=t(this),o=n.data(a),i=o.opt,s=t("#mCSB_"+o.idx+"_container_wrapper"),r=s.length?s:t("#mCSB_"+o.idx+"_container"),l=[t("#mCSB_"+o.idx+"_scrollbar_vertical"),t("#mCSB_"+o.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==i.axis&&(o.overflowed[0]&&!e?(l[0].add(c[0]).add(l[0].children("a")).css("display","block"),r.removeClass(d[8]+" "+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),r.removeClass(d[10])):(l[0].css("display","none"),r.addClass(d[10])),r.addClass(d[8]))),"y"!==i.axis&&(o.overflowed[1]&&!e?(l[1].add(c[1]).add(l[1].children("a")).css("display","block"),r.removeClass(d[9]+" "+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),r.removeClass(d[11])):(l[1].css("display","none"),r.addClass(d[11])),r.addClass(d[9]))),o.overflowed[0]||o.overflowed[1]?n.removeClass(d[5]):n.addClass(d[5])},T=function(e){var n=e.type,a=e.target.ownerDocument!==document&&null!==frameElement?[t(frameElement).offset().top,t(frameElement).offset().left]:null,o=R()&&e.target.ownerDocument!==top.document&&null!==frameElement?[t(e.view.frameElement).offset().top,t(e.view.frameElement).offset().left]:[0,0];switch(n){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return a?[e.originalEvent.pageY-a[0]+o[0],e.originalEvent.pageX-a[1]+o[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],s=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[i.screenY,i.screenX,s>1]:[i.pageY,i.pageX,s>1];default:return a?[e.pageY-a[0]+o[0],e.pageX-a[1]+o[1],!1]:[e.pageY,e.pageX,!1]}},E=function(){var e,n,o,i=t(this),s=i.data(a),r=s.opt,d=a+"_"+s.idx,p=["mCSB_"+s.idx+"_dragger_vertical","mCSB_"+s.idx+"_dragger_horizontal"],u=t("#mCSB_"+s.idx+"_container"),h=t("#"+p[0]+",#"+p[1]),m=r.advanced.releaseDraggableSelectors?h.add(t(r.advanced.releaseDraggableSelectors)):h,f=r.advanced.extraDraggableSelectors?t(!R()||top.document).add(t(r.advanced.extraDraggableSelectors)):t(!R()||top.document);function g(t,n,a,o){if(u[0].idleTimer=r.scrollInertia<233?250:0,e.attr("id")===p[1])var l="x",c=(e[0].offsetLeft-n+o)*s.scrollRatio.x;else l="y",c=(e[0].offsetTop-t+a)*s.scrollRatio.y;X(i,c.toString(),{dir:l,drag:!0})}h.bind("contextmenu."+d,(function(t){t.preventDefault()})).bind("mousedown."+d+" touchstart."+d+" pointerdown."+d+" MSPointerDown."+d,(function(a){if(a.stopImmediatePropagation(),a.preventDefault(),tt(a)){c=!0,l&&(document.onselectstart=function(){return!1}),B.call(u,!1),Y(i);var s=(e=t(this)).offset(),d=T(a)[0]-s.top,p=T(a)[1]-s.left,h=e.height()+s.top,m=e.width()+s.left;d<h&&d>0&&p<m&&p>0&&(n=d,o=p),w(e,"active",r.autoExpandScrollbar)}})).bind("touchmove."+d,(function(t){t.stopImmediatePropagation(),t.preventDefault();var a=e.offset(),i=T(t)[0]-a.top,s=T(t)[1]-a.left;g(n,o,i,s)})),t(document).add(f).bind("mousemove."+d+" pointermove."+d+" MSPointerMove."+d,(function(t){if(e){var a=e.offset(),i=T(t)[0]-a.top,s=T(t)[1]-a.left;if(n===i&&o===s)return;g(n,o,i,s)}})).add(m).bind("mouseup."+d+" touchend."+d+" pointerup."+d+" MSPointerUp."+d,(function(t){e&&(w(e,"active",r.autoExpandScrollbar),e=null),c=!1,l&&(document.onselectstart=null),B.call(u,!0)}))},O=function(){var n,o,i,s,r,l,d,p,u,h,m,f,g,v,y=t(this),b=y.data(a),$=b.opt,x=a+"_"+b.idx,_=t("#mCSB_"+b.idx),w=t("#mCSB_"+b.idx+"_container"),C=[t("#mCSB_"+b.idx+"_dragger_vertical"),t("#mCSB_"+b.idx+"_dragger_horizontal")],k=[],j=[],S=0,A="yx"===$.axis?"none":"all",E=[],O=w.find("iframe"),z=["touchstart."+x+" pointerdown."+x+" MSPointerDown."+x,"touchmove."+x+" pointermove."+x+" MSPointerMove."+x,"touchend."+x+" pointerup."+x+" MSPointerUp."+x],D=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;function I(t){if(!et(t)||c||T(t)[2])e=0;else{e=1,g=0,v=0,n=1,y.removeClass("mCS_touch_action");var a=w.offset();o=T(t)[0]-a.top,i=T(t)[1]-a.left,E=[T(t)[0],T(t)[1]]}}function B(t){if(et(t)&&!c&&!T(t)[2]&&($.documentTouchScroll||t.preventDefault(),t.stopImmediatePropagation(),(!v||g)&&n)){d=K();var e=_.offset(),a=T(t)[0]-e.top,s=T(t)[1]-e.left,r="mcsLinearOut";if(k.push(a),j.push(s),E[2]=Math.abs(T(t)[0]-E[0]),E[3]=Math.abs(T(t)[1]-E[1]),b.overflowed[0])var l=C[0].parent().height()-C[0].height(),p=o-a>0&&a-o>-l*b.scrollRatio.y&&(2*E[3]<E[2]||"yx"===$.axis);if(b.overflowed[1])var u=C[1].parent().width()-C[1].width(),h=i-s>0&&s-i>-u*b.scrollRatio.x&&(2*E[2]<E[3]||"yx"===$.axis);p||h?(D||t.preventDefault(),g=1):(v=1,y.addClass("mCS_touch_action")),D&&t.preventDefault(),m="yx"===$.axis?[o-a,i-s]:"x"===$.axis?[null,i-s]:[o-a,null],w[0].idleTimer=250,b.overflowed[0]&&L(m[0],S,r,"y","all",!0),b.overflowed[1]&&L(m[1],S,r,"x",A,!0)}}function M(t){if(!et(t)||c||T(t)[2])e=0;else{e=1,t.stopImmediatePropagation(),Y(y),l=K();var n=_.offset();s=T(t)[0]-n.top,r=T(t)[1]-n.left,k=[],j=[]}}function P(t){if(et(t)&&!c&&!T(t)[2]){n=0,t.stopImmediatePropagation(),g=0,v=0,p=K();var e=_.offset(),a=T(t)[0]-e.top,o=T(t)[1]-e.left;if(!(p-d>30)){var i="mcsEaseOut",y=(h=1e3/(p-l))<2.5,x=y?[k[k.length-2],j[j.length-2]]:[0,0];u=y?[a-x[0],o-x[1]]:[a-s,o-r];var C=[Math.abs(u[0]),Math.abs(u[1])];h=y?[Math.abs(u[0]/4),Math.abs(u[1]/4)]:[h,h];var S=[Math.abs(w[0].offsetTop)-u[0]*F(C[0]/h[0],h[0]),Math.abs(w[0].offsetLeft)-u[1]*F(C[1]/h[1],h[1])];m="yx"===$.axis?[S[0],S[1]]:"x"===$.axis?[null,S[1]]:[S[0],null],f=[4*C[0]+$.scrollInertia,4*C[1]+$.scrollInertia];var E=parseInt($.contentTouchScroll)||0;m[0]=C[0]>E?m[0]:0,m[1]=C[1]>E?m[1]:0,b.overflowed[0]&&L(m[0],f[0],i,"y",A,!1),b.overflowed[1]&&L(m[1],f[1],i,"x",A,!1)}}}function F(t,e){var n=[1.5*e,2*e,e/1.5,e/2];return t>90?e>4?n[0]:n[3]:t>60?e>3?n[3]:n[2]:t>30?e>8?n[1]:e>6?n[0]:e>4?e:n[2]:e>8?e:n[3]}function L(t,e,n,a,o,i){t&&X(y,t.toString(),{dur:e,scrollEasing:n,dir:a,overwrite:o,drag:i})}w.bind(z[0],(function(t){I(t)})).bind(z[1],(function(t){B(t)})),_.bind(z[0],(function(t){M(t)})).bind(z[2],(function(t){P(t)})),O.length&&O.each((function(){t(this).bind("load",(function(){R(this)&&t(this.contentDocument||this.contentWindow.document).bind(z[0],(function(t){I(t),M(t)})).bind(z[1],(function(t){B(t)})).bind(z[2],(function(t){P(t)}))}))}))},z=function(){var n,o=t(this),i=o.data(a),s=i.opt,r=i.sequential,l=a+"_"+i.idx,d=t("#mCSB_"+i.idx+"_container"),p=d.parent();function u(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function h(t,e,a){r.type=a&&n?"stepped":"stepless",r.scrollAmount=10,N(o,t,e,"mcsLinearOut",a?60:null)}d.bind("mousedown."+l,(function(t){e||n||(n=1,c=!0)})).add(document).bind("mousemove."+l,(function(t){if(!e&&n&&u()){var a=d.offset(),o=T(t)[0]-a.top+d[0].offsetTop,l=T(t)[1]-a.left+d[0].offsetLeft;o>0&&o<p.height()&&l>0&&l<p.width()?r.step&&h("off",null,"stepped"):("x"!==s.axis&&i.overflowed[0]&&(o<0?h("on",38):o>p.height()&&h("on",40)),"y"!==s.axis&&i.overflowed[1]&&(l<0?h("on",37):l>p.width()&&h("on",39)))}})).bind("mouseup."+l+" dragend."+l,(function(t){e||(n&&(n=0,h("off",null)),c=!1)}))},D=function(){if(t(this).data(a)){var e=t(this),n=e.data(a),o=n.opt,i=a+"_"+n.idx,s=t("#mCSB_"+n.idx),r=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],c=t("#mCSB_"+n.idx+"_container").find("iframe");c.length&&c.each((function(){t(this).bind("load",(function(){R(this)&&t(this.contentDocument||this.contentWindow.document).bind("mousewheel."+i,(function(t,e){d(t,e)}))}))})),s.bind("mousewheel."+i,(function(t,e){d(t,e)}))}function d(a,i){if(Y(e),!M(e,a.target)){var c="auto"!==o.mouseWheel.deltaFactor?parseInt(o.mouseWheel.deltaFactor):l&&a.deltaFactor<100?100:a.deltaFactor||100,d=o.scrollInertia;if("x"===o.axis||"x"===o.mouseWheel.axis)var p="x",u=[Math.round(c*n.scrollRatio.x),parseInt(o.mouseWheel.scrollAmount)],h="auto"!==o.mouseWheel.scrollAmount?u[1]:u[0]>=s.width()?.9*s.width():u[0],m=Math.abs(t("#mCSB_"+n.idx+"_container")[0].offsetLeft),f=r[1][0].offsetLeft,g=r[1].parent().width()-r[1].width(),v="y"===o.mouseWheel.axis?a.deltaY||i:a.deltaX;else p="y",u=[Math.round(c*n.scrollRatio.y),parseInt(o.mouseWheel.scrollAmount)],h="auto"!==o.mouseWheel.scrollAmount?u[1]:u[0]>=s.height()?.9*s.height():u[0],m=Math.abs(t("#mCSB_"+n.idx+"_container")[0].offsetTop),f=r[0][0].offsetTop,g=r[0].parent().height()-r[0].height(),v=a.deltaY||i;"y"===p&&!n.overflowed[0]||"x"===p&&!n.overflowed[1]||((o.mouseWheel.invert||a.webkitDirectionInvertedFromDevice)&&(v=-v),o.mouseWheel.normalizeDelta&&(v=v<0?-1:1),(v>0&&0!==f||v<0&&f!==g||o.mouseWheel.preventDefault)&&(a.stopImmediatePropagation(),a.preventDefault()),a.deltaFactor<5&&!o.mouseWheel.normalizeDelta&&(h=a.deltaFactor,d=17),X(e,(m-v*h).toString(),{dir:p,dur:d}))}}},I=new Object,R=function(e){var n=!1,a=!1,o=null;if(void 0===e?a="#empty":void 0!==t(e).attr("id")&&(a=t(e).attr("id")),!1!==a&&void 0!==I[a])return I[a];if(e){try{o=(e.contentDocument||e.contentWindow.document).body.innerHTML}catch(t){}n=null!==o}else{try{o=top.document.body.innerHTML}catch(t){}n=null!==o}return!1!==a&&(I[a]=n),n},B=function(t){var e=this.find("iframe");if(e.length){var n=t?"auto":"none";e.css("pointer-events",n)}},M=function(e,n){var o=n.nodeName.toLowerCase(),i=e.data(a).opt.mouseWheel.disableOver,s=["select","textarea"];return t.inArray(o,i)>-1&&!(t.inArray(o,s)>-1&&!t(n).is(":focus"))},P=function(){var e,n=t(this),o=n.data(a),i=a+"_"+o.idx,s=t("#mCSB_"+o.idx+"_container"),r=s.parent();t(".mCSB_"+o.idx+"_scrollbar ."+d[12]).bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,(function(n){c=!0,t(n.target).hasClass("mCSB_dragger")||(e=1)})).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,(function(t){c=!1})).bind("click."+i,(function(a){if(e&&(e=0,t(a.target).hasClass(d[12])||t(a.target).hasClass("mCSB_draggerRail"))){Y(n);var i=t(this),l=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!o.overflowed[1])return;var c="x",p=a.pageX>l.offset().left?-1:1,u=Math.abs(s[0].offsetLeft)-p*(.9*r.width())}else{if(!o.overflowed[0])return;c="y",p=a.pageY>l.offset().top?-1:1,u=Math.abs(s[0].offsetTop)-p*(.9*r.height())}X(n,u.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}}))},F=function(){var e=t(this),n=e.data(a),o=n.opt,i=a+"_"+n.idx,s=t("#mCSB_"+n.idx+"_container"),r=s.parent();s.bind("focusin."+i,(function(n){var a=t(document.activeElement),i=s.find(".mCustomScrollBox").length,l=0;a.is(o.advanced.autoScrollOnFocus)&&(Y(e),clearTimeout(e[0]._focusTimeout),e[0]._focusTimer=i?(l+17)*i:0,e[0]._focusTimeout=setTimeout((function(){var t=[at(a)[0],at(a)[1]],n=[s[0].offsetTop,s[0].offsetLeft],i=[n[0]+t[0]>=0&&n[0]+t[0]<r.height()-a.outerHeight(!1),n[1]+t[1]>=0&&n[0]+t[1]<r.width()-a.outerWidth(!1)],c="yx"!==o.axis||i[0]||i[1]?"all":"none";"x"===o.axis||i[0]||X(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:l}),"y"===o.axis||i[1]||X(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:l})}),e[0]._focusTimer))}))},L=function(){var e=t(this).data(a),n=a+"_"+e.idx,o=t("#mCSB_"+e.idx+"_container").parent();o.bind("scroll."+n,(function(n){0===o.scrollTop()&&0===o.scrollLeft()||t(".mCSB_"+e.idx+"_scrollbar").css("visibility","hidden")}))},H=function(){var e=t(this),n=e.data(a),o=n.opt,i=n.sequential,s=a+"_"+n.idx,r=".mCSB_"+n.idx+"_scrollbar";t(r+">a").bind("contextmenu."+s,(function(t){t.preventDefault()})).bind("mousedown."+s+" touchstart."+s+" pointerdown."+s+" MSPointerDown."+s+" mouseup."+s+" touchend."+s+" pointerup."+s+" MSPointerUp."+s+" mouseout."+s+" pointerout."+s+" MSPointerOut."+s+" click."+s,(function(a){if(a.preventDefault(),tt(a)){var s=t(this).attr("class");switch(i.type=o.scrollButtons.scrollType,a.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;c=!0,n.tweenRunning=!1,r("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;c=!1,i.dir&&r("off",s);break;case"click":if("stepped"!==i.type||n.tweenRunning)return;r("on",s)}}function r(t,n){i.scrollAmount=o.scrollButtons.scrollAmount,N(e,t,n)}}))},q=function(){var e=t(this),n=e.data(a),o=n.opt,i=n.sequential,s=a+"_"+n.idx,r=t("#mCSB_"+n.idx),l=t("#mCSB_"+n.idx+"_container"),c=l.parent(),d="input,textarea,select,datalist,keygen,[contenteditable='true']",p=l.find("iframe"),u=["blur."+s+" keydown."+s+" keyup."+s];function h(a){switch(a.type){case"blur":n.tweenRunning&&i.dir&&m("off",null);break;case"keydown":case"keyup":var s=a.keyCode?a.keyCode:a.which,r="on";if("x"!==o.axis&&(38===s||40===s)||"y"!==o.axis&&(37===s||39===s)){if((38===s||40===s)&&!n.overflowed[0]||(37===s||39===s)&&!n.overflowed[1])return;"keyup"===a.type&&(r="off"),t(document.activeElement).is(d)||(a.preventDefault(),a.stopImmediatePropagation(),m(r,s))}else if(33===s||34===s){if((n.overflowed[0]||n.overflowed[1])&&(a.preventDefault(),a.stopImmediatePropagation()),"keyup"===a.type){Y(e);var p=34===s?-1:1;if("x"===o.axis||"yx"===o.axis&&n.overflowed[1]&&!n.overflowed[0])var u="x",h=Math.abs(l[0].offsetLeft)-p*(.9*c.width());else u="y",h=Math.abs(l[0].offsetTop)-p*(.9*c.height());X(e,h.toString(),{dir:u,scrollEasing:"mcsEaseInOut"})}}else 35!==s&&36!==s||t(document.activeElement).is(d)||((n.overflowed[0]||n.overflowed[1])&&(a.preventDefault(),a.stopImmediatePropagation()),"keyup"!==a.type)||("x"===o.axis||"yx"===o.axis&&n.overflowed[1]&&!n.overflowed[0]?(u="x",h=35===s?Math.abs(c.width()-l.outerWidth(!1)):0):(u="y",h=35===s?Math.abs(c.height()-l.outerHeight(!1)):0),X(e,h.toString(),{dir:u,scrollEasing:"mcsEaseInOut"}))}function m(t,a){i.type=o.keyboard.scrollType,i.scrollAmount=o.keyboard.scrollAmount,"stepped"===i.type&&n.tweenRunning||N(e,t,a)}}p.length&&p.each((function(){t(this).bind("load",(function(){R(this)&&t(this.contentDocument||this.contentWindow.document).bind(u[0],(function(t){h(t)}))}))})),r.attr("tabindex","0").bind(u[0],(function(t){h(t)}))},N=function(e,n,o,i,s){var r=e.data(a),l=r.opt,c=r.sequential,p=t("#mCSB_"+r.idx+"_container"),u="stepped"===c.type,h=l.scrollInertia<26?26:l.scrollInertia,m=l.scrollInertia<1?17:l.scrollInertia;switch(n){case"on":if(c.dir=[o===d[16]||o===d[15]||39===o||37===o?"x":"y",o===d[13]||o===d[15]||38===o||37===o?-1:1],Y(e),nt(o)&&"stepped"===c.type)return;f(u);break;case"off":g(),(u||r.tweenRunning&&c.dir)&&f(!0)}function f(t){l.snapAmount&&(c.scrollAmount=l.snapAmount instanceof Array?"x"===c.dir[0]?l.snapAmount[1]:l.snapAmount[0]:l.snapAmount);var n="stepped"!==c.type,a=s||(t?n?h/1.5:m:1e3/60),o=t?n?7.5:40:2.5,d=[Math.abs(p[0].offsetTop),Math.abs(p[0].offsetLeft)],u=[r.scrollRatio.y>10?10:r.scrollRatio.y,r.scrollRatio.x>10?10:r.scrollRatio.x],g="x"===c.dir[0]?d[1]+c.dir[1]*(u[1]*o):d[0]+c.dir[1]*(u[0]*o),v="x"===c.dir[0]?d[1]+c.dir[1]*parseInt(c.scrollAmount):d[0]+c.dir[1]*parseInt(c.scrollAmount),y="auto"!==c.scrollAmount?v:g,b=i||(t?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),$=!!t;t&&a<17&&(y="x"===c.dir[0]?d[1]:d[0]),X(e,y.toString(),{dir:c.dir[0],scrollEasing:b,dur:a,onComplete:$}),t?c.dir=!1:(clearTimeout(c.step),c.step=setTimeout((function(){f()}),a))}function g(){clearTimeout(c.step),J(c,"step"),Y(e)}},U=function(e){var n=t(this).data(a).opt,o=[];return"function"==typeof e&&(e=e()),e instanceof Array?o=e.length>1?[e[0],e[1]]:"x"===n.axis?[null,e[0]]:[e[0],null]:(o[0]=e.y?e.y:e.x||"x"===n.axis?null:e,o[1]=e.x?e.x:e.y||"y"===n.axis?null:e),"function"==typeof o[0]&&(o[0]=o[0]()),"function"==typeof o[1]&&(o[1]=o[1]()),o},W=function(e,n){if(null!=e&&void 0!==e){var o=t(this),i=o.data(a),s=i.opt,r=t("#mCSB_"+i.idx+"_container"),l=r.parent(),c=_typeof(e);n||(n="x"===s.axis?"x":"y");var d="x"===n?r.outerWidth(!1)-l.width():r.outerHeight(!1)-l.height(),u="x"===n?r[0].offsetLeft:r[0].offsetTop,h="x"===n?"left":"top";switch(c){case"function":return e();case"object":if(!(f=e.jquery?e:t(e)).length)return;return"x"===n?at(f)[1]:at(f)[0];case"string":case"number":if(nt(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(d*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(u-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var m=u+parseInt(e.split("+=")[1]);return m>=0?0:Math.abs(m)}if(-1!==e.indexOf("px")&&nt(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(l.height()-r.outerHeight(!1));if("right"===e)return Math.abs(l.width()-r.outerWidth(!1));if("first"===e||"last"===e){var f=r.find(":"+e);return"x"===n?at(f)[1]:at(f)[0]}return t(e).length?"x"===n?at(t(e))[1]:at(t(e))[0]:(r.css(h,e),void p.update.call(null,o[0]))}}},G=function(e){var n=t(this),o=n.data(a),i=o.opt,s=t("#mCSB_"+o.idx+"_container");if(s.length){if(e)return clearTimeout(s[0].autoUpdate),void J(s[0],"autoUpdate");r()}function r(){clearTimeout(s[0].autoUpdate),0!==n.parents("html").length?s[0].autoUpdate=setTimeout((function(){return i.advanced.updateOnSelectorChange&&(o.poll.change.n=c(),o.poll.change.n!==o.poll.change.o)?(o.poll.change.o=o.poll.change.n,void u(3)):i.advanced.updateOnContentResize&&(o.poll.size.n=n[0].scrollHeight+n[0].scrollWidth+s[0].offsetHeight+n[0].offsetHeight+n[0].offsetWidth,o.poll.size.n!==o.poll.size.o)?(o.poll.size.o=o.poll.size.n,void u(1)):!i.advanced.updateOnImageLoad||"auto"===i.advanced.updateOnImageLoad&&"y"===i.axis||(o.poll.img.n=s.find("img").length,o.poll.img.n===o.poll.img.o)?void((i.advanced.updateOnSelectorChange||i.advanced.updateOnContentResize||i.advanced.updateOnImageLoad)&&r()):(o.poll.img.o=o.poll.img.n,void s.find("img").each((function(){l(this)})))}),i.advanced.autoUpdateTimeout):n=null}function l(e){if(t(e).hasClass(d[2]))u();else{var n=new Image;n.onload=a(n,o),n.src=e.src}function a(t,e){return function(){return e.apply(t,arguments)}}function o(){this.onload=null,t(e).addClass(d[2]),u(2)}}function c(){!0===i.advanced.updateOnSelectorChange&&(i.advanced.updateOnSelectorChange="*");var t=0,e=s.find(i.advanced.updateOnSelectorChange);return i.advanced.updateOnSelectorChange&&e.length>0&&e.each((function(){t+=this.offsetHeight+this.offsetWidth})),t}function u(t){clearTimeout(s[0].autoUpdate),p.update.call(null,n[0],t)}},V=function(t,e,n){return Math.round(t/e)*e-n},Y=function(e){var n=e.data(a);t("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal").each((function(){Q.call(this)}))},X=function(e,n,o){var i=e.data(a),s=i.opt,r={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:s.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=[(o=t.extend(r,o)).dur,o.drag?0:o.dur],c=t("#mCSB_"+i.idx),d=t("#mCSB_"+i.idx+"_container"),p=d.parent(),u=s.callbacks.onTotalScrollOffset?U.call(e,s.callbacks.onTotalScrollOffset):[0,0],h=s.callbacks.onTotalScrollBackOffset?U.call(e,s.callbacks.onTotalScrollBackOffset):[0,0];if(i.trigger=o.trigger,0===p.scrollTop()&&0===p.scrollLeft()||(t(".mCSB_"+i.idx+"_scrollbar").css("visibility","visible"),p.scrollTop(0).scrollLeft(0)),"_resetY"!==n||i.contentReset.y||(k("onOverflowYNone")&&s.callbacks.onOverflowYNone.call(e[0]),i.contentReset.y=1),"_resetX"!==n||i.contentReset.x||(k("onOverflowXNone")&&s.callbacks.onOverflowXNone.call(e[0]),i.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){if(!i.contentReset.y&&e[0].mcs||!i.overflowed[0]||(k("onOverflowY")&&s.callbacks.onOverflowY.call(e[0]),i.contentReset.x=null),!i.contentReset.x&&e[0].mcs||!i.overflowed[1]||(k("onOverflowX")&&s.callbacks.onOverflowX.call(e[0]),i.contentReset.x=null),s.snapAmount){var m=s.snapAmount instanceof Array?"x"===o.dir?s.snapAmount[1]:s.snapAmount[0]:s.snapAmount;n=V(n,m,s.snapOffset)}switch(o.dir){case"x":var f=t("#mCSB_"+i.idx+"_dragger_horizontal"),g="left",v=d[0].offsetLeft,y=[c.width()-d.outerWidth(!1),f.parent().width()-f.width()],b=[n,0===n?0:n/i.scrollRatio.x],$=u[1],x=h[1],_=$>0?$/i.scrollRatio.x:0,C=x>0?x/i.scrollRatio.x:0;break;case"y":f=t("#mCSB_"+i.idx+"_dragger_vertical"),g="top",v=d[0].offsetTop,y=[c.height()-d.outerHeight(!1),f.parent().height()-f.height()],b=[n,0===n?0:n/i.scrollRatio.y],$=u[0],x=h[0],_=$>0?$/i.scrollRatio.y:0,C=x>0?x/i.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=y[1]?b=[y[0],y[1]]:b[0]=-b[0],e[0].mcs||(S(),k("onInit")&&s.callbacks.onInit.call(e[0])),clearTimeout(d[0].onCompleteTimeout),Z(f[0],g,Math.round(b[1]),l[1],o.scrollEasing),!i.tweenRunning&&(0===v&&b[0]>=0||v===y[0]&&b[0]<=y[0])||Z(d[0],g,Math.round(b[0]),l[0],o.scrollEasing,o.overwrite,{onStart:function(){o.callbacks&&o.onStart&&!i.tweenRunning&&(k("onScrollStart")&&(S(),s.callbacks.onScrollStart.call(e[0])),i.tweenRunning=!0,w(f),i.cbOffsets=j())},onUpdate:function(){o.callbacks&&o.onUpdate&&k("whileScrolling")&&(S(),s.callbacks.whileScrolling.call(e[0]))},onComplete:function(){if(o.callbacks&&o.onComplete){"yx"===s.axis&&clearTimeout(d[0].onCompleteTimeout);var t=d[0].idleTimer||0;d[0].onCompleteTimeout=setTimeout((function(){k("onScroll")&&(S(),s.callbacks.onScroll.call(e[0])),k("onTotalScroll")&&b[1]>=y[1]-_&&i.cbOffsets[0]&&(S(),s.callbacks.onTotalScroll.call(e[0])),k("onTotalScrollBack")&&b[1]<=C&&i.cbOffsets[1]&&(S(),s.callbacks.onTotalScrollBack.call(e[0])),i.tweenRunning=!1,d[0].idleTimer=0,w(f,"hide")}),t)}}})}function k(t){return i&&s.callbacks[t]&&"function"==typeof s.callbacks[t]}function j(){return[s.callbacks.alwaysTriggerOffsets||v>=y[0]+$,s.callbacks.alwaysTriggerOffsets||v<=-x]}function S(){var t=[d[0].offsetTop,d[0].offsetLeft],n=[f[0].offsetTop,f[0].offsetLeft],a=[d.outerHeight(!1),d.outerWidth(!1)],i=[c.height(),c.width()];e[0].mcs={content:d,top:t[0],left:t[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(a[0])-i[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(a[1])-i[1])),direction:o.dir}}},Z=function(t,e,n,a,o,i,s){t._mTween||(t._mTween={top:{},left:{}});var r,l,c=(s=s||{}).onStart||function(){},d=s.onUpdate||function(){},p=s.onComplete||function(){},u=K(),h=0,m=t.offsetTop,f=t.style,g=t._mTween[e];"left"===e&&(m=t.offsetLeft);var v=n-m;function y(){g.stop||(h||c.call(),h=K()-u,b(),h>=g.time&&(g.time=h>g.time?h+r-(h-g.time):h+r-1,g.time<h+1&&(g.time=h+1)),g.time<a?g.id=l(y):p.call())}function b(){a>0?(g.currVal=_(g.time,m,v,a,o),f[e]=Math.round(g.currVal)+"px"):f[e]=n+"px",d.call()}function $(){r=1e3/60,g.time=h+r,l=window.requestAnimationFrame?window.requestAnimationFrame:function(t){return b(),setTimeout(t,.01)},g.id=l(y)}function x(){null!=g.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(g.id):clearTimeout(g.id),g.id=null)}function _(t,e,n,a,o){switch(o){case"linear":case"mcsLinear":return n*t/a+e;case"mcsLinearOut":return t/=a,t--,n*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return(t/=a/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e;case"easeInOutStrong":return(t/=a/2)<1?n/2*Math.pow(2,10*(t-1))+e:(t--,n/2*(2-Math.pow(2,-10*t))+e);case"easeInOut":case"mcsEaseInOut":return(t/=a/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e;case"easeOutSmooth":return t/=a,-n*(--t*t*t*t-1)+e;case"easeOutStrong":return n*(1-Math.pow(2,-10*t/a))+e;default:var i=(t/=a)*t,s=i*t;return e+n*(.499999999999997*s*i+-2.5*i*i+5.5*s+-6.5*i+4*t)}}g.stop=0,"none"!==i&&x(),$()},K=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Q=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var e=["top","left"],n=0;n<e.length;n++){var a=e[n];t._mTween[a].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(t._mTween[a].id):clearTimeout(t._mTween[a].id),t._mTween[a].id=null,t._mTween[a].stop=1)}},J=function(t,e){try{delete t[e]}catch(n){t[e]=null}},tt=function(t){return!(t.which&&1!==t.which)},et=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},nt=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},at=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]},ot=function(){var t=e();return!!t&&document[t];function e(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}},t.fn[n]=function(e){return p[e]?p[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==_typeof(e)&&e?void t.error("Method "+e+" does not exist"):p.init.apply(this,arguments)},t[n]=function(e){return p[e]?p[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==_typeof(e)&&e?void t.error("Method "+e+" does not exist"):p.init.apply(this,arguments)},t[n].defaults=i,window[n]=!0,t(window).bind("load",(function(){t(o)[n](),t.extend(t.expr[":"],{mcsInView:t.expr[":"].mcsInView||function(e){var n,a,o=t(e),i=o.parents(".mCSB_container");if(i.length)return n=i.parent(),(a=[i[0].offsetTop,i[0].offsetLeft])[0]+at(o)[0]>=0&&a[0]+at(o)[0]<n.height()-o.outerHeight(!1)&&a[1]+at(o)[1]>=0&&a[1]+at(o)[1]<n.width()-o.outerWidth(!1)},mcsInSight:t.expr[":"].mcsInSight||function(e,n,a){var o,i,s,r,l=t(e),c=l.parents(".mCSB_container"),d="exact"===a[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return o=[l.outerHeight(!1),l.outerWidth(!1)],s=[c[0].offsetTop+at(l)[0],c[0].offsetLeft+at(l)[1]],i=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],r=[o[0]<i[0]?d[0]:d[1],o[1]<i[1]?d[0]:d[1]],s[0]-i[0]*r[0][0]<0&&s[0]+o[0]-i[0]*r[0][1]>=0&&s[1]-i[1]*r[1][0]<0&&s[1]+o[1]-i[1]*r[1][1]>=0},mcsOverflow:t.expr[":"].mcsOverflow||function(e){var n=t(e).data(a);if(n)return n.overflowed[0]||n.overflowed[1]}})}))}));
