function _createForOfIteratorHelper(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=_unsupportedIterableToArray(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var a=0,o=function(){};return{s:o,n:function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,c=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return i=n.done,n},e:function(n){c=!0,r=n},f:function(){try{i||null==t.return||t.return()}finally{if(c)throw r}}}}function _unsupportedIterableToArray(n,e){if(n){if("string"==typeof n)return _arrayLikeToArray(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(n,e):void 0}}function _arrayLikeToArray(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}$((function(){getCompaniesAndProjects().done((function(n){$(".site-navbar .sirius-select-container").addClass("disabled")})),loadingOnScreen(),$.ajax({url:"/api/apps/melhorenvio",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},success:function(n){if(n.data.length){$("#content").html("");var e,t=_createForOfIteratorHelper(n.data);try{for(t.s();!(e=t.n()).done;){var a=e.value,o='<div class="col-sm-6 col-md-4 col-lg-3" id="integration-'.concat(a.id,'">\n                                       <div class="card shadow">\n                                           <img class="card-img-top img-fluid w-full" src="/build/global/img/melhorenvio-mono.png" alt=""/>\n                                           ').concat(a.completed?"":'<div class="btn-authorize" data-id="'.concat(a.id,'"><b>INTEGRAÇÃO NÃO AUTORIZADA.</b> <br> Clique para autorizar </div>'),"\n                                           <div class=\"card-body\">\n                                               <div class='row'>\n                                                   <div class='col-md-10'>\n                                                       <h4 class=\"card-title\">").concat(a.name,'</h4>\n                                                       <span class="card-text">Criado em ').concat(a.created_at,'</span>\n                                                   </div>\n                                                   <div class=\'col-md-2\'>\n                                                       <a role="button" title="Excluir" class="btn-delete" data-id="').concat(a.id,"\">\n                                                           <span class='o-bin-1 pointer'></span>\n                                                       </a>\n                                                   </div>\n                                               </div>\n                                           </div>\n                                       </div>\n                                   </div>");$("#content").append(o)}}catch(n){t.e(n)}finally{t.f()}$("#no-integration-found").hide()}else $("#no-integration-found").show();loadingOnScreenRemove()},error:function(n){errorAjaxResponse(n),loadingOnScreenRemove()}}),$(document).on("click",".btn-authorize",(function(){var n=$(this).data("id");$.ajax({url:"/api/apps/melhorenvio/continue/"+n,headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},success:function(n){window.location.href=n.url},error:function(n){errorAjaxResponse(n)}})})),$(document).on("click",".btn-delete",(function(){var n=$(this).data("id");$("#btn-delete-confirm").data("id",n),$("#modal-delete-integration").modal("show")})),$("#btn-delete-confirm").on("click",(function(){var n=$(this).data("id");$.ajax({method:"POST",url:"/api/apps/melhorenvio/"+n,data:{_method:"DELETE"},headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},success:function(e){$("#integration-"+n).remove(),0===$("#content").length&&$("#no-integration-found").show(),alertCustom("success",e.message)},error:function(n){errorAjaxResponse(n)}})})),$("#btn-save").on("click",(function(){var n=$("#name").val();n&&(loadingOnScreen(),$.ajax({method:"POST",url:"/api/apps/melhorenvio",headers:{Authorization:$('meta[name="access-token"]').attr("content"),Accept:"application/json"},data:{name:n},success:function(n){window.location.href=n.url},error:function(n){loadingOnScreenRemove(),errorAjaxResponse(n)}}))}))}));
